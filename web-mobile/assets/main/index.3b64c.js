window.__require=function t(e,o,n){function i(r,s){if(!o[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return i(e[r][1][t]||t)},u,u.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({ActivityC:[function(t,e,o){"use strict";cc._RF.push(e,"f5d1cuovTxExZF7R+456NWy","ActivityC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("./model/ActivityMgr"),a=t("../public/bag/BagManager"),r=t("../../config/Config"),s=t("../../config/UIConfig"),c=t("../../config/ModuleConfig"),l=t("./view/OfflineView"),u=t("../../cfw/tools/ViewManager"),d=t("../../cfw/ui"),p=t("./view/OnlineView"),h=t("../../cfw/event"),f=t("../../engine/EngineHelper"),g=t("../../extention/redtip/RedTipMgr"),y=t("../../sdk/channel-ts/CMgr"),m=t("../../config/UmengEventID"),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){},e.prototype.showOfflineView=function(){if(y.default.helper.hasOffline()){var t=i.default.instance().getActivityItemModel(1),e=t.getPassTime()/60;e<1&&(e=1),u.default.pushUIView({path:"prefabs/OfflineView",moduleID:c.ModuleID.PUBLIC,uiIndex:s.UIIndex.QUEUE,className:l.default,controller:this,model:t,func:function(){}})}},e.prototype.showOnlineView=function(){if(y.default.helper.hasOnline()&&!d.default.instance().hasView("OnlineView",s.UIIndex.STACK)){h.GEvent.instance().emit(r.EventName.ONLINE_LIGHT_EFFECT,!1);var t=i.default.instance().getActivityItemModel(2);u.default.pushUIView({path:"prefabs/OnlineView",moduleID:c.ModuleID.PUBLIC,uiIndex:s.UIIndex.STACK,className:p.default,controller:this,model:t,func:function(){}})}},e.prototype.getOfflineReward=function(t,e){t.getTokenNum();var o=t.getGoldNum()*e,n=f.default.getMidPos();2==e?y.default.helper.showRewardAd(0,function(e){e&&(d.default.instance().popView(),t.reset(),a.default.instance().updateItemNum(r.ItemID.ENERGY,o,n),y.default.helper.trackEvent(m.default.offline_reward))}):(t.reset(),a.default.instance().updateItemNum(r.ItemID.ENERGY,o,n))},e.prototype.getOnlineReward=function(t,e){if(t.getLeftTime()>0)y.default.helper.showRewardAd(0,function(e){e&&(t.setTime(Date.now()),i.default.instance().checkState(),y.default.helper.trackEvent(m.default.online_reach_time))});else{var o=t.getItem(),n=t.getOnlineToken()*e,s=t.getOnLineGold()*e,c=f.default.getMidPos();2==e?y.default.helper.showRewardAd(0,function(e){e&&(d.default.instance().popView(),t.updateCount(),t.reset(),a.default.instance().updateItemNum(r.ItemID.ENERGY,s,c),g.default.instance().removeRedTip(r.RedTipType.ONLINE),y.default.helper.trackEvent(m.default.online_reward),a.default.instance().updateItemNum(o.getID(),n,c))}):(t.updateCount(),t.reset(),a.default.instance().updateItemNum(r.ItemID.ENERGY,s,c),a.default.instance().updateItemNum(o.getID(),n,c),g.default.instance().removeRedTip(r.RedTipType.ONLINE))}},e}(n.BaseController);o.default=v,cc._RF.pop()},{"../../cfw/event":"event","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../engine/EngineHelper":"EngineHelper","../../extention/redtip/RedTipMgr":"RedTipMgr","../../sdk/channel-ts/CMgr":"CMgr","../public/bag/BagManager":"BagManager","./model/ActivityMgr":"ActivityMgr","./view/OfflineView":"OfflineView","./view/OnlineView":"OnlineView"}],ActivityItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"468998vaFpLdLgc56yqHOma","ActivityItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.ActivityItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../../cfw/time"),r=t("../../../config/Config"),s=t("../../../cfw/local"),c=t("../../../cfw/model"),l=t("../../../cfw/tools/LangManager"),u=t("../../game/model/FoodMgr");(function(t){t[t.name=0]="name",t[t.duration=1]="duration",t[t.perTokenNum=2]="perTokenNum",t[t.perGoldNum=3]="perGoldNum",t[t.time=4]="time",t[t.perExpNum=5]="perExpNum",t[t.state=6]="state",t[t.max=7]="max"})(n=o.ActivityItemModelEnum||(o.ActivityItemModelEnum={}));var d=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getItem=function(){return this.item||(this.item=u.default.instance().getItemByRare(0),this.item.setNum(this.getOnlineToken())),this.item},e.prototype.clear=function(){this.item=null},e.prototype.init=function(e,o){t.prototype.init.call(this,e,o),0==this.getTime()&&this.reset()},e.prototype.reset=function(){this.count||(this.count=new s.LocalValue("ActivityItemModel"+this.ID,0)),this.item=null;var t=this.getDuration(this.count.getInt());this.setTime(Date.now()+6e4*t),this.setState(c.ItemState.NOT_GET)},e.prototype.updateCount=function(){this.count||(this.count=new s.LocalValue("ActivityItemModel"+this.ID,-1)),this.count.updateValue(1)},e.prototype.getName=function(){var t=this.getValue(n.name);return l.default.instance().getLocalString(t)},e.prototype.getDuration=function(t){var e=this.getValue(n.duration);return t>e.length-1&&(t=e.length-1)<0&&(t=0),e[t]},e.prototype.setState=function(t){this.setValue(n.state,t)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.getPerTokenNum=function(){return this.getValue(n.perTokenNum)},e.prototype.getPerGoldNum=function(){return this.getValue(n.perGoldNum)},e.prototype.getTime=function(){return this.getValue(n.time)},e.prototype.getOnlineToken=function(){return this.getPerTokenNum()},e.prototype.getOnLineGold=function(){return this.getPerGoldNum()},e.prototype.setTime=function(t){this.setValue(n.time,t),this.emit(r.EventName.UPDATE_ONLINE_TIME)},e.prototype.getPerExpNum=function(){return this.getValue(n.perExpNum)},e.prototype.getPassTime=function(){var t=Date.now()-this.getTime();return Math.floor(t/1e3)},e.prototype.getTokenNum=function(){var t=this.getPassTime()/60,e=Math.ceil(t*this.getPerTokenNum()),o=this.getMax();return e>o[0]&&(e=o[0]),e},e.prototype.getGoldNum=function(){var t=this.getPassTime()/60,e=Math.ceil(t*this.getPerGoldNum()),o=this.getMax();return e>o[1]&&(e=o[1]),e},e.prototype.getLeftTime=function(){var t=this.getTime();return a.TimeHelper.leftTime(t)},e.prototype.getMax=function(){return this.getValue(n.max)},e.CLASS_NAME="ActivityItemModel",e}(i.DataModel);o.default=d,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/time":"time","../../../cfw/tools/LangManager":"LangManager","../../../config/Config":"Config","../../game/model/FoodMgr":"FoodMgr"}],ActivityMgr:[function(t,e,o){"use strict";cc._RF.push(e,"b6621heEwxHLo76wpJxsFF8","ActivityMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./ActivityItemModel"),r=t("../../../cfw/time"),s=t("../../../cfw/event"),c=t("../../../config/Config"),l=t("../../dailytask/model/DailyTaskMgr"),u=t("../../public/tip/TipC"),d=t("../../../cocos/lang/UIText"),p=t("../../../extention/redtip/RedTipMgr"),h=t("../ActivityC"),f=t("../../../extention/gevent/GameEventAdapter"),g=t("../../../sdk/channel-ts/CMgr"),y=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.activityItemModelMgr=new n.ModelManager,o.timer=new r.CountDownTimer(function(){},1),o.offlineTimeObserver=new r.SheduleTimer(function(){var t=o.getActivityItemModel(1);t&&t.getState()!=n.ItemState.CAN_GET&&t.reset()},10),o.onlineTimeObserver=new r.SheduleTimer(function(){e.instance().checkState(),l.default.instance().updateTaskCount(c.DailyTaskID.GAME_DA_REN,5)},5),o}return __extends(e,t),e.prototype.initData=function(){this.activityItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default);var t=this.getActivityItemModel(2);t&&t.reset()},e.prototype.getActivityItemModel=function(t){return this.activityItemModelMgr.getByID(t)},e.prototype.getActivityItemModelList=function(){return this.activityItemModelMgr.getList()},e.prototype.checkState=function(){if(g.default.helper.hasOnline()){var t=this.getActivityItemModel(2);t&&(this.timer.setTime(t.getTime()),t.getState()==n.ItemState.NOT_GET&&this.timer.getTime()<=0&&(t.setState(n.ItemState.CAN_GET),s.GEvent.instance().emit(c.EventName.ONLINE_LIGHT_EFFECT,!0),p.default.instance().addRedTip(c.RedTipType.ONLINE),u.default.instance().showToast(d.default.instance().getText("40")),cc.tween(this).delay(.2).call(function(){f.default.instance().isOpen()||h.default.instance().showOnlineView()}).start()))}},e}(n.BaseModel);o.default=y,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/time":"time","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","../../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../../sdk/channel-ts/CMgr":"CMgr","../../dailytask/model/DailyTaskMgr":"DailyTaskMgr","../../public/tip/TipC":"TipC","../ActivityC":"ActivityC","./ActivityItemModel":"ActivityItemModel"}],AdaptBg:[function(t,e,o){"use strict";cc._RF.push(e,"692dej14u1AwIrd1IIwpFRm","AdaptBg"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t,e=cc.Canvas.instance.designResolution,o=cc.view.getVisibleSize(),n=o.width/e.width,i=o.height/e.height;t=n>i?n:i,this.node.scale=t},__decorate([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],AdaptUI:[function(t,e,o){"use strict";var n;cc._RF.push(e,"da398iu0llEt4lqIElKJn/v","AdaptUI"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.Portrait=0]="Portrait",t[t.Landscape=1]="Landscape"}(n||(n={}));var i,a=cc.Enum({None:0,AdaptPosForTopBang:1,AdaptPosForBottomBar:2,AdaptSizeForTopBang:3,AdaptSizeForBottomBar:4});(function(t){t[t.HEIGHT=0]="HEIGHT",t[t.WIDTH=1]="WIDTH"})(i||(i={}));var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.num=100,e.target=a.AdaptPosForTopBang,e}return __extends(e,t),e.prototype.start=function(){this.widget=this.node.getComponent(cc.Widget),this.widget||(this.widget=this.node.addComponent(cc.Widget));var t=cc.view.getFrameSize(),e=t.width/t.height,o=cc.Canvas.instance.designResolution,i=o.width/o.height,a=i>e?i-e:e-i,r=a*this.num,s=a*this.num,c=o.height>o.width?n.Portrait:n.Landscape;this.adaptLogic(r,s,c)},e.prototype.adaptLogic=function(t,e,o){switch(this.target){case a.AdaptPosForTopBang:if(0==t)return;switch(o){case n.Portrait:this.widget.top+=t;break;case n.Landscape:this.widget.left+=t}break;case a.AdaptPosForBottomBar:if(0==e)return;switch(o){case n.Portrait:this.widget.bottom+=e;break;case n.Landscape:this.widget.right+=e}break;case a.AdaptSizeForTopBang:if(0==t)return;switch(o){case n.Portrait:this.node.anchorY=1,this.node.height+=t;break;case n.Landscape:this.node.anchorX=0,this.node.width+=t}break;case a.AdaptSizeForBottomBar:if(0==e)return;switch(o){case n.Portrait:this.node.anchorY=0,this.node.height+=e;break;case n.Landscape:this.node.anchorX=1,this.node.width+=e}}},__decorate([c],e.prototype,"num",void 0),__decorate([c({type:a})],e.prototype,"target",void 0),__decorate([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Agreement:[function(t,e,o){"use strict";cc._RF.push(e,"82b07nJAgNIs6IzNSykEBp9","Agreement"),Object.defineProperty(o,"__esModule",{value:!0}),o.Agreement=void 0,o.Agreement={0:{text:"\u7528\u6237\u534f\u8bae",style:{align:"CENTER",bold:!0}},1:{text:"\u91cd\u8981\u987b\u77e5\uff1a",style:{bold:!0}},2:{text:""},3:{text:"",style:{bold:!0}},4:{text:["1\u3010\u5b9a\u4e49\u3011\n",""]},5:{text:["2\u3010\u6e38\u620f\u8d26\u53f7\u3011\n","\t\t\t"]},6:{text:["3\u3010\u7528\u6237\u4fe1\u606f\u6536\u96c6\u3001\u4f7f\u7528\u53ca\u4fdd\u62a4\u3011\n","\t\t\t\t3.1 ","\t\t\t\t3.2 \n","\t\t\t","",""]},7:{text:["4\u3010\u6e38\u620f\u670d\u52a1\u3011\n","\t\t\t\t4.1 \u5305\u62ec\uff1a\n","\t\t\t\t\t\t4.1.1 \uff1b\n","\t\t\t\t\t\t4.1.2 n","\t\t\t\t\t\t4.1.3 \u3002\n"]},8:{text:["\t\t\t\t4.2 n","\t\t\t\t4.3 \n","\t\t\t\t4.4 \n","\t\t\t\t4.5 \u3002\n","\t\t\t\t4.6 \n","\t\t\t\t4.7 \n"]},9:{text:["\t\t\t\t4.8 n","\t\t\t\t4.9 \n","\t\t\t\t4.10 \u3002\n","\t\t\t\t4.11 \n","\t\t\t\t4.12 \uff1a\n"]},10:{text:["\t\t\t\t\t\t4.12.1 \u7cfb\u7edf\u5224\u65ad\u60a8\u672a\u6ee118\u5468\u5c81\u7684\uff1b\u6216\n","\t\t\t\t\t\t4.12.2 \u60a8\u63d0\u4ea4\u7684\u5b9e\u540d\u8eab\u4efd\u4fe1\u606f\u4e0d\u89c4\u8303\u7684\uff1b\u6216\n","\t\t\t\t\t\t4.12.3 \u60a8\u5b9e\u540d\u9a8c\u8bc1\u672a\u901a\u8fc7\u7684\uff1b\u6216\n","\t\t\t\t\t\t4.12.4 \u6e38\u5ba2\u6a21\u5f0f\u767b\u5f55\u7684\uff1b\u6216\n","\t\t\t\t\t\t4.12.5 n","\t\t\t\t4.13 \uff1a\n","\t\t\t\t\t\t4.13.1 \uff1b\n","\t\t\t\t\t\t4.13.2 \u9650\u5236\u60a8\u7684\u6e38\u620f\u8d26\u53f7\u7684\u6d88\u8d39\u989d\u5ea6\uff1b\n","\t\t\t\t\t\t4.13.3 \u91c7\u53d6\u6280\u672f\u63aa\u65bd\u5c4f\u853d\u67d0\u4e9b\u6e38\u620f\u6216\u6e38\u620f\u7684\u67d0\u4e9b\u529f\u80fd\uff0c\u9650\u5b9a\u60a8\u7684\u6e38\u620f\u65f6\u95f4\u6216\u6e38\u620f\u65f6\u957f\uff1b\n","\t\t\t\t\t\t4.13.4 \u6ce8\u9500\u6216\u5220\u9664\u60a8\u7684\u6e38\u620f\u8d26\u53f7\u53ca\u6e38\u620f\u6570\u636e\u7b49\u76f8\u5173\u4fe1\u606f\uff1b\n","\t\t\t\t\t\t4.13.5 \u60a8\u7684\uff1b\n","\t\t\t\t\t\t4.13.6 \u56fd\u3002\n"]}},cc._RF.pop()},{}],AutoShowVideo:[function(t,e,o){"use strict";cc._RF.push(e,"18b25Yo4StEFa9Z10s6D5Ry","AutoShowVideo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../sdk/channel-ts/CMgr"),i=cc._decorator,a=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=n.default.helper.getClick_award_video();n.default.helper.isSwtichOpen()&&t>0&&cc.tween(this.node).delay(t).call(function(){n.default.helper.showRewardAd(0,function(){})}).start()},__decorate([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{"../../sdk/channel-ts/CMgr":"CMgr"}],BagManager:[function(t,e,o){"use strict";cc._RF.push(e,"ddc28T/g3hCBqxxHPGzAhUq","BagManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../config/Config"),i=t("../../item/model/ItemMgr"),a=t("../../../cfw/model"),r=t("../../../sdk/sdk/SDKManager"),s=t("../../../cfw/tools/LangManager"),c=t("../tip/TipC"),l=t("../../game/model/FoodMgr"),u=t("../../game/model/GridFoodMgr"),d=t("../../dailytask/model/DailyTaskMgr"),p=t("../../../sdk/channel-ts/CMgr"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getNewItemModel=function(t,e){return Math.floor(t/1e3)==n.ItemType.FOOD?l.default.instance().getNewItemModel(t,e):i.default.instance().getNewItemModel(t,e)},e.prototype.updateItem=function(t,e){this.updateItemNum(t.getID(),t.getNum(!1),e)},e.prototype.reduceItem=function(t,e){this.updateItemNum(t.getID(),-t.getNum(!1),e)},e.prototype.getNum=function(t){if(t>0)switch(Math.floor(t/1e3)){case n.ItemType.TOKEN:case n.ItemType.GOLD:case n.ItemType.KEY:case n.ItemType.EXP:case n.ItemType.ENERGY:return i.default.instance().getCount(t);case n.ItemType.FOOD:}return 0},e.prototype.updateItemNum=function(t,e,o,a){if(void 0===e&&(e=1),t>1e3)switch(Math.floor(t/1e3)){case n.ItemType.TOKEN:i.default.instance().updateCount(t,e,o,a),e<0&&d.default.instance().updateTaskCount(n.DailyTaskID.BUY,Math.abs(e));break;case n.ItemType.GOLD:i.default.instance().updateCount(t,e,o,a),e>0&&d.default.instance().updateTaskCount(n.DailyTaskID.GOLD,e);break;case n.ItemType.FOOD:0==e&&(e=1);for(var r=0;r<e;r++)u.default.instance().addRewardFood(t);break;default:i.default.instance().updateCount(t,e,o,a)}},e.prototype.isEnough=function(t,e){return i.default.instance().getItemModel(t).getNum()>=e},e.prototype.isItemEnough=function(t){return this.isEnough(t.getID(),t.getNum(!1))},e.prototype.isAsyncEnough=function(t,e,o){var a=i.default.instance().getItemModel(t).getNum()>=e;t==n.ItemID.AD?p.default.helper.showRewardAd(0,function(t){o(t)}):t==n.ItemID.SHARE?r.default.getChannel().showShare(0,function(t){o(t)}):o(a)},e.prototype.buyItem=function(t,o,i){switch(t){case n.ItemID.AD:p.default.helper.showRewardAd(0,function(t){t&&i()});break;case n.ItemID.GOLD:var a=s.default.instance().getLocalString("BUY_GOLD",{num:n.BUY_GOLD});c.default.instance().intoLayer(a,function(t){t&&p.default.helper.showRewardAd(0,function(t){if(t){var o=cc.view.getVisibleSize();e.instance().updateItemNum(n.ItemID.GOLD,n.BUY_GOLD,cc.v2(o.width/2,o.height/2))}})},!0)}},e}(a.BaseModel);o.default=h,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/tools/LangManager":"LangManager","../../../config/Config":"Config","../../../sdk/channel-ts/CMgr":"CMgr","../../../sdk/sdk/SDKManager":"SDKManager","../../dailytask/model/DailyTaskMgr":"DailyTaskMgr","../../game/model/FoodMgr":"FoodMgr","../../game/model/GridFoodMgr":"GridFoodMgr","../../item/model/ItemMgr":"ItemMgr","../tip/TipC":"TipC"}],BannerComp:[function(t,e,o){"use strict";cc._RF.push(e,"c2092P/kHJKUZ0K/CmVz6xZ","BannerComp"),Object.defineProperty(o,"__esModule",{value:!0}),o.BannerComp=void 0;var n=t("../../channel-ts/CMgr"),i=t("../OVNativeAdC"),a=t("../../sdk/SDKConfig"),r=t("../../sdk/SDKManager"),s=t("../../../cfw/event"),c=t("../../comp/InsertAdMgr"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){s.GEvent.instance().on(c.default.OPEN_NATIVE_AD,this.hide,this),s.GEvent.instance().on(c.default.CLOSE_NATIVE_AD,this.show,this),console.log(" CMgr.helper.getBannerWitch() ",n.default.helper.getBannerWitch()),this.show()},e.prototype.onDestroy=function(){s.GEvent.instance().off(c.default.CLOSE_NATIVE_AD,this.show,this),s.GEvent.instance().off(c.default.OPEN_NATIVE_AD,this.hide,this)},e.prototype.show=function(){n.default.helper.isVersion()&&(console.log(" OVNativeAdC.isBannerState() == ",c.default.isBannerState()),c.default.isBannerState()&&(console.log(" CMgr.helper.getBannerWitch() ",n.default.helper.getBannerWitch()),0==n.default.helper.getBannerWitch()?r.default.getChannel().showBanner(0,a.SDKDir.BOTTOM_MID):(i.default.instance().showBanner(),r.default.getChannel().hideBanner())))},e.prototype.hide=function(){r.default.getChannel().hideBanner(0),i.default.instance().hideBanner()},__decorate([u],e)}(cc.Component));o.BannerComp=d,cc._RF.pop()},{"../../../cfw/event":"event","../../channel-ts/CMgr":"CMgr","../../comp/InsertAdMgr":"InsertAdMgr","../../sdk/SDKConfig":"SDKConfig","../../sdk/SDKManager":"SDKManager","../OVNativeAdC":"OVNativeAdC"}],BannerIDMgr:[function(t,e,o){"use strict";cc._RF.push(e,"448b9FijyJD1rNeFktDW4Zs","BannerIDMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKHelper"),i=[[0,1,2],[3,4,5],[6,7,8]],a=function(){function t(t){this.ids=[],this.index=-1,this.ids=t}return t.prototype.getIndex=function(){return this.index},t.prototype.setIndex=function(){var t=this.index,e=this.getRandom();this.index=e,t>=0&&this.ids.push(t)},t.prototype.getRandom=function(){var t=n.default.random(0,this.ids.length),e=this.ids[t];return this.ids.splice(t,1),e},t}(),r=function(){function t(){this.site=[];for(var t=0;t<i.length;t++)this.site[t]=new a(i[t])}return t.instance=function(){return this.ins||(this.ins=new t),this.ins},t.prototype.getIndex=function(t){return this.site[t]?this.site[t].getIndex():0},t.prototype.setIndex=function(t){this.site[t]&&this.site[t].setIndex()},t}();o.default=r,cc._RF.pop()},{"../SDKHelper":"SDKHelper"}],Base64:[function(t,e,o){"use strict";cc._RF.push(e,"d42eexHmq9PwbngK63KwbAR","Base64"),Object.defineProperty(o,"__esModule",{value:!0});var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(){function t(){}return t.encode=function(t){if(/([^\u0000-\u00ff])/.test(t))throw new Error("INVALID_CHARACTER_ERR");for(var e,o,i,a=0,r=[];a<t.length;){switch(o=t.charCodeAt(a),i=a%3){case 0:r.push(n.charAt(o>>2));break;case 1:r.push(n.charAt((3&e)<<4|o>>4));break;case 2:r.push(n.charAt((15&e)<<2|o>>6)),r.push(n.charAt(63&o))}e=o,a++}return 0==i?(r.push(n.charAt((3&e)<<4)),r.push("==")):1==i&&(r.push(n.charAt((15&e)<<2)),r.push("=")),r.join("")},t.decode=function(t){t=t.replace(/\s|=/g,"");for(var e,o,i=0,a=[];i<t.length;){switch(e=n.indexOf(t.charAt(i)),i%4){case 0:break;case 1:a.push(String.fromCharCode(o<<2|e>>4));break;case 2:a.push(String.fromCharCode((15&o)<<4|e>>2));break;case 3:a.push(String.fromCharCode((3&o)<<6|e))}o=e,i++}return a.join("")},t}();o.default=i,cc._RF.pop()},{}],Base64zh:[function(t,e,o){"use strict";cc._RF.push(e,"52e1d9XvIVGc5cBBbb/kiIR","Base64zh"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.UTF16ToUTF8=function(t){for(var e=[],o=t.length,n=0;n<o;n++){var i=t.charCodeAt(n);if(i>0&&i<=127)e.push(t.charAt(n));else if(i>=128&&i<=2047){var a=192|i>>6&31,r=128|63&i;e.push(String.fromCharCode(a),String.fromCharCode(r))}else if(i>=2048&&i<=65535){a=224|i>>12&15,r=128|i>>6&63;var s=128|63&i;e.push(String.fromCharCode(a),String.fromCharCode(r),String.fromCharCode(s))}}return e.join("")},t.UTF8ToUTF16=function(t){var e=[],o=t.length,n=0;for(n=0;n<o;n++){var i=t.charCodeAt(n);if(0==(i>>7&255))e.push(t.charAt(n));else if(6==(i>>5&255)){var a=(31&i)<<6|63&(r=t.charCodeAt(++n));e.push(String.fromCharCode(a))}else if(14==(i>>4&255)){var r;a=(255&(i<<4|(r=t.charCodeAt(++n))>>2&15))<<8|(3&r)<<6|63&t.charCodeAt(++n),e.push(String.fromCharCode(a))}}return e.join("")},t.encode=function(t){if(!t)return"";for(var e=this.UTF16ToUTF8(t),o=0,n=e.length,i=[];o<n;){var a=255&e.charCodeAt(o++);if(i.push(this.table[a>>2]),o==n){i.push(this.table[(3&a)<<4]),i.push("==");break}var r=e.charCodeAt(o++);if(o==n){i.push(this.table[(3&a)<<4|r>>4&15]),i.push(this.table[(15&r)<<2]),i.push("=");break}var s=e.charCodeAt(o++);i.push(this.table[(3&a)<<4|r>>4&15]),i.push(this.table[(15&r)<<2|(192&s)>>6]),i.push(this.table[63&s])}return i.join("")},t.decode=function(t){if(!t)return"";for(var e,o,n,i,a,r,s,c=t.length,l=0,u=[];l<c;)e=this.table.indexOf(t.charAt(l++)),o=this.table.indexOf(t.charAt(l++)),n=this.table.indexOf(t.charAt(l++)),i=this.table.indexOf(t.charAt(l++)),a=e<<2|o>>4,u.push(String.fromCharCode(a)),-1!=n&&(r=(15&o)<<4|n>>2,u.push(String.fromCharCode(r))),-1!=i&&(s=(3&n)<<6|i,u.push(String.fromCharCode(s)));return this.UTF8ToUTF16(u.join(""))},t.table=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],t}();o.default=n,cc._RF.pop()},{}],BaseAd:[function(t,e,o){"use strict";cc._RF.push(e,"0ebf4T3f/tBLaVJj02GtjzX","BaseAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(){function t(t,e){this.state=n.SDKState.loading,this.adUnitID="",this.logicState=n.SDKState.open,this.funcMap=[],this.initTime=0,this.startTime=0,this.showLong=0,this.error=!1,this.visible=!0,this.channel=t,this.adUnitID=e,this.logicState=n.SDKState.close,this.state=n.SDKState.loadFail,this.sdk=t.getSDK(),this.funcMap[n.FunctionType.onLoad]=this.onLoad.bind(this),this.funcMap[n.FunctionType.onError]=this.onError.bind(this),this.funcMap[n.FunctionType.onClose]=this.onClose.bind(this),this.funcMap[n.FunctionType.onResize]=this.onResize.bind(this),this.funcMap[n.FunctionType.onHide]=this.onHide.bind(this),this.funcMap[n.FunctionType.onShow]=this.onShow.bind(this)}return t.prototype.onShow=function(){},t.prototype.isState=function(t){return this.state==t},t.prototype.isError=function(){return this.error},t.prototype.getShowTime=function(){return this.showLong/1e3},t.prototype.getAliveTime=function(){return 0==this.initTime?0:(Date.now()-this.initTime)/1e3},t.prototype.getInstance=function(){return null},t.prototype.getFunc=function(t){return this.funcMap[t]||console.error(" get Func  t ",t),this.funcMap[t]},t.prototype.setFunc=function(t,e){this.funcMap[t]=e},t.prototype.init=function(){},t.prototype.onHide=function(){},t.prototype.onResize=function(){},t.prototype.onLoad=function(){},t.prototype.onError=function(){},t.prototype.onClose=function(){},t.prototype.setState=function(t){this.state=t},t.prototype.getState=function(){return this.state},t.prototype.open=function(){console.warn(" BaseAd open ==  ")},t.prototype.open2=function(){},t.prototype.createTime=function(){this.initTime=Date.now()},t.prototype.close=function(){},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(t){if(this.visible=t,t)this.startTime=Date.now();else{var e=Date.now()-this.startTime;this.showLong+=e}},t.prototype.hide=function(){},t.prototype.load=function(){},t.prototype.setCallback=function(t){this.callback=t},t.prototype.show=function(){},t.prototype.destroy=function(){},t.prototype.isOk=function(){return!1},t}();o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],BaseBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"ff4e8VHLjhDd733geaIHsBD","BaseBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseAd"),i=t("../SDKConfig"),a=t("../SDKHelper"),r=t("../third/SDKEventID"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.height=100,e.width=300,e._x=0,e._y=0,e._dir=i.SDKDir.BOTTOM_MID,e}return __extends(e,t),e.prototype.getInstance=function(){return this.bannerAd},e.prototype.setDir=function(t){this._dir=t},e.prototype.setPosition=function(t,e){this._x=t,this._y=e},e.prototype.setContentSize=function(t,e){this.width=t,this.height=e},e.prototype.create=function(){},e.prototype.preload=function(t){void 0===t&&(t=this.logicState),this.logicState=t,this.destroy(),this.create(),this.load()},e.prototype.open=function(t){this.callback=t,this.state==i.SDKState.loadSucess?this.show():this.preload(i.SDKState.open)},e.prototype.getStyle=function(){var t=this.sdk.getSystemInfoSync(),e=0,o=0;switch(this._dir){case i.SDKDir.BOTTOM_MID:e=(t.windowWidth-this.width)/2,o=t.windowHeight-this.height;break;case i.SDKDir.UP_MID:e=(t.windowWidth-this.width)/2,o=0;break;case i.SDKDir.MID:e=(t.windowWidth-this.width)/2,o=(t.windowHeight-this.height)/2;break;case i.SDKDir.RIGHT_MID:e=t.windowWidth-this.width,o=(t.windowHeight-this.height)/2;break;case i.SDKDir.LEFT_TOP:e=0,o=0;break;case i.SDKDir.BOTTOM_LEFT:e=0,o=t.windowHeight-this.height;break;case i.SDKDir.XY:e=this._x*t.windowWidth,o=this._y*t.windowHeight;break;case i.SDKDir.WHITE:e=1-this.width,o=1-this.height}return{left:e,top:o,width:this.width,height:this.height}},e.prototype.onError=function(t){this.setState(i.SDKState.loadFail),this.callback&&(this.callback(i.SDKState.loadFail),this.callback=null),this.error=!0,t&&t.errCode&&this.channel.trackEvent(r.default.banner_event,{code:t.errCode})},e.prototype.onLoad=function(){this.setState(i.SDKState.loadSucess),console.log("NativeTest banner onLoad this.logicState",this.logicState),this.callback&&(this.callback(i.SDKState.loadSucess),this.callback=null),this.logicState==i.SDKState.open&&this.show()},e.prototype.onResize=function(t){this.width=t.width,this.height=t.height,this.updateSize()},e.prototype.updateSize=function(){var t=this.sdk.getSystemInfoSync();if(0!=this.width&&0!=this.height&&this.bannerAd)switch(this._dir){case i.SDKDir.BOTTOM_LEFT:this.bannerAd.style.top=t.windowHeight-this.height,this.bannerAd.style.left=0;break;case i.SDKDir.BOTTOM_MID:this.bannerAd.style.top=t.windowHeight-this.height,this.bannerAd.style.left=(t.windowWidth-this.width)/2;break;case i.SDKDir.RIGHT_MID:this.bannerAd.style.top=(t.windowHeight-this.height)/2,this.bannerAd.style.left=t.windowWidth-this.width;break;case i.SDKDir.MID:this.bannerAd.style.top=(t.windowHeight-this.height)/2,this.bannerAd.style.left=(t.windowWidth-this.width)/2;break;case i.SDKDir.TOP_MID:this.bannerAd.style.top=0,this.bannerAd.style.left=(t.windowWidth-this.width)/2;break;case i.SDKDir.XY:this.bannerAd.style.top=this._y*t.windowHeight,this.bannerAd.style.left=this._x*t.windowWidth}},e.prototype.isOk=function(){return!a.default.isNull(this.bannerAd)&&this.state!=i.SDKState.loading&&this.state!=i.SDKState.loadFail},e.prototype.show=function(){this.logicState=i.SDKState.open,this.bannerAd&&(this.bannerAd.show(),this.callback&&(this.callback(i.SDKState.open),this.callback=null))},e.prototype.hide=function(){this.bannerAd&&(this.bannerAd.hide(),this.isVisible()&&this.setVisible(!1))},e.prototype.close=function(){this.logicState=i.SDKState.close,this.hide()},e.prototype.load=function(){this.bannerAd&&this.bannerAd.load()},e.prototype.destroy=function(){this.bannerAd&&(this.state=i.SDKState.close,this.bannerAd.destroy(),this.bannerAd=null)},e}(n.default);o.default=s,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKHelper":"SDKHelper","../third/SDKEventID":"SDKEventID","./BaseAd":"BaseAd"}],BaseBlockAd:[function(t,e,o){"use strict";cc._RF.push(e,"bdfe5yY6flFo4Cu+7UPVYQD","BaseBlockAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseAd"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._dir=i.ADDir.vertical,e.count=1,e}return __extends(e,t),e.prototype.setDir=function(t){this._dir=t},e.prototype.setPosition=function(t,e){this._x=t,this._y=e},e.prototype.setCount=function(t){this.count!=t&&(this.setState(i.SDKState.close),this.count=t)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","./BaseAd":"BaseAd"}],BaseChannel:[function(t,e,o){"use strict";cc._RF.push(e,"49e5fXR2ZJOmIfUWDGCRHxg","BaseChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=t("../SDKHelper"),a=function(t){function e(e){var o=t.call(this,n.getChannel())||this;return o.rewardAd=[],o.bannerAd=[],o.insertAd=[],o.share=null,o.subPackage=null,o.appBoxAd=[],o.boxPortalAd=[],o.blockAd=[],o.loginMgr=null,o.recorder=null,o.screenshot=null,o.selfRender=[],o.customAd=[],o.clientScaleX=1,o.clientScaleY=1,o.cfg=e,o.init(),o}return __extends(e,t),e.prototype.setClientScaleX=function(t){this.clientScaleX=t},e.prototype.setClientScaleY=function(t){this.clientScaleY=t},e.prototype.getClientScaleY=function(){return this.clientScaleY},e.prototype.getClientScaleX=function(){return this.clientScaleX},e.prototype.setVisibleSize=function(t){this.visibleSize=t},e.prototype.getVisibleSize=function(){return this.visibleSize},Object.defineProperty(e.prototype,"channelID",{get:function(){return this.cfg.name},enumerable:!1,configurable:!0}),e.prototype.hasBoxPortalAd=function(){return this.boxPortalAd.length>0},e.prototype.showBoxPortalAd=function(t){this.boxPortalAd[t]&&this.boxPortalAd[t].open()},e.prototype.trackEvent=function(t,e){this.event&&this.event.trackEvent(t,e)},e.prototype.exitApplication=function(){},e.prototype.init=function(){},e.prototype.saveTextureData=function(t,e,o){void 0===e&&(e=!1),this.screenshot?this.screenshot.saveFile(t,e,o):o(null)},e.prototype.hasBlockAd=function(t){return this.blockAd.length>t},e.prototype.showBlockAd=function(t,e,o,i,a){void 0===i&&(i=1),void 0===a&&(a=n.ADDir.landscape),console.log("this.hasBlockAd(index)",this.hasBlockAd(t)),this.hasBlockAd(t)&&(this.blockAd[t].setCount(i),this.blockAd[t].setDir(a),this.blockAd[t].setPosition(e,o),this.blockAd[t].open())},e.prototype.hideBlockAd=function(t){this.blockAd[t]&&this.blockAd[t].close()},e.prototype.hasCustomAd=function(){return this.customAd.length>0},e.prototype.openCustomAd=function(t){this.hasCustomAd()&&this.customAd[t]&&this.customAd[t].show()},e.prototype.isCustomAdOk=function(t){return!!this.customAd[t]&&this.customAd[t].isOk()},e.prototype.showCustomAd=function(t,e,o,n){void 0===e&&(e=0),void 0===o&&(o=0),this.hasCustomAd()&&this.customAd[t]&&(this.customAd[t].setRx(e),this.customAd[t].setRy(o),this.customAd[t].open(n))},e.prototype.hideCustomAd=function(t){void 0===t&&(t=0),console.log(" customAd count ",this.customAd.length,t),this.customAd[t]&&this.customAd[t].close()},e.prototype.destroyCustomAd=function(t){void 0===t&&(t=0),this.hasCustomAd()&&this.customAd[t].destroy()},e.prototype.loadCustomAd=function(t,e){void 0===t&&(t=0),this.hasCustomAd()&&(this.customAd[t].setCallback(e),this.customAd[t].preload(n.SDKState.close))},e.prototype.hasFileSystem=function(){return null!=this.fileSystem},e.prototype.writeFileSync=function(t,e,o,n){return!!this.hasFileSystem()&&this.fileSystem.writeFileSync(t,e,o,n)},e.prototype.readFileSync=function(t,e){return this.hasFileSystem()?this.fileSystem.readFileSync(t,e):null},e.prototype.readFile=function(t,e,o){this.hasFileSystem()?this.fileSystem.readFile(t,e,o):o(n.ResultState.NO,null)},e.prototype.writeFile=function(t,e,o,i){this.hasFileSystem()?this.fileSystem.writeFile(t,e,o,i):i(n.ResultState.NO)},e.prototype.hasParam=function(t){var e=this.cfg[t];return null!=e&&null!=e&&(!Array.isArray(e)||e.length>0)},e.prototype.getParamValue=function(t){return this.cfg[t]},e.prototype.getBannerAd=function(){return this.bannerAd},e.prototype.hasBanner=function(){return this.bannerAd.length>0},e.prototype.showBanner=function(t,e,o){void 0===e&&(e=n.SDKDir.BOTTOM_MID),this.hasBanner()&&this.bannerAd[t]&&(this.bannerAd[t].setDir(e),this.bannerAd[t].updateSize(),this.bannerAd[t].open(o))},e.prototype.isBannerOk=function(t){return!(!this.hasBanner()||!this.bannerAd[t])&&this.bannerAd[t].isOk()},e.prototype.showBannerByXYWH=function(t,e,o,i,a,r){this.hasBanner()&&this.bannerAd[t]&&(this.bannerAd[t].setDir(n.SDKDir.XY),this.bannerAd[t].setPosition(e,o),this.bannerAd[t].setContentSize(i,a),this.bannerAd[t].updateSize(),this.bannerAd[t].open(r))},e.prototype.showBannerByXY=function(t,e,o,i){this.hasBanner()&&this.bannerAd[t]&&(this.bannerAd[t].setDir(n.SDKDir.XY),this.bannerAd[t].setPosition(e,o),this.bannerAd[t].updateSize(),this.bannerAd[t].open(i))},e.prototype.preloadBannerByXY=function(t,e,o){this.bannerAd[t]&&(this.bannerAd[t].setDir(n.SDKDir.XY),this.bannerAd[t].setPosition(e,o),this.bannerAd[t].updateSize(),this.bannerAd[t].preload(n.SDKState.close))},e.prototype.openBanner=function(t){this.hasBanner()&&this.bannerAd[t]&&this.bannerAd[t].show()},e.prototype.hideBanner=function(t){void 0===t&&(t=0),this.hasBanner()&&this.bannerAd[t]&&this.bannerAd[t].close()},e.prototype.loadBanner=function(t,e){void 0===t&&(t=0),this.hasBanner()&&this.bannerAd[t]&&this.bannerAd[t].preload(e)},e.prototype.refreshBanner=function(){},e.prototype.hasInsertAd=function(){return this.insertAd.length>0},e.prototype.showInsertAd=function(t,e){this.hasInsertAd()&&this.insertAd[t].open(e)},e.prototype.closeInsertAd=function(t){void 0===t&&(t=0)},e.prototype.loadInsertAd=function(t,e){void 0===t&&(t=0),this.hasInsertAd()&&this.insertAd[t].load(e)},e.prototype.hasRewardAd=function(){return this.rewardAd.length>0},e.prototype.isRewardAdState=function(t,e){return!(!this.hasRewardAd()||!this.rewardAd[t])&&this.rewardAd[t].isState(e)},e.prototype.showRewardAd=function(t,e){this.hasRewardAd()&&this.rewardAd[t]?this.rewardAd[t].open(e):e(n.ResultState.YES)},e.prototype.loadRewardAd=function(t){this.hasRewardAd()&&this.rewardAd[t]&&this.rewardAd[t].reload(n.SDKState.close)},e.prototype.hasShare=function(){return null!=this.share},e.prototype.showShare=function(t,e,o){this.hasShare()?this.share.share(t,e,o):e(n.ResultState.YES)},e.prototype.shareWithUrl=function(t,e,o){this.hasShare()?this.share.shareWithUrl(t,e,o):o(n.ResultState.YES)},e.prototype.vibrateShort=function(){},e.prototype.previewImage=function(){},e.prototype.navigateToMiniProgram=function(){},e.prototype.hasLogin=function(){return!i.default.isNull(this.loginMgr)},e.prototype.login=function(t,e){this.hasLogin()?this.loginMgr.login(t,e):e(n.ResultState.YES,null)},e.prototype.showUserAgreement=function(t){this.loginMgr?this.loginMgr.showUserAgreement(t):t(n.ResultState.YES)},e.prototype.getUserInfo=function(t,e,o){this.hasLogin()&&this.loginMgr.getUserInfo(t,e,o)},e.prototype.checkSession=function(t){this.hasLogin()?this.loginMgr.checkSession(t):t(n.ResultState.YES)},e.prototype.postMessage=function(){},e.prototype.hasSubPackage=function(){return null!=this.subPackage},e.prototype.loadSubPackage=function(t,e,o){this.hasSubPackage()?this.subPackage.loadSubpackage(t,e,o):e(n.ResultState.YES,null)},e.prototype.hasScreenshot=function(){return null!=this.screenshot},e.prototype.showScreenshot=function(t,e){void 0===e&&(e=!1),this.hasScreenshot()&&this.screenshot.capture(t,e)},e.prototype.getNativeAd=function(){return this.nativeAd},e.prototype.hasNativeAd=function(){return null!=this.nativeAd},e.prototype.showNativeAd=function(t,e){this.hasNativeAd()&&this.nativeAd.open2(t,e)},e.prototype.hideNativeAd=function(){this.hasNativeAd()&&this.nativeAd.close()},e.prototype.reportAdClick=function(t){this.hasNativeAd()&&this.nativeAd.reportAdClick(t)},e.prototype.reportAdShow=function(t){this.hasNativeAd()&&this.nativeAd.reportAdShow(t)},e.prototype.hasRecorder=function(){return null!=this.recorder},e.prototype.recorderStart=function(t){this.hasRecorder()&&this.recorder.start(t)},e.prototype.getRecorder=function(){return this.recorder},e.prototype.recorderStop=function(t,e){void 0===t&&(t=!0),this.hasRecorder()&&this.recorder.stop(t,e)},e.prototype.hasAppBox=function(){return this.appBoxAd.length>0},e.prototype.showAppBoxAd=function(t,e){void 0===t&&(t=0),this.hasAppBox()&&this.appBoxAd[t].open(e)},e.prototype.destroyAppBoxAd=function(){},e.prototype.showToast=function(){},e.prototype.canInstallShortcut=function(t){t(n.ResultState.NO)},e.prototype.installShortcut=function(t){t(n.ResultState.NO)},e.prototype.createMoreGameButton=function(){},e.prototype.hideMoreGameButton=function(){},e.prototype.showMoreGameView=function(){},e.prototype.hasMoreGame=function(){return!1},e.prototype.loadConfig=function(){},e.prototype.createCanvas=function(){},e.prototype.cantUseImageDataURL=function(){return!0},e.prototype.request=function(t,e){this.sdk.request({url:t,timeout:15e3,header:{"content-type":"application/json","If-Modified-Since":"0"},success:function(t){e(null,t.data)},fail:function(t){e(" error ",t)}})},e.prototype.showCustomAdByDir=function(t,e,o,i){void 0===e&&(e=n.SDKDir.MID),void 0===o&&(o=2),this.customAd[t]&&(this.customAd[t].setRIndex(o),this.customAd[t].setDir(e),this.customAd[t].open(i))},e.prototype.showSelfRender=function(t){this.selfRender[t.index]&&this.selfRender[t.index].open(t)},e.prototype.loadSelfRender=function(t){this.selfRender[t.index]&&this.selfRender[t.index].load(t.logicState)},e.prototype.initAd=function(){},e}(t("./BaseSDK").default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKHelper":"SDKHelper","./BaseSDK":"BaseSDK"}],BaseCustomAd:[function(t,e,o){"use strict";cc._RF.push(e,"22affqzL0FMYrAq3inCrC2o","BaseCustomAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseAd"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rx=1,e.ry=1,e._dir=i.SDKDir.BOTTOM_MID,e.height=525,e.width=720,e.rIndex=0,e}return __extends(e,t),e.prototype.setRIndex=function(t){this.rIndex=t},e.prototype.setSize=function(t,e){this.width=t,this.height=e},e.prototype.setDir=function(t){this._dir=t},e.prototype.setRx=function(t){this.rx=t},e.prototype.setRy=function(t){this.ry=t},e.prototype.updateSize=function(){},e.prototype.preload=function(t){this.logicState=t,this.load()},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","./BaseAd":"BaseAd"}],BaseHelper:[function(t,e,o){"use strict";cc._RF.push(e,"5c746O0yUVDXbJylEsPOYDA","BaseHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../sdk/SDKManager"),i=t("../../logic/dailytask/model/DailyTaskMgr"),a=t("../../config/Config"),r=t("../../cfw/tools/Debug"),s=t("../../logic/public/bag/BagManager"),c=t("../../engine/EngineHelper"),l=t("../../logic/lobby/LobbyC"),u=function(){function t(){this.verson="1.0",this.adData=[],r.default.isDebug=!1}return t.prototype.isF399=function(){return!1},t.prototype.trackEvent=function(t,e){n.default.getChannel().trackEvent(t,e)},t.prototype.hasEmail=function(){return!0},t.prototype.getVersion=function(){return this.verson},t.prototype.marketHasType=function(t){return 4!=t||n.default.getChannel().hasShare()},t.prototype.showShare=function(t,e,o){n.default.getChannel().showShare(t,e,o)},t.prototype.showFuncInsertAd=function(t){n.default.getChannel().showInsertAd(t)},t.prototype.showInsertAd=function(t){n.default.getChannel().showInsertAd(t)},t.prototype.showRewardAd=function(t,e){var o=this;n.default.getChannel().showRewardAd(t,function(t){e(t),t&&(i.default.instance().updateTaskCount(a.DailyTaskID.AD),o.canMultyAd()||s.default.instance().updateItemNum(a.ItemID.SCRATCH_CARD,1,c.default.getMidPos()))})},t.prototype.getBoxResult=function(){return 0},t.prototype.isOpen=function(){return!1},t.prototype.getBannerTime=function(){return 30},t.prototype.getAddress=function(){return""},t.prototype.getClickParent=function(){return[.4,.7]},t.prototype.getClickBack=function(){return 10},t.prototype.getClickAdd=function(){return 15},t.prototype.updateClickNum=function(){},t.prototype.hideCustomAd=function(t){n.default.getChannel().hideCustomAd(t)},t.prototype.showCustomAd=function(t,e,o){n.default.getChannel().showCustomAd(t,e,o)},t.prototype.getEmail=function(){return"sarsgame@163.com"},t.prototype.hasAgreement=function(){return!1},t.prototype.getAppName=function(){return"\u6d88\u4e50"},t.prototype.getCompany=function(){return"\u5317\u53f8"},t.prototype.getClickResult=function(){return 0},t.prototype.setVersion=function(t){this.verson=t},t.prototype.hasNativeNextLimit=function(){return!1},t.prototype.hasFriend=function(){return!1},t.prototype.getFriendDuration=function(){return 0},t.prototype.hasEgg=function(){return!1},t.prototype.loadConfig=function(){},t.prototype.hasNativeAd=function(){return!1},t.prototype.login=function(){},t.prototype.getProcessTime=function(){return 0},t.prototype.getBannerRefreshTime=function(){return 30},t.prototype.isShowAgain=function(){return!1},t.prototype.getRewardNum=function(){return 1},t.prototype.isVersion=function(){return!1},t.prototype.isOpenNativeErrorClick=function(){return!1},t.prototype.isSwtichOpen=function(){return!1},t.prototype.isSystemOpen=function(){return!1},t.prototype.getBannerDelayTime=function(){return 2},t.prototype.getOS=function(){return""},t.prototype.isErrorClickOpen=function(){return!1},t.prototype.isStartErrorClick=function(){return!1},t.prototype.isBannerErrorClick=function(){return!1},t.prototype.loadAd=function(){},t.prototype.setAdClickParam=function(){},t.prototype.getAdData=function(){return this.adData},t.prototype.refresh=function(){},t.prototype.hasCrazyClick=function(){return!1},t.prototype.sortAdData=function(){},t.prototype.changeData=function(){},t.prototype.toOtherGame=function(){},t.prototype.navigate2Mini=function(){},t.prototype.isOpenStartEgg=function(){return!1},t.prototype.firstExport=function(){return!1},t.prototype.hasSinglePrivicy=function(){return!0},t.prototype.hasNativeLimit=function(){return!1},t.prototype.hasBigExport=function(){return!1},t.prototype.hasLoginBanner=function(){return!1},t.prototype.hasDiamonView=function(){return!1},t.prototype.hasNativeTouchSwitch=function(){return!1},t.prototype.cantUseImageDataURL=function(){return!1},t.prototype.getNativeCloseNum=function(){return 0},t.prototype.getNativeBannerRefreshTime=function(){return 30},t.prototype.getJumpTime=function(){return 0},t.prototype.getBannerWitch=function(){return 0},t.prototype.getNativeSlide=function(){return!1},t.prototype.hasBanner=function(){return!1},t.prototype.getzs_native_gap_time=function(){return 0},t.prototype.getAdSprite=function(){return"texture/gift_sprite/gift_sprite_1024x1024_A_01_4"},t.prototype.getzs_native_show_delay=function(){return 0},t.prototype.getzs_start_native_switch=function(){return 0},t.prototype.isJumpSwitchOpen=function(){return!1},t.prototype.getzs_native_btn_text=function(){return""},t.prototype.noOneMinAdLimit=function(){return!1},t.prototype.hasMoreGame=function(){return!1},t.prototype.openMoreGameView=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0)},t.prototype.getzs_box_switch=function(){return!1},t.prototype.getzs_box_show_delay=function(){return 0},t.prototype.getzs_video_box=function(){return 0},t.prototype.getzs_start_turntable=function(){return!1},t.prototype.getzs_native_change_switch=function(){return 0},t.prototype.showBannerAd=function(t,e){n.default.getChannel().showBanner(t,e)},t.prototype.hideBannerAd=function(t){n.default.getChannel().hideBanner(t)},t.prototype.hideFuncInsertAd=function(){},t.prototype.hideInsertAd=function(){},t.prototype.hasNormalShare=function(){return!1},t.prototype.getClick_award_video=function(){return 0},t.prototype.getzs_banner_force_click=function(){return!1},t.prototype.getzs_advert_change=function(){return 0},t.prototype.hasInstallApp=function(){return!1},t.prototype.canMultyAd=function(){return!0},t.prototype.intoGame=function(){},t.prototype.getzs_native_click_switch=function(){return 0},t.prototype.sheduleGame=function(){},t.prototype.leaveGame=function(){},t.prototype.firstIntoLobby=function(){},t.prototype.startGame=function(){l.default.instance().intoLayer()},t.prototype.hasOnline=function(){return!1},t.prototype.hasOffline=function(){return!0},t.prototype.hasDailyTask=function(){return!1},t.prototype.hasLuckySpin=function(){return!0},t.prototype.hasGiftSpecial=function(){return!0},t.prototype.hasSpecialtask=function(){return!0},t}();o.default=u,cc._RF.pop()},{"../../cfw/tools/Debug":"Debug","../../config/Config":"Config","../../engine/EngineHelper":"EngineHelper","../../logic/dailytask/model/DailyTaskMgr":"DailyTaskMgr","../../logic/lobby/LobbyC":"LobbyC","../../logic/public/bag/BagManager":"BagManager","../sdk/SDKManager":"SDKManager"}],BaseInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"82b660oIERFpbjwW83jgUqX","BaseInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseAd"),i=t("../SDKConfig"),a=t("../third/SDKEventID"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(t){this.callback=t,this.state==i.SDKState.loadSucess?this.show():this.preload(i.SDKState.open)},e.prototype.preload=function(t){this.logicState=t,this.destroy(),this.create(),this.load(null)},e.prototype.onLoad=function(){console.log("NativeTest BaseInsertAd onLoad"),this.setState(i.SDKState.loadSucess),this.callback&&(this.callback(i.ResultState.YES),this.callback=null),this.logicState==i.SDKState.open&&(this.logicState=i.SDKState.close,this.show())},e.prototype.show=function(){this.insertAd&&this.insertAd.show()},e.prototype.load=function(t){this.callback=t,this.insertAd&&this.insertAd.load()},e.prototype.onError=function(t){console.log("NativeTest BaseInsertAd onError"),this.setState(i.SDKState.loadFail),this.callback&&(this.callback(i.ResultState.NO),this.callback=null),t&&t.errCode&&this.channel.trackEvent(a.default.insert_ad_error,{code:t.errCode})},e.prototype.destroy=function(){this.insertAd&&(this.insertAd.destroy(),this.insertAd=null)},e}(n.default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../third/SDKEventID":"SDKEventID","./BaseAd":"BaseAd"}],BaseLogin:[function(t,e,o){"use strict";cc._RF.push(e,"975cfvPAQdCI4aiG62aCIzu","BaseLogin"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(){function t(t){this.channel=t,this.sdk=this.channel.getSDK()}return t.prototype.checkSession=function(t){this.sdk.checkSession({success:function(){console.log("session\u672a\u8fc7\u671f"),t(n.ResultState.YES)},fail:function(){console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55"),t(n.ResultState.NO)}})},t.prototype.login=function(t,e){this.sdk.login({force:!1,success:function(t){console.log("login\u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e(n.ResultState.YES,t)},fail:function(t){e(n.ResultState.YES,t)}})},t.prototype.getUserInfo=function(t,e,o){this.sdk.getUserInfo({withCredentials:t,lang:e,success:function(t){console.log("getUserInfo\u8c03\u7528\u6210\u529f"+t.userInfo),o(n.ResultState.YES,t)},fail:function(t){console.log("getUserInfo\u8c03\u7528\u5931\u8d25",t),o(n.ResultState.NO,null)}})},t.prototype.logout=function(){},t.prototype.showUserAgreement=function(t){this.sdk.showUserAgreement({success:function(){t(n.ResultState.YES)},fail:function(){t(n.ResultState.NO)}})},t}();o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],BaseMarketItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"09081nebHlLs6i8KSZ1aS0H","BaseMarketItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.MarketItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("./MarketMgr"),r=t("../../../config/ModuleConfig"),s=t("../../public/bag/BagManager"),c=t("../../../config/Config"),l=t("../../../cfw/tools/LangManager"),u=t("../../public/mediator/FoodMediator"),d=t("../../../extention/redtip/RedTipMgr");(function(t){t[t.type=0]="type",t[t.name=1]="name",t[t.index=2]="index",t[t.list=3]="list",t[t.costID=4]="costID",t[t.costNum=5]="costNum",t[t.count=6]="count",t[t.icon=7]="icon"})(n=o.MarketItemModelEnum||(o.MarketItemModelEnum={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemList=[],e}return __extends(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),!this.costItem&&this.getCostID()>0&&(this.costItem=s.default.instance().getNewItemModel(this.getCostID(),this.getCostNum())),this.getCostItem()||this.getCount()>0&&d.default.instance().addRedTip(c.RedTipType.STORE,30232)},e.prototype.getType=function(){return this.getValue(n.type)},e.prototype.getName=function(){var t=this.getValue(n.name);return l.default.instance().getLocalString(t)},e.prototype.getList=function(){return this.getValue(n.list)},e.prototype.getCostID=function(){return this.getValue(n.costID)},e.prototype.getCostNum=function(){return this.getValue(n.costNum)},e.prototype.getNum=function(){var t=this.costItem.getNum(!1);if(0==t){var e=this.itemList[0];e&&(t=e.getMarketPrice())}return t},e.prototype.getCostItem=function(){return this.getCostID()?this.costItem:null},e.prototype.clearItem=function(){u.default.instance().removeMarketFoods(this.itemList),this.itemList.length=0,this.emit(c.EventName.UPDATE_FOOD)},e.prototype.resetCount=function(){this.setCount(this.getCfgValue(n.count)),this.getCostItem()||d.default.instance().addRedTip(c.RedTipType.STORE,30232)},e.prototype.resetCostNum=function(){this.setCostNum(this.getCfgValue(n.costNum))},e.prototype.setCostNum=function(t){this.setValue(n.costNum,t),this.emit(c.EventName.CHANGE_COST_COUNT)},e.prototype.getCount=function(){return this.getValue(n.count)},e.prototype.setCount=function(t){this.setValue(n.count,t),this.emit(c.EventName.CHANGE_COUNT),0==t&&(u.default.instance().removeMarketFoods(this.itemList),this.getCostItem()||d.default.instance().removeRedTip(c.RedTipType.STORE))},e.prototype.getIndex=function(){return this.getValue(n.index)},e.prototype.getIcon=function(){return"market/texture/market"},e.prototype.getSpriteFrame=function(){return this.getValue(n.icon)||""},e.prototype.getTypeModel=function(){var t=this.getType();return a.default.instance().getMarketTypeModel(t)},e.prototype.getModuleID=function(){return r.ModuleID.PUBLIC},e.prototype.getItemList=function(){if(0==this.itemList.length){for(var t=this.getList(),e=t.length/2,o=0;o<e;o++){var n=t[2*o],i=t[2*o+1];if(-1!=n){var r=s.default.instance().getNewItemModel(n,i);this.itemList.push(r)}else(n=a.default.instance().getMarketTypeModel(this.getType()).getFoodID(this.getIndex()))&&(r=s.default.instance().getNewItemModel(n,i),this.itemList.push(r))}u.default.instance().addMarketFoods(this.itemList)}return this.itemList},e}(i.DataModel);o.default=p,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/tools/LangManager":"LangManager","../../../config/Config":"Config","../../../config/ModuleConfig":"ModuleConfig","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../public/bag/BagManager":"BagManager","../../public/mediator/FoodMediator":"FoodMediator","./MarketMgr":"MarketMgr"}],BaseNativeAdItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"7254aaxzl9N854hIgBXaGoD","BaseNativeAdItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKHelper"),i=function(){function t(){}return t.prototype.init=function(t){this.data=t},t.prototype.getID=function(){return this.data.adId},t.prototype.getTitle=function(){return""},t.prototype.getIcon=function(){var t=this.getIconList();return t&&t.length>0?t[0]:null},t.prototype.getRandomImage=function(){return console.log(" this.imgUrlList.length ",this.data.imgUrlList.length),this.data.imgUrlList.length>0?this.data.imgUrlList[n.default.random(0,this.data.imgUrlList.length)]:this.getIcon()},t.prototype.getRandomIcon=function(){return console.log(" this.data.icon ",this.data.icon),this.data.icon?this.data.icon:this.getRandomImage()},t.prototype.getDesc=function(){return this.data.desc},t.prototype.getIconList=function(){return this.data.icon},t.prototype.getImgList=function(){return this.data.imgUrlList},t.prototype.getButtonText=function(){},t.prototype.getShowImageList=function(){return[]},t}();o.default=i,cc._RF.pop()},{"../SDKHelper":"SDKHelper"}],BaseNativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"f713eMGcOFKjpCLNlCkUxKQ","BaseNativeAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseAd"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,"")||this;return n.adItems=[],n.adList=[],n.callbackList=[],n.loadCount=0,n.adList=o,n}return __extends(e,t),e.prototype.open2=function(t,e){if(console.log(" BaseNativeAd open index ",t,"this.adItems.length",this.adItems.length,"state",this.state," this.adList.length",this.adList.length,"this.loadCount",this.loadCount),this.adList.length-1>=t){if(this.adUnitID=this.adList[t],this.callbackList.push(e),this.adItems.length>0)this.call();else if(this.state==i.SDKState.loading){if(this.loadCount++,!(this.loadCount>=3))return;this.loadCount=0}this.preload()}else console.warn("index  out of range ",t)},e.prototype.preload=function(){this.state=i.SDKState.loading,this.create(),this.load()},e.prototype.call=function(){if(this.callbackList.length>0)for(;this.callbackList.length>0;)this.callbackList.shift()(this.adItems)},e.prototype.onLoad=function(t){if(console.log("onLoad ",t.adList),this.setState(i.SDKState.loadSucess),t&&t.adList){this.adItems.length=0;for(var e=0;e<t.adList.length;e++){var o=t.adList[e],n=this.getItemModel();n.init(o),this.reportAdShow(n.getID()),this.adItems.push(n)}}console.log(" this.callbackList.length  ",this.callbackList.length,this.adItems.length),this.call(),this.preload()},e.prototype.getAdItems=function(){return this.adItems},e.prototype.close=function(){},e.prototype.onError=function(t){this.setState(i.SDKState.loadFail),console.log(" BaseNativeAd onError err ",t),this.call()},e.prototype.load=function(){console.log(" BaseNativeAd load"),this.nativeAd.load()},e.prototype.reportAdClick=function(t){this.nativeAd&&(console.log("reportAdClick ",t),this.nativeAd.reportAdClick({adId:t}))},e.prototype.reportAdShow=function(t){this.nativeAd&&(console.log("reportAdShow ",t),this.nativeAd.reportAdShow({adId:t}))},e.prototype.destroy=function(){this.nativeAd&&(this.nativeAd.destroy(),this.nativeAd=null)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","./BaseAd":"BaseAd"}],BaseRecorder:[function(t,e,o){"use strict";cc._RF.push(e,"43fdcFCWLdKmL5VOn41Pa69","BaseRecorder"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(e,o){var i=t.call(this)||this;return i.videoPath=null,i.state=n.SDKState.close,i.c=e,i.sdk=e.getSDK(),i.data=o,i.init(),i}return __extends(e,t),e.prototype.init=function(){},e.prototype.start=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.stop=function(t){void 0===t&&(t=!0)},e.prototype.recordClip=function(){},e.prototype.changeState=function(t){this.state=t,this.emit(this.state)},e.prototype.getVideoPath=function(){return this.videoPath},e.prototype.clear=function(){this.videoPath=null},e.prototype.isOpen=function(){return this.state==n.SDKState.open},e.prototype.isClose=function(){return this.state==n.SDKState.close},e.prototype.getState=function(){return this.state},e.prototype.publish=function(){},e}(t("../tools/SdkEventList").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../tools/SdkEventList":"SdkEventList"}],BaseRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"33f6boUDOBA95d1zIrWvZSs","BaseRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseAd"),i=t("../SDKConfig"),a=t("../tools/SDKEvent"),r=t("../third/SDKEventID"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(t){console.log(" BaseRewardAd open state ",this.state),t&&(this.callback=t),this.state==i.SDKState.loadSucess?this.show():this.reload(i.SDKState.open)},e.prototype.reload=function(t){this.logicState=t,this.setState(i.SDKState.loading),this.destroy(),this.create()},e.prototype.load=function(){this.rewardAd&&this.rewardAd.load()},e.prototype.onError=function(t){console.log("NativeTest \u89c6\u9891\u52a0\u8f7d\u5931\u8d25 ",t),this.setState(i.SDKState.loadFail),this.callback&&(this.callback(i.ResultState.NO),this.callback=null),this.channel.showToast("\u89c6\u9891\u52a0\u8f7d\u5931\u8d25"),t&&t.errCode&&this.channel.trackEvent(r.default.vedio_ad_error,{code:t.errCode})},e.prototype.show=function(){var t=this;this.setState(i.SDKState.open),this.logicState=i.SDKState.close,this.rewardAd&&this.rewardAd.show().then(function(){t.setState(i.SDKState.open),t.pause()}).catch(function(){t.rewardAd.load().then(function(){t.rewardAd.show(),t.setState(i.SDKState.open),t.pause()}).catch(function(e){t.setState(i.SDKState.loadFail),t.channel.showToast("\u89c6\u9891\u52a0\u8f7d\u5931\u8d25"),e&&e.errCode&&t.channel.trackEvent(r.default.vedio_ad_error,{code:e.errCode})})})},e.prototype.onLoad=function(){console.log("NativeTest \u89c6\u9891\u52a0\u8f7d\u6210\u529f "),this.setState(i.SDKState.loadSucess),this.logicState==i.SDKState.open&&this.show()},e.prototype.destroy=function(){this.rewardAd&&(this.rewardAd.destroy(),this.rewardAd=null)},e.prototype.onClose=function(t){console.log("NativeTest onClose ",t),this.setState(i.SDKState.close),t&&t.isEnded||void 0===t?this.callback&&(this.callback(i.ResultState.YES),this.callback=null):this.callback&&(this.callback(i.ResultState.NO),this.callback=null),this.resume()},e.prototype.pause=function(){a.default.instance().emit(a.default.REWARD_AD_OPEN)},e.prototype.resume=function(){a.default.instance().emit(a.default.REWARD_AD_CLOSE)},e}(n.default);o.default=s,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../third/SDKEventID":"SDKEventID","../tools/SDKEvent":"SDKEvent","./BaseAd":"BaseAd"}],BaseSDK:[function(t,e,o){"use strict";cc._RF.push(e,"33f48dgbp9IEaRyiyePM9Yw","BaseSDK"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../tools/BindFunction"),i=function(){function t(t){this.setSDK(t),this.funcHelper=new n.default}return t.prototype.getFunc=function(t){return this.funcHelper.getFunc(t,this)},t.prototype.setSDK=function(t){this.sdk=t},t.prototype.getSDK=function(){return this.sdk},t}();o.default=i,cc._RF.pop()},{"../tools/BindFunction":"BindFunction"}],BaseScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"a0f7dpoPt1HvqFhpAg3AYyN","BaseScreenshot"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.channel=t,this.sdk=this.channel.getSDK()}return t.prototype.capture=function(t,e){void 0===e&&(e=!0),this.saveFile(this.createImage(t),e)},t.prototype.getCanvas=function(){return null},t.prototype.showImage=function(){},t.prototype.createImage=function(){},t.prototype.saveFile=function(){},t}();o.default=n,cc._RF.pop()},{}],BaseShare:[function(t,e,o){"use strict";cc._RF.push(e,"a441ewpU3xLkLZ0sD8Tz0Zq","BaseShare"),Object.defineProperty(o,"__esModule",{value:!0}),o.BaseShare=void 0;var n=t("../SDKConfig"),i=function(){function t(t,e){this.state=n.SDKState.close,this.callback=null,this.channel=t,this.data=e,this.sdk=t.getSDK()}return t.prototype.shareWithUrl=function(){},t.prototype.getShareInfo=function(t,e){t&&this.sdk.getShareInfo({shareTicket:t,success:function(t){e(t)},fail:function(){}})},t}();o.BaseShare=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],BaseSubPackage:[function(t,e,o){"use strict";cc._RF.push(e,"033a3s4gCVA74B8Q1GoM4oh","BaseSubPackage"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(){function t(t){this.channel=t,this.sdk=this.channel.getSDK()}return t.prototype.loadSingle=function(t,e){this.loadSubpackage(t,e)},t.prototype.loadSubpackage=function(t,e){var o=this.sdk.loadSubpackage({name:t,success:function(){e(n.ResultState.YES,null)},fail:function(){e(n.ResultState.NO,null)}});o&&o.onProgressUpdate(function(t){e(n.ResultState.PROGRESS,t.progress)})},t.prototype.loadList=function(t,e){var o=this;this.loadSingle(t.shift(),function(i,a){switch(i){case n.ResultState.YES:o.subNames.length>0?o.loadList(t,e):e(i,a);break;case n.ResultState.NO:case n.ResultState.PROGRESS:e(i,a)}})},t}();o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],BindFunction:[function(t,e,o){"use strict";cc._RF.push(e,"fbf662JUYtLhqtpzi+ZU1XY","BindFunction"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.funcList=[]}return t.instance=function(){return this.ins||(this.ins=new t),this.ins},t.prototype.getIndex=function(t,e){for(var o=0;o<this.funcList.length;o++){var n=this.funcList[o];if(n.func==t&&n.target==e)return o}return-1},t.prototype.getFunc=function(t,e){var o=this.getIndex(t,e);if(o>=0){var n=this.funcList[o];return this.funcList.splice(o,1),n.id}var i=t.bind(e);return this.funcList.push({func:t,target:e,id:i}),i},t}();o.default=n,cc._RF.pop()},{}],BoxPopButton:[function(t,e,o){"use strict";cc._RF.push(e,"1c2d7RmE8BNrZCfgQAyljwO","BoxPopButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../sdk/channel-ts/CMgr"),i=t("../../public/tip/TipC"),a=t("../BoxPopC"),r=t("../model/BoxpopMgr"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.active=n.default.helper.hasGiftSpecial(),r.default.instance()},e.prototype.onButtonClick=function(){r.default.instance().isOpen()?a.default.instance().show():i.default.instance().showToast(r.default.instance().getTip())},__decorate([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../sdk/channel-ts/CMgr":"CMgr","../../public/tip/TipC":"TipC","../BoxPopC":"BoxPopC","../model/BoxpopMgr":"BoxpopMgr"}],BoxPopC:[function(t,e,o){"use strict";cc._RF.push(e,"e96edJp1ddH5b4kOr0SWedB","BoxPopC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("./model/BoxpopMgr"),a=t("../../cfw/event"),r=t("../../config/Config"),s=t("../../cfw/tools/ViewManager"),c=t("../../config/ModuleConfig"),l=t("../../config/UIConfig"),u=t("./view/BoxPopView"),d=t("../../sdk/channel-ts/CMgr"),p=t("../../extention/gevent/GameEventAdapter"),h=t("../../cfw/ui"),f=t("../../config/UmengEventID"),g=t("../../extention/redtip/RedTipMgr"),y=t("../public/bag/BagManager"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickMap={},e}return __extends(e,t),e.prototype.intoLayer=function(){var t=this;if(d.default.helper.hasGiftSpecial()&&i.default.instance().isOpen()&&d.default.helper.getzs_box_switch()&&!p.default.instance().isOpen()){var e=d.default.helper.getzs_box_show_delay();e>0&&setTimeout(function(){t.show()},e)}},e.prototype.show=function(){h.default.instance().hasView("BoxPopView",l.UIIndex.STACK)||(i.default.instance().setRandomList(),this.clickMap={},s.default.pushUIView({path:"boxpop/BoxPopView",moduleID:c.ModuleID.PUBLIC,uiIndex:l.UIIndex.STACK,className:u.default,controller:this,model:i.default.instance(),func:function(){}}))},e.prototype.getUnUsedModel=function(){for(var t=i.default.instance().getRandomList(),e=0;e<t.length;e++){var o=t[e];if(!this.clickMap[o.getID()])return o}return null},e.prototype.used=function(t){return this.clickMap[t.getID()]==t.getID()},e.prototype.clickBox=function(t){var e=this;if(console.log("clickBox m "),t&&this.clickMap[t.getID()]!=t.getID()){d.default.helper.trackEvent(f.default.boxpop_count);var o=t.getItem();i.default.instance().needAd()?d.default.helper.showRewardAd(0,function(n){n&&(y.default.instance().updateItem(o),a.GEvent.instance().emit(r.EventName.OPEN_BOX,t),d.default.helper.trackEvent(f.default.boxpop_ad_count),e.clickMap[t.getID()]=t.getID())}):(y.default.instance().updateItem(o),i.default.instance().updateCount(),a.GEvent.instance().emit(r.EventName.OPEN_BOX,t),i.default.instance().needAd()&&g.default.instance().removeRedTip(r.RedTipType.BOX_POP),this.clickMap[t.getID()]=t.getID())}},e}(n.BaseController);o.default=m,cc._RF.pop()},{"../../cfw/event":"event","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../extention/redtip/RedTipMgr":"RedTipMgr","../../sdk/channel-ts/CMgr":"CMgr","../public/bag/BagManager":"BagManager","./model/BoxpopMgr":"BoxpopMgr","./view/BoxPopView":"BoxPopView"}],BoxPopItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"1b6e2QmT3RBgKz7MtLLYMuh","BoxPopItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.BoxPopItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../game/model/FoodMgr"),r=[[1,2,3,4],[5]];(function(t){t[t.state=0]="state"})(n=o.BoxPopItemModelEnum||(o.BoxPopItemModelEnum={}));var s=function(t){function e(){var o=t.call(this,e.CLASS_NAME)||this;return o.special=0,o.item=null,o}return __extends(e,t),e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t)},e.prototype.setSpecial=function(t){this.special=t},e.prototype.reset=function(){this.special=0,this.item=null},e.prototype.isSpecial=function(){return 1==this.special},e.prototype.setItem=function(){this.item=a.default.instance().getItemByRareList(r[this.special])},e.prototype.getItem=function(){return this.item||this.setItem(),this.item},e.CLASS_NAME="BoxPopItemModel",e}(i.DataModel);o.default=s,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../game/model/FoodMgr":"FoodMgr"}],BoxPopItemView:[function(t,e,o){"use strict";cc._RF.push(e,"4024fdgWF1EVa8bc513ZNyd","BoxPopItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../config/Config"),a=t("../model/BoxpopMgr"),r=t("../../../cocos/TweenMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=t.call(this)||this;return e.label=null,e.icon=null,e.box=null,e.adButton=null,e.button=null,e}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onEnter=function(){this.gEventProxy.on(i.EventName.OPEN_BOX,this.openBox,this),this.adButton.active=a.default.instance().needAd(),this.label.node.active=!1,this.icon.node.active=!1},e.prototype.openBox=function(t){if(t==this.model)this.draw(this.model.getItem());else{if(this.controller.used(this.model))return;a.default.instance().needAd()&&(this.adButton.active=!0)}},e.prototype.onButtonClick=function(){this.controller.clickBox(this.model)},e.prototype.draw=function(t){t?(this.box.node.active=!1,this.icon.node.active=!0,this.button.active=!1,this.icon.node.scale=this.model.getScale()+.5,console.log("  item.getIcon() ",t.getIcon()),this.setSpriteAtlas(this.icon,t.getModuleID(),t.getIcon(),t.getSpriteFrame()),r.default.showRewardItem(this.icon.node,this.model.getScale()+.5)):console.warn(" item is null ")},__decorate([l(cc.Label)],e.prototype,"label",void 0),__decorate([l(cc.Sprite)],e.prototype,"icon",void 0),__decorate([l(cc.Sprite)],e.prototype,"box",void 0),__decorate([l(cc.Node)],e.prototype,"adButton",void 0),__decorate([l(cc.Node)],e.prototype,"button",void 0),__decorate([c],e)}(n.BaseItemView);o.default=u,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/TweenMgr":"TweenMgr","../../../config/Config":"Config","../model/BoxpopMgr":"BoxpopMgr"}],BoxPopView:[function(t,e,o){"use strict";cc._RF.push(e,"091e74/E+ZBZae72eBP9nXV","BoxPopView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("./BoxPopItemView"),a=t("../../../engine/engine"),r=t("../../../config/Config"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=t.call(this)||this;return e.itemPrefab=null,e.layout=null,e.specialIcon=null,e.speNode=null,e}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onEnter=function(){for(var t=this.model.getRandomList(),e=null,o=0;o<t.length;o++){var n=t[o],s=a.engine.instantiate(this.itemPrefab),c=s.getComponent(i.default);c.setModel(n),c.setController(this.controller),this.layout.node.addChild(s),n.isSpecial()&&(console.log(" model.isSpecial() ",n.isSpecial()),e=n.getItem())}e&&this.setSpriteAtlas(this.specialIcon,e.getModuleID(),e.getIcon(),e.getSpriteFrame()),this.gEventProxy.on(r.EventName.CLOSE_GAME_VIEW,this.hide,this)},e.prototype.onbackButtonClick=function(){this.hide()},__decorate([l(cc.Prefab)],e.prototype,"itemPrefab",void 0),__decorate([l(cc.Layout)],e.prototype,"layout",void 0),__decorate([l(cc.Sprite)],e.prototype,"specialIcon",void 0),__decorate([l(cc.Node)],e.prototype,"speNode",void 0),__decorate([c],e)}(n.BaseView);o.default=u,cc._RF.pop()},{"../../../cfw/view":"view","../../../config/Config":"Config","../../../engine/engine":"engine","./BoxPopItemView":"BoxPopItemView"}],BoxpopMgr:[function(t,e,o){"use strict";cc._RF.push(e,"0b6ccSNnZxHpodFgcAVFfZN","BoxpopMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./BoxPopItemModel"),r=t("../../../cfw/tools/Utils"),s=t("../../../cfw/local"),c=t("../../user/User"),l=t("../../../extention/redtip/RedTipMgr"),u=t("../../../config/Config"),d=t("../../../config/TestConfig"),p=t("../../level/model/LevelMgr"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxPopItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.boxPopItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),this.count=new s.LocalValue("BoxpopMgrcount",0),this.dayNum=new s.LocalValue("BoxpopMgrdayNum",0),this.dayNum.getInt()!=c.default.instance().getLoginDayNum()&&(this.count.setValue(0),this.dayNum.setValue(c.default.instance().getLoginDayNum())),!this.needAd()&&this.isOpen()&&l.default.instance().addRedTip(u.RedTipType.BOX_POP),d.default.BOX_POP},e.prototype.needAd=function(){return this.count.getInt()>=2},e.prototype.updateCount=function(){this.count.updateValue(1)},e.prototype.getBoxPopItemModel=function(t){return this.boxPopItemModelMgr.getByID(t)},e.prototype.getBoxPopItemModelList=function(){return this.boxPopItemModelMgr.getList()},e.prototype.setRandomList=function(){for(var t=this.getBoxPopItemModelList(),e=0;e<t.length;e++)t[e].reset();var o=r.default.random(0,t.length);console.log(" spe ========= ",o),t[o]&&(console.log(" spe ========= 222",o),t[o].setSpecial(1))},e.prototype.getRandomList=function(){return this.getBoxPopItemModelList()},e.prototype.isOpen=function(){return p.default.instance().getLevel()>=u.RANDOM_BOX_OPEN_LEVEL},e.prototype.getTip=function(){return u.RANDOM_BOX_OPEN_LEVEL+"\u7ea7\u4e4b\u540e\u5f00\u542f"},e}(n.BaseModel);o.default=h,cc._RF.pop()},{"../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/tools/Utils":"Utils","../../../config/Config":"Config","../../../config/TestConfig":"TestConfig","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../level/model/LevelMgr":"LevelMgr","../../user/User":"User","./BoxPopItemModel":"BoxPopItemModel"}],BuildItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"6e3c0mDOslBN6kc7jl5JO7t","BuildItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.BuildItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../../cfw/local"),r=t("../../../config/Config"),s=t("../../../cfw/model"),c=t("../../task/model/TaskMgr"),l=t("../../../cfw/event"),u=t("../../../extention/redtip/RedTipMgr"),d=t("./SceneMgr"),p=t("../../../config/ModuleConfig");(function(t){t[t.type=0]="type",t[t.index=1]="index",t[t.item=2]="item",t[t.state=3]="state",t[t.coin=4]="coin"})(n=o.BuildItemModelEnum||(o.BuildItemModelEnum={}));var h=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getType=function(){return this.getValue(n.type)},e.prototype.getIndex=function(){return this.getValue(n.index)},e.prototype.getItem=function(){return this.getValue(n.item)},e.prototype.setItem=function(t){this.setValue(n.item,t)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t),this.emit(r.EventName.UPDATE_BUILD_STATE),this.checkState()},e.prototype.init=function(e,o){t.prototype.init.call(this,e,o),this.checkState()},e.prototype.checkState=function(){this.getState()==s.ItemState.CAN_GET&&(u.default.instance().addRedTip(r.RedTipType.BUILD_OPEN,this.getID()),l.GEvent.instance().emit(r.EventName.NEW_BUILD_OPEN,this))},e.prototype.setCoin=function(t){this.setValue(n.coin,t),this.emit(r.EventName.UPDATE_BUILD_COIN)},e.prototype.getCoin=function(){return this.getValue(n.coin)},e.prototype.getTotalCoin=function(){return c.default.instance().getTotalCoin(this.getID())},e.prototype.isClear=function(){return this.getOpenCount()>=this.getTotalCount()},e.prototype.getOpenCount=function(){return c.default.instance().getOpenCount(this.getID())},e.prototype.getTotalCount=function(){return c.default.instance().getTotalCount(this.getID())},e.prototype.getItemImage=function(t){void 0===t&&(t=0);var e="texture/room_items_0"+this.getType(),o=this.getIndex();return e+"_"+(o<10?"0"+o:o)+"_0"+t},e.prototype.getBuildState=function(t){return this.buildState||(this.buildState=new a.LocalList("BuildItemModel"+this.ID,s.ItemState.NOT_GET),this.buildState.isHaveData()||this.buildState.set(0,s.ItemState.GOT)),this.buildState.get(t)},e.prototype.setBuildState=function(t,e){this.buildState||(this.buildState=new a.LocalList("BuildItemModel"+this.ID,s.ItemState.NOT_GET)),this.buildState.set(t,e)},e.prototype.getSceneModel=function(){return d.default.instance().getSceneItemModel(this.getType())},e.prototype.getModuleID=function(){var t=this.getSceneModel();return t?t.getBundle():p.ModuleID.PUBLIC},e.CLASS_NAME="BuildItemModel",e}(i.DataModel);o.default=h,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/event":"event","../../../cfw/local":"local","../../../cfw/model":"model","../../../config/Config":"Config","../../../config/ModuleConfig":"ModuleConfig","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../task/model/TaskMgr":"TaskMgr","./SceneMgr":"SceneMgr"}],BuildItemView:[function(t,e,o){"use strict";cc._RF.push(e,"2e54c1MENlO1IR1noq+RS5i","BuildItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../extention/guide/GuideMgr"),a=t("../../../config/Config"),r=t("../../sound/model/SoundMgr"),s=t("../../../cfw/model"),c=t("../../../cfw/module"),l=t("../../../cfw/res"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=this.node.children[0];if(t){this.image=t.getComponent(cc.Sprite);var e=parseInt(this.node.name)-1;this.addButton(this.image.node,e),this.gEventProxy.on(a.EventName.CHANGE_BUILD_IMG,this.updateBuild,this)}},e.prototype.addListener=function(){},e.prototype.updateItem=function(){switch(this.node.children[1],this.model.getState()){case s.ItemState.GOT:}},e.prototype.content=function(){var t=this.node.children[1];this.controller.addBuildTag(this.model,t),this.updateBuild(this.model,this.model.getItem())},e.prototype.addButton=function(t,e){var o=t.addComponent(cc.Button);o.transition=cc.Button.Transition.SCALE;var n=new cc.Component.EventHandler;n.target=this.node,n.component="BuildItemView",n.handler="onBuildClick",n.customEventData=""+e,o.clickEvents.push(n)},e.prototype.getWorldPos=function(){var t=this.node.children[1];return t.parent.convertToWorldSpaceAR(t.getPosition())},e.prototype.updateBuild=function(t,e){var o=this;if(this.model==t){t.getState(),s.ItemState.GOT;var n=t.getItemImage(e);c.ModuleManager.loadRes(t.getModuleID(),n,l.ResType.SpriteFrame,function(t,e){!t&&cc.isValid(o.node)&&o.image&&(o.image.spriteFrame=e.getRes())})}},e.prototype.onBuildClick=function(){this.controller&&this.model&&(r.default.instance().playSound(a.SoundID.sfx_buttonPress),this.controller.intoBuildSelect(this.model,this.node),i.default.instance().notify("onBuildClick"))},__decorate([d],e)}(n.BaseItemView));o.default=p,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/res":"res","../../../cfw/view":"view","../../../config/Config":"Config","../../../extention/guide/GuideMgr":"GuideMgr","../../sound/model/SoundMgr":"SoundMgr"}],BuildSelectView:[function(t,e,o){"use strict";cc._RF.push(e,"ae4d7DGsUtDLp2YDAxmyjJO","BuildSelectView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/event"),a=t("../../../config/Config"),r=t("../../sound/model/SoundMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonCancelSprite=null,e.ButtonCancelButton=null,e.ButtonSelectSprite=null,e.ButtonSelectButton=null,e.selectLabelLabel=null,e.adSprite=null,e.RoomWindowArrow_LSprite=null,e.RoomWindowArrow_LButton=null,e.RoomWindowArrow_RSprite=null,e.RoomWindowArrow_RButton=null,e.index=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.index=this.model.getItem(),this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown,this)},e.prototype.hitTest=function(){return this.hide(),!1},e.prototype.onMouseDown=function(){this.hide()},e.prototype.onDestroy=function(){},e.prototype.onButtonCancelButtonClick=function(){this.hide(),i.GEvent.instance().emit(a.EventName.CHANGE_BUILD_IMG,this.model,this.model.getItem())},e.prototype.onButtonSelectButtonClick=function(){this.hide()},e.prototype.onRoomWindowArrow_LButtonClick=function(){this.index=this.index+1,this.index>3&&(this.index=0),this.model.setItem(this.index),i.GEvent.instance().emit(a.EventName.CHANGE_BUILD_IMG,this.model,this.index),r.default.instance().playSound(a.SoundID.sfx_buttonPress)},e.prototype.onRoomWindowArrow_RButtonClick=function(){this.index=this.index-1,this.index<0&&(this.index=3),this.model.setItem(this.index),i.GEvent.instance().emit(a.EventName.CHANGE_BUILD_IMG,this.model,this.index),r.default.instance().playSound(a.SoundID.sfx_buttonPress)},__decorate([l({type:cc.Sprite,displayName:"ButtonCancelSprite"})],e.prototype,"ButtonCancelSprite",void 0),__decorate([l({type:cc.Button,displayName:"ButtonCancelButton"})],e.prototype,"ButtonCancelButton",void 0),__decorate([l({type:cc.Sprite,displayName:"ButtonSelectSprite"})],e.prototype,"ButtonSelectSprite",void 0),__decorate([l({type:cc.Button,displayName:"ButtonSelectButton"})],e.prototype,"ButtonSelectButton",void 0),__decorate([l({type:cc.Label,displayName:"selectLabelLabel"})],e.prototype,"selectLabelLabel",void 0),__decorate([l({type:cc.Sprite,displayName:"adSprite"})],e.prototype,"adSprite",void 0),__decorate([l({type:cc.Sprite,displayName:"RoomWindowArrow_LSprite"})],e.prototype,"RoomWindowArrow_LSprite",void 0),__decorate([l({type:cc.Button,displayName:"RoomWindowArrow_LButton"})],e.prototype,"RoomWindowArrow_LButton",void 0),__decorate([l({type:cc.Sprite,displayName:"RoomWindowArrow_RSprite"})],e.prototype,"RoomWindowArrow_RSprite",void 0),__decorate([l({type:cc.Button,displayName:"RoomWindowArrow_RButton"})],e.prototype,"RoomWindowArrow_RButton",void 0),__decorate([c],e)}(n.BaseView);o.default=u,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/view":"view","../../../config/Config":"Config","../../sound/model/SoundMgr":"SoundMgr"}],BuildTagView:[function(t,e,o){"use strict";cc._RF.push(e,"dcb5ev/v5RI1b93/HhY7VTm","BuildTagView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../config/Config"),a=t("../../../cfw/model"),r=t("../../../extention/redtip/RedTipPoint"),s=t("../../../extention/redtip/RedTipView"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.upImg=null,e.grayImg=null,e.point=null,e.pointView=null,e.bg=null,e.finger=null,e}return __extends(e,t),e.prototype.start=function(){this.content(),this.gEventProxy.on(i.EventName.UPDATE_TASK_STATE,this.updateItem,this)},e.prototype.addListener=function(){this.eventProxy.on(i.EventName.UPDATE_BUILD_COIN,this.updateItem,this),this.eventProxy.on(i.EventName.UPDATE_BUILD_STATE,this.updateItem,this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.updateItem=function(){this.content()},e.prototype.content=function(){this.point.id=this.model.getID(),this.pointView.updateState();var t=this.model.getState();switch(parseInt(t)){case a.ItemState.NOT_GET:this.bg.active=!0,this.finger.active=!1,this.upImg.node.active=!1,this.grayImg.node.active=!0;break;case a.ItemState.ON_GOING:this.bg.active=!0,this.finger.active=!1,this.upImg.node.active=!1,this.grayImg.node.active=!1;break;case a.ItemState.CAN_GET:this.bg.active=!0,this.finger.active=!0,this.upImg.node.active=!0,this.grayImg.node.active=!1;break;case a.ItemState.GOT:this.bg.active=!1,this.finger.active=!0}var e=this.model.getOpenCount(),o=this.model.getTotalCount();this.label.string=e+"/"+o},__decorate([u(cc.Label)],e.prototype,"label",void 0),__decorate([u(cc.Sprite)],e.prototype,"upImg",void 0),__decorate([u(cc.Sprite)],e.prototype,"grayImg",void 0),__decorate([u(r.default)],e.prototype,"point",void 0),__decorate([u(s.default)],e.prototype,"pointView",void 0),__decorate([u(cc.Node)],e.prototype,"bg",void 0),__decorate([u(cc.Node)],e.prototype,"finger",void 0),__decorate([l],e)}(n.BaseItemView);o.default=d,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/view":"view","../../../config/Config":"Config","../../../extention/redtip/RedTipPoint":"RedTipPoint","../../../extention/redtip/RedTipView":"RedTipView"}],ButtonDuration:[function(t,e,o){"use strict";cc._RF.push(e,"4b9357kogpLKLwCW5oiZOVS","ButtonDuration"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.flag=!1}return t.prototype.canClick=function(){var t=this;return!this.flag&&(this.flag=!0,setTimeout(function(){t.flag=!1},500),!0)},t}();o.default=n,cc._RF.pop()},{}],ButtonSoundComp:[function(t,e,o){"use strict";cc._RF.push(e,"339bcmA25RDwY0A+HoW+jmX","ButtonSoundComp"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../config/Config"),i=t("../../logic/sound/model/SoundMgr"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundID=n.SoundID.sfx_buttonPress,e}return __extends(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.touchEnd=function(){i.default.instance().playSound(this.soundID)},__decorate([s],e.prototype,"soundID",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../config/Config":"Config","../../logic/sound/model/SoundMgr":"SoundMgr"}],BuyBuildTipView:[function(t,e,o){"use strict";cc._RF.push(e,"4ca8fG6vFFMyJVt33qQiZGP","BuyBuildTipView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/event"),a=t("../../../config/Config"),r=t("../../task/model/TaskMgr"),s=t("../../scene/model/SceneMgr"),c=t("../../../extention/guide/GuideMgr"),l=t("../../sound/model/SoundMgr"),u=t("../../../cfw/tools/Debug"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setGameView=function(t){this.gameView=t},e.prototype.onButtonClick=function(){c.default.instance().notify("onBuiltClick"),this.curBuild||(this.curBuild=r.default.instance().getCurBuild()),i.GEvent.instance().emit(a.EventName.CLOSE_GAME_VIEW,this.curBuild),this.curBuild=null},e.prototype.getOrder=function(){return 10},e.prototype.start=function(){this.node.active=!1,this.gEventProxy.on(a.EventName.NEW_BUILD_OPEN,this.updateState,this),this.updateState(r.default.instance().getCurBuild())},e.prototype.updateState=function(t){u.default.log(" build.getState() ",t.getState()),this.curBuild=t,s.default.instance().hasBuildNotOpen(t)?(this.node.active=!0,l.default.instance().playSound(a.SoundID.sfx_greenTick),this.popAnim()):this.node.active=!1},e.prototype.popAnim=function(){cc.tween(this.node).by(.2,{scale:.4}).by(.2,{scale:-.4}).start()},__decorate([p],e)}(n.BaseItemView));o.default=h,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/tools/Debug":"Debug","../../../cfw/view":"view","../../../config/Config":"Config","../../../extention/guide/GuideMgr":"GuideMgr","../../scene/model/SceneMgr":"SceneMgr","../../sound/model/SoundMgr":"SoundMgr","../../task/model/TaskMgr":"TaskMgr"}],BuyC:[function(t,e,o){"use strict";cc._RF.push(e,"e964dtveilHBIWcuk+G/VrR","BuyC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../game/GameC"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){},e.prototype.buy=function(){},e.prototype.showFoodInfo=function(t){i.default.instance().showFoodInfo(t)},e}(n.BaseController);o.default=a,cc._RF.pop()},{"../../cfw/mvc":"mvc","../game/GameC":"GameC"}],BuyEnergyView:[function(t,e,o){"use strict";cc._RF.push(e,"c134eoI+wlI8Y7LCdh9NypK","BuyEnergyView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/tools/Define"),a=t("../../../extention/guide/GuideMgr"),r=t("../../../extention/gevent/GameEventAdapter"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backBtnButton=null,e.adBtnSprite=null,e.adBtnButton=null,e.costNumLabel=null,e.tokenBtnSprite=null,e.tokenBtnButton=null,e.cion_icon=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this.model.getBuyEnergyCost();this.costNumLabel.string=""+t,r.default.instance().isOpen()&&(this.costNumLabel.string="\u514d\u8d39")},e.prototype.onDestroy=function(){},e.prototype.onbackBtnButtonClick=function(){this.hide()},e.prototype.onadBtnButtonClick=function(){this.controller.buyEnergy(i.DIR.LEFT)},e.prototype.ontokenBtnButtonClick=function(){this.controller.buyEnergy(i.DIR.RIGHT),a.default.instance().notify("onTokenBtnClick")},__decorate([l({type:cc.Button,displayName:"backBtnButton"})],e.prototype,"backBtnButton",void 0),__decorate([l({type:cc.Sprite,displayName:"adBtnSprite"})],e.prototype,"adBtnSprite",void 0),__decorate([l({type:cc.Button,displayName:"adBtnButton"})],e.prototype,"adBtnButton",void 0),__decorate([l({type:cc.Label,displayName:"costNumLabel"})],e.prototype,"costNumLabel",void 0),__decorate([l({type:cc.Sprite,displayName:"tokenBtnSprite"})],e.prototype,"tokenBtnSprite",void 0),__decorate([l({type:cc.Button,displayName:"tokenBtnButton"})],e.prototype,"tokenBtnButton",void 0),__decorate([l(cc.Node)],e.prototype,"cion_icon",void 0),__decorate([c],e)}(n.BaseView);o.default=u,cc._RF.pop()},{"../../../cfw/tools/Define":"Define","../../../cfw/view":"view","../../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../../extention/guide/GuideMgr":"GuideMgr"}],BuyFoodItemView:[function(t,e,o){"use strict";cc._RF.push(e,"dbca9zC7M1Px7ZdlLxPvmEv","BuyFoodItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../BuyC"),a=t("../../../cocos/ccpool"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.icon=null,e}return __extends(e,t),e.prototype.content=function(){this.model.getFType()<5?this.setSpriteAtlas(this.icon,this.model.getModuleID(),this.model.getIcon()+2,this.model.getSpriteFrame()):this.setSpriteAtlas(this.icon,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame()),this.icon.node.scale=this.model.getScale()/2},e.prototype.getFoodID=function(){return this.model.getID()},e.prototype.recover=function(){a.CCPoolManager.instance().put(this.node)},e.prototype.onButtonClick=function(){i.default.instance().showFoodInfo(this.model)},e.prototype.setBgVisible=function(t){this.bg.node.opacity=t?255:0},__decorate([c(cc.Sprite)],e.prototype,"bg",void 0),__decorate([c(cc.Sprite)],e.prototype,"icon",void 0),__decorate([s],e)}(n.BaseItemView);o.default=l,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../BuyC":"BuyC"}],BuyItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"42087zmQ9tKl6ynnlcpseV2","BuyItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.BuyItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../public/bag/BagManager"),r=t("../../person/model/PersonMgr"),s=t("../../../cfw/model"),c=t("../../../cfw/event"),l=t("../../../config/Config");(function(t){t[t.personID=0]="personID",t[t.items=1]="items",t[t.itemID=2]="itemID",t[t.itemNum=3]="itemNum",t[t.state=4]="state",t[t.delete=5]="delete"})(n=o.BuyItemModelEnum||(o.BuyItemModelEnum={}));var u=function(t){function e(){var o=t.call(this,e.CLASS_NAME)||this;return o.items=[],o}return __extends(e,t),e.prototype.getPersonID=function(){return this.getValue(n.personID)},e.prototype.getItems=function(){return this.getValue(n.items)},e.prototype.getItemID=function(){return this.getValue(n.itemID)},e.prototype.getItemNum=function(){return this.getValue(n.itemNum)},e.prototype.setPersonID=function(t){this.setValue(n.personID,t)},e.prototype.getDelete=function(){return this.getValue(n.delete)},e.prototype.getItemList=function(){if(0==this.items.length)for(var t=this.getItems(),e=0;e<t.length;e++){var o=t[e],n=a.default.instance().getNewItemModel(o,1);this.items.push(n)}return this.items},e.prototype.getPerson=function(){return r.default.instance().getPersonItemModel(this.getPersonID())},e.prototype.getRewardItem=function(){var t=this.getItemID(),e=this.getItemNum();return this.rewardItem||(this.rewardItem=a.default.instance().getNewItemModel(t,e)),this.rewardItem},e.prototype.removeSelf=function(){},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t),t==s.ItemState.CAN_GET&&c.GEvent.instance().emit(l.EventName.BUY_ITEM_FULL,this.getID())},e.CLASS_NAME="BuyItemModel",e}(i.DataModel);o.default=u,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/event":"event","../../../cfw/model":"model","../../../config/Config":"Config","../../person/model/PersonMgr":"PersonMgr","../../public/bag/BagManager":"BagManager"}],BuyItemView:[function(t,e,o){"use strict";cc._RF.push(e,"8f1fffciCxAIbKFHpHnzTzG","BuyItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("./BuyFoodItemView"),a=t("../../../cfw/model"),r=t("../../../cocos/ccpool"),s=t("../../../cfw/event"),c=t("../../../config/Config"),l=t("../../../extention/guide/GuideMgr"),u=t("../../sound/model/SoundMgr"),d=t("../../../merge/MergeEngin"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinNum=null,e.foodFrefab=null,e.goBtn=null,e.itemIcon=null,e.layout=null,e.personPrefab=null,e.personPos=null,e.foods=[],e.hasCount=0,e}return __extends(e,t),e.prototype.setGameView=function(t){this.gameView=t},e.prototype.content=function(){var t=this,e=this.model.getRewardItem();this.setSpriteAtlas(this.itemIcon,e.getModuleID(),e.getIcon(),e.getSpriteFrame());for(var o=this.model.getItemList(),n=0;n<o.length;n++){var a=o[n],s=r.CCPoolManager.instance().get("BuyFoodItemView",function(){return cc.instantiate(t.foodFrefab)}),c=s.getComponent(i.default);c&&(c.setModel(a),c.content(),this.foods.push(c)),this.layout.node.addChild(s)}},e.prototype.changePersonState=function(t){this.person&&this.person.changeState(t)},e.prototype.getDuration=function(){return this.person?this.person.getDuration():0},e.prototype.animationFinish=function(){c.PersonState.OUT},e.prototype.getRewardItem=function(){return this.model.getRewardItem()},e.prototype.hasFood=function(t,e,o){for(var n=0,i=0;i<t.length;i++){var r=t[i];if(r.getState()==a.ItemState.GOT){var s=r.getFood();if(s&&s.getState()!=a.ItemState.CAN_GET&&s.getFoodID()==e&&++n-o>0)return!0}}return!1},e.prototype.isFull=function(){return this.hasCount>=this.foods.length},e.prototype.getHasCount=function(){return this.hasCount},e.prototype.updateState=function(){for(var t=this.gameView.getGridList(),e=this.foods,o=0,n=[],i=0;i<e.length;i++){var r=e[i],s=r.getID();null==n[s]&&(n[s]=0),this.hasFood(t,s,n[s])?(n[s]++,o++,r.setBgVisible(!0)):r.setBgVisible(!1)}this.hasCount=o,o>=e.length?this.goBtn.node.active||(this.goBtn.node.active=!0,this.model.setState(a.ItemState.CAN_GET),this.changePersonState(c.PersonState.TIP),u.default.instance().playSound(c.SoundID.sfx_greenTick)):this.goBtn.node.active&&(this.goBtn.node.active=!1,this.model.setState(a.ItemState.ON_GOING))},e.prototype.onGoButtonClick=function(){l.default.instance().notify("onBuyItemClick"),s.GEvent.instance().emit(c.EventName.DELETE_BUY_ITEM,this),d.PlotMgr.instance().setItemCondition(this.model.getPersonID())},e.prototype.removeSelf=function(){this.model.removeSelf()},e.prototype.recover=function(){for(var t=0;t<this.foods.length;t++)this.foods[t].recover();r.CCPoolManager.instance().put(this.node),this.foods.length=0},e.prototype.getFoods=function(){return this.foods},e.prototype.getOrder=function(){return 8},__decorate([f(cc.Label)],e.prototype,"coinNum",void 0),__decorate([f(cc.Prefab)],e.prototype,"foodFrefab",void 0),__decorate([f(cc.Button)],e.prototype,"goBtn",void 0),__decorate([f(cc.Sprite)],e.prototype,"itemIcon",void 0),__decorate([f(cc.Layout)],e.prototype,"layout",void 0),__decorate([f(cc.Prefab)],e.prototype,"personPrefab",void 0),__decorate([f(cc.Node)],e.prototype,"personPos",void 0),__decorate([h],e)}(n.BaseItemView);o.default=g,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/model":"model","../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../../../config/Config":"Config","../../../extention/guide/GuideMgr":"GuideMgr","../../../merge/MergeEngin":"MergeEngin","../../sound/model/SoundMgr":"SoundMgr","./BuyFoodItemView":"BuyFoodItemView"}],BuyMgr:[function(t,e,o){"use strict";cc._RF.push(e,"593efFKaGJE45Bg4ttyphTQ","BuyMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./BuyItemModel"),r=t("../../../cfw/local"),s=t("../../../config/Config"),c=t("../../level/model/LevelMgr"),l=t("../../../cfw/event"),u=t("../../../cfw/tools/Utils"),d=t("../../game/model/FoodMgr"),p=t("./BuyPerson"),h=t("../../../config/TestConfig"),f=t("../../../cfw/tools/Debug"),g=[1,50,2,40,3,10],y=[1,2,3,4,5,6,7,8,10,11,12,13,14,16],m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buyItemModelMgr=new n.ModelManager,e.buyItemList=[],e}return __extends(e,t),e.prototype.initData=function(){this.buyList=new r.LocalList("BuyList",0),this.personIndex=new r.LocalValue("personIndex",1),this.buyItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),this.buyList.isHaveData()||(this.buyList.push(1),this.personIndex.updateValue(1));for(var t=0;t<this.buyList.size();t++){var e=this.buyList.get(t);this.buyItemList.push(this.getNewBuyPerson(e))}if(h.default.CAT_TEST&&(cc.warn(" init 111"),this.buyItemList.push(this.addBuyPerson(32)),cc.warn(" init 22")),h.default.BUY_TEST){var o=this.getBuyItemModelList();for(t=0;t<o.length;t++)for(var n=o[t],c=n.getItemList(),l=0;l<c.length;l++){var u=c[l];u.getType()!=s.ItemType.FOOD&&f.default.warn(" food id ",u.getID(),n.getID())}}},e.prototype.getBuyPerson=function(t){for(var e=0;e<this.buyItemList.length;e++){var o=this.buyItemList[e];if(o.getID()==t)return o}return null},e.prototype.hasPerson=function(t){for(var e=0;e<this.buyItemList.length;e++)if(this.buyItemList[e].getPersonID()==t)return!0;return!1},e.prototype.hasSameItem=function(t){for(var e=this.buyItemList,o=0;o<e.length;o++){for(var n=e[o],i=t.getItems(),a=n.getItems(),r=0,s=0;s<i.length;s++){var c=i[s];a.indexOf(c)>=0&&r++}if(r>=i.length)return!0}return!1},e.prototype.getUnUsePersonID=function(){for(var t=[],e=0;e<y.length;e++){var o=y[e];t.push(o)}for(e=0;e<t.length;e++){var n=u.default.random(0,t.length),i=t[0],a=t[n];t[n]=i,t[0]=a}for(e=1;e<t.length;e++){var r=t[e];if(!this.hasPerson(r))return r}return-1},e.prototype.canCreate=function(t){if(!t)return!1;for(var e=t.getItems(),o=0;o<e.length;o++){var i=e[o],a=d.default.instance().getFoodItemModel(i);if(a){var r=a.getBeBornInitID();if(r>0){var s=d.default.instance().getFoodItemModel(r);if(s&&s.getFoodState()==n.ItemState.NOT_GET)return!1}}}return!this.hasSameItem(t)},e.prototype.addBuyPerson=function(t){var e=new p.default(t);if(!e.hasData()){var o=this.getBuyItemModel(t);if(o){e.setPersonID(o.getPersonID()),e.setItems(o.getItems()),e.setItemID(o.getItemID()),e.setItemNum(o.getItemNum()),cc.warn(" addBuyPerson 1 ");var i=o.getDelete();i&&i>0&&e.setDelete(o.getDelete()),cc.warn(" addBuyPerson 21 ")}e.setState(n.ItemState.NOT_GET)}return cc.warn(" addBuyPerson 3 "),e},e.prototype.getNewBuyPerson=function(t,e){var o=new p.default(t);if(!o.hasData()){var i=this.getUnUseData();if(i)o.setPersonID(i.getPersonID()),o.setItems(i.getItems()),o.setItemID(i.getItemID()),o.setItemNum(i.getItemNum()),i.getDelete()>0&&o.setDelete(i.getDelete());else{if(t<=this.buyItemModelMgr.size())return null;if(!(e&&e.length>0))return null;var a=this.getUnUsePersonID();o.setPersonID(a);for(var r=[],c=0,l=u.default.getRandomValueByList(g),h=0;h<l;h++)for(var f=e[u.default.random(0,e.length)],y=d.default.instance().getFoodIndexData(f),m=0,v=0;v<y.length;v++){var _=y[v],S=_.getPrice();if(S&&S.length>0){var I=S[0];if(m+=S[1],u.default.random(0,100)<=m){r.push(_.getID()),c+=I;break}}}o.setItems(r),o.setItemID(s.ItemID.GOLD),o.setItemNum(c)}o.setState(n.ItemState.NOT_GET)}return o},e.prototype.getUnUseData=function(){for(var t=this.buyItemModelMgr.size(),e=0,o=null,i=0;i<t;i++){var a=this.buyItemModelMgr.getByIndex(i);if(a.getState()==n.ItemState.NOT_GET){if(this.canCreate(a)){if(a.getID()>3){var r=this.getUnUsePersonID();a.setPersonID(r),o=a,a.setState(n.ItemState.GOT);break}if(r=a.getPersonID(),!this.hasPerson(r)){a.setPersonID(r),o=a,a.setState(n.ItemState.GOT);break}}if(++e>5)break}}return o},e.prototype.getPerson=function(t){var e=this.personIndex.getInt(),o=this.getNewBuyPerson(e,t);return o&&this.personIndex.updateValue(1),o},e.prototype.getCount=function(){return this.buyItemList.length},e.prototype.audoAddPerson=function(t){var e=c.default.instance().getPersonNum(),o=this.getCount();if(o<e){var i=e-o;console.log("audoAddPerson sub =========== ",i);for(var a=0;a<i;a++){var r=this.getPerson(t);console.log("person",r),r&&(r.setState(n.ItemState.ON_GOING),this.add(r),l.GEvent.instance().emit(s.EventName.ADD_BUY_ITEM,r))}}},e.prototype.getBuyItemModel=function(t){return this.buyItemModelMgr.getByID(t)},e.prototype.getBuyItemModelList=function(){return this.buyItemModelMgr.getList()},e.prototype.getBuyList=function(){return this.buyItemList},e.prototype.remove=function(t){var e=this.buyItemList.indexOf(t);e>=0&&(t.setState(n.ItemState.GOT),this.buyItemList.splice(e,1),this.buyList.delete(t.getID()))},e.prototype.add=function(t){this.buyList.push(t.getID()),this.buyItemList.push(t)},e}(n.BaseModel);o.default=m,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/tools/Debug":"Debug","../../../cfw/tools/Utils":"Utils","../../../config/Config":"Config","../../../config/TestConfig":"TestConfig","../../game/model/FoodMgr":"FoodMgr","../../level/model/LevelMgr":"LevelMgr","./BuyItemModel":"BuyItemModel","./BuyPerson":"BuyPerson"}],BuyPerson:[function(t,e,o){"use strict";cc._RF.push(e,"d8f26L6zChOAr+FgKO4PMzb","BuyPerson"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/local"),i=t("../../../cfw/model"),a=t("../../public/bag/BagManager"),r=t("../../person/model/PersonMgr"),s=t("./BuyMgr"),c=t("../../../config/Config"),l=t("../../../cfw/event"),u=t("../../public/mediator/FoodMediator"),d=function(t){function e(e){var o=t.call(this)||this;return o.id=0,o.items=[],o.delete=0,o.setID(e),o.data=new n.LocalMap("BuyPerson"+e,0),o}return __extends(e,t),e.prototype.hasData=function(){return this.data.isHaveData()},e.prototype.setPersonID=function(t){this.data.set("PersonID",t)},e.prototype.setDelete=function(t){this.delete=t},e.prototype.getDelete=function(){return this.delete},e.prototype.getItems=function(){return this.data.get("Items")},e.prototype.setItems=function(t){this.data.set("Items",t)},e.prototype.getPersonID=function(){return this.data.get("PersonID")},e.prototype.setItemID=function(t){this.data.set("ItemID",t)},e.prototype.setItemNum=function(t){this.data.set("ItemNum",t)},e.prototype.getItemNum=function(){return this.data.get("ItemNum")},e.prototype.getPerson=function(){return r.default.instance().getPersonItemModel(this.getPersonID())},e.prototype.getItemList=function(){if(0==this.items.length){for(var t=this.getItems(),e=0;e<t.length;e++){var o=t[e],n=a.default.instance().getNewItemModel(o,1);this.items.push(n)}u.default.instance().checkBuyItem(this.items)}return this.items},e.prototype.getItemID=function(){return this.data.get("ItemID")},e.prototype.getRewardItem=function(){var t=this.getItemID(),e=this.getItemNum();return this.rewardItem||(this.rewardItem=a.default.instance().getNewItemModel(t,e)),this.rewardItem},e.prototype.removeSelf=function(){u.default.instance().removeBuyItemList(this.items),s.default.instance().remove(this),this.data.removeSelf(),u.default.instance().checkBuyItemList()},e.prototype.getState=function(){return this.data.get("State")},e.prototype.setState=function(t){this.data.set("State",t),t==i.ItemState.CAN_GET&&l.GEvent.instance().emit(c.EventName.BUY_ITEM_FULL,this.getID())},e}(i.BaseItemModel);o.default=d,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/local":"local","../../../cfw/model":"model","../../../config/Config":"Config","../../person/model/PersonMgr":"PersonMgr","../../public/bag/BagManager":"BagManager","../../public/mediator/FoodMediator":"FoodMediator","./BuyMgr":"BuyMgr"}],BuyPropFoodItemView:[function(t,e,o){"use strict";cc._RF.push(e,"5a214mjFGBGP5VaSIZCsGWU","BuyPropFoodItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.content=function(){this.model&&this.setSpriteAtlas(this.icon,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame())},__decorate([r(cc.Sprite)],e.prototype,"icon",void 0),__decorate([a],e)}(n.BaseItemView);o.default=s,cc._RF.pop()},{"../../../cfw/view":"view"}],BuyPropView:[function(t,e,o){"use strict";cc._RF.push(e,"b79d3dKYfRJjJJzVr9ryL2J","BuyPropView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../game/model/GridFoodMgr"),a=t("../../game/view/FoodItemView"),r=t("../../../config/Config"),s=t("../../../extention/guide/GuideMgr"),c=t("../../../cocos/ccpool"),l=t("../../../cocos/comp/ScaleForever"),u=t("../../../cfw/time"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.content=null,e.finger=null,e.props=[],e.frameLoader=new u.SplitFrameLoader(e.splitFrameInit.bind(e),r.FRAME_DURATION),e}return __extends(e,t),e.prototype.setGameView=function(t){this.gameView=t},e.prototype.splitFrameInit=function(t){var e=this.model.getRewardList();if(e.size()<=0||t<0||t>=e.size())u.TimeManager.instance().remove(this.frameLoader);else{var o=e.get(t),n=i.default.instance().getFood(o);this.add(n)}},e.prototype.onLoad=function(){this.model=i.default.instance(),this.finger.addComponent(l.default),u.TimeManager.instance().add(this.frameLoader)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),u.TimeManager.instance().remove(this.frameLoader)},e.prototype.addProp=function(t){this.add(t)},e.prototype.add=function(t){var e=this;if(t){var o=c.CCPoolManager.instance().get("FoodItemView",function(){return cc.instantiate(e.prefab)});if(o){o.setPosition(cc.v2(0,0));var n=o.getComponent(a.default);n&&(n.setModel(t),n.content(),this.content.addChild(o),this.props.push(n))}}},e.prototype.onButtonClick=function(){var t=this.props.length-1;if(!(t<0||t>=this.props.length)){var e=this.props[t],o=null;this&&(o=this.node.convertToWorldSpaceAR(e.node.getPosition()));var n=this.gameView.addFoodByGift(e,o);s.default.instance().notify("onButtonClick"),n&&(i.default.instance().deleteRewardFood(e.getID()),this.props.splice(t,1),this.props.length<=0&&(this.node.active=!1))}},e.prototype.getOrder=function(){return 9},__decorate([h(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([h(cc.Node)],e.prototype,"content",void 0),__decorate([h(cc.Node)],e.prototype,"finger",void 0),__decorate([p],e)}(n.BaseView);o.default=f,cc._RF.pop()},{"../../../cfw/time":"time","../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../../../cocos/comp/ScaleForever":"ScaleForever","../../../config/Config":"Config","../../../extention/guide/GuideMgr":"GuideMgr","../../game/model/GridFoodMgr":"GridFoodMgr","../../game/view/FoodItemView":"FoodItemView"}],BuyTaskItemView:[function(t,e,o){"use strict";cc._RF.push(e,"ad94blq3D9BoI5i8CIe2R5E","BuyTaskItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../task/TaskC"),a=t("../../task/model/TaskMgr"),r=t("../../../cfw/model"),s=t("../../../config/Config"),c=t("../../../extention/guide/GuideMgr"),l=t("../../sound/model/SoundMgr"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setGameView=function(t){this.gameView=t},e.prototype.onButtonClick=function(){c.default.instance().notify("onTaskBtnClick"),i.default.instance().intoLayer()},e.prototype.getOrder=function(){return 10},e.prototype.start=function(){this.gEventProxy.on(s.EventName.UPDATE_TASK_STATE,this.updateTaskState,this),this.updateTaskState()},e.prototype.updateTaskState=function(){var t=a.default.instance().getCurTask();t&&t.getState()==r.ItemState.CAN_GET?(this.node.active=!0,l.default.instance().playSound(s.SoundID.sfx_greenTick),this.popAnim()):this.node.active=!1},e.prototype.popAnim=function(){cc.tween(this.node).by(.2,{scale:.4}).by(.2,{scale:-.4}).start()},__decorate([d],e)}(n.BaseItemView));o.default=p,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/view":"view","../../../config/Config":"Config","../../../extention/guide/GuideMgr":"GuideMgr","../../sound/model/SoundMgr":"SoundMgr","../../task/TaskC":"TaskC","../../task/model/TaskMgr":"TaskMgr"}],BuyTokenModel:[function(t,e,o){"use strict";cc._RF.push(e,"e1122P9BYdMj48Q5Si36zXb","BuyTokenModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../config/Config"),a=function(t){function e(e){var o=t.call(this)||this;return o.num=0,o.num=e,o}return __extends(e,t),e.prototype.getNum=function(){return i.BUY_TOKEN},e}(n.BaseModel);o.default=a,cc._RF.pop()},{"../../../cfw/model":"model","../../../config/Config":"Config"}],BuyTokenView:[function(t,e,o){"use strict";cc._RF.push(e,"03c401tp/xGM4x5GT4IV52r","BuyTokenView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.play_smallSprite=null,e.play_smallButton=null,e.levelLabel=null,e.backBtnButton=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.levelLabel.string=""+this.model.getNum()},e.prototype.onDestroy=function(){},e.prototype.onplay_smallButtonClick=function(){this.controller&&(this.hide(),this.controller.openStoreView())},e.prototype.onbackBtnButtonClick=function(){this.hide()},e.prototype.onPlayAdButtonClick=function(){this.controller.buyToken(this)},__decorate([r({type:cc.Sprite,displayName:"play_smallSprite"})],e.prototype,"play_smallSprite",void 0),__decorate([r({type:cc.Button,displayName:"play_smallButton"})],e.prototype,"play_smallButton",void 0),__decorate([r({type:cc.Label,displayName:"levelLabel"})],e.prototype,"levelLabel",void 0),__decorate([r({type:cc.Button,displayName:"backBtnButton"})],e.prototype,"backBtnButton",void 0),__decorate([a],e)}(n.BaseView);o.default=s,cc._RF.pop()},{"../../../cfw/view":"view"}],BuyView:[function(t,e,o){"use strict";cc._RF.push(e,"db8fdy1J7NEG6maGYuV8UAG","BuyView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("./BuyItemView"),a=t("../model/BuyMgr"),r=t("../../../cocos/ccpool"),s=t("../../../cfw/event"),c=t("../../../config/Config"),l=t("../../game/view/GameView"),u=t("../../game/model/GridFoodMgr"),d=t("./BuyPropView"),p=t("../../../cfw/model"),h=t("./BuyTaskItemView"),f=t("../../sound/model/SoundMgr"),g=t("../model/BuyPerson"),y=t("../../../cfw/time"),m=t("../../../merge/MergeEngin"),v=cc._decorator,_=v.ccclass,S=v.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buyItemPrefab=null,e.buyTaskItemView=null,e.buyPropView=null,e.layout=null,e.scrollView=null,e.frameLoader=new y.SplitFrameLoader(e.splitFrameInit.bind(e),c.FRAME_DURATION),e.itemList=[],e}return __extends(e,t),e.prototype.onLoad=function(){this.gameView=this.node.getComponent(l.GameView)},e.prototype.start=function(){this.buyPropView.setGameView(this.gameView),this.buyTaskItemView.setGameView(this.gameView),this.model=a.default.instance(),this.addPerson(),u.default.instance().getRewardSize()<=0&&this.buyPropView.setVisible(!1),y.TimeManager.instance().add(this.frameLoader),this.gEventProxy.on(c.EventName.ADD_BUY_ITEM,this.add,this),this.gEventProxy.on(c.EventName.ADD_BUY_PROP,this.addProp,this),this.updateBuyItemList(),this.gEventProxy.on(c.EventName.CHANGE_FOOD_STATE,this.addPerson,this),this.gEventProxy.on(c.EventName.UPDATE_TASK_STATE,this.newItems,this),this.gEventProxy.on(c.EventName.NEW_BUILD_OPEN,this.newItems,this),this.gEventProxy.on(c.EventName.ADD_BUY_PROP,this.newItems,this),m.PlotMgr.instance().getTotalCondition().forEach(function(t){var e=new g.default(t.type),o=a.default.instance().getBuyItemModel(1);e.setPersonID(t.scene_Id),e.setItems([t.type]),e.setItemID(0),e.setItemNum(o.getItemNum()),s.GEvent.instance().emit(c.EventName.ADD_BUY_ITEM,e)})},e.prototype.newItems=function(){this.scrollView&&this.scrollView.scrollToLeft(.2)},e.prototype.splitFrameInit=function(t){var e=this.model.getBuyList();e.length<=0||t<0||t>=e.length?y.TimeManager.instance().remove(this.frameLoader):e[t]},e.prototype.addPerson=function(){this.model.audoAddPerson(this.gameView.getFoodType())},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),y.TimeManager.instance().remove(this.frameLoader)},e.prototype.addBuyView=function(){},e.prototype.addProp=function(t){this.buyPropView.node.active=!0,this.buyPropView.add(t)},e.prototype.add=function(t){var e=this;console.log("\u6dfb\u52a0\u8ba2\u5355");var o=r.CCPoolManager.instance().get("BuyItemView",function(){return cc.instantiate(e.buyItemPrefab)}),n=o.getComponent(i.default);n&&(n.setGameView(this.gameView),n.setModel(t),n.content(),n.updateState(),this.itemList.push(n),this.layout.node.addChild(o),this.updateBuyItemList(),f.default.instance().playSound(c.SoundID.sfx_winCashTillAppear))},e.prototype.remove=function(t){var e=this.itemList.indexOf(t);e>=0&&this.itemList.splice(e,1)},e.prototype.recover=function(){for(var t=0;t<this.itemList.length;t++)this.itemList[t].recover()},e.prototype.updateBuyItemList=function(){for(var t=this.gameView.getGridList(),e={},o=0;o<this.itemList.length;o++){(r=this.itemList[o]).updateState();for(var n=r.getFoods(),a=0;a<n.length;a++)e[(s=n[a]).getFoodID()]=1}for(o=0;o<t.length;o++){var r,s;(r=t[o]).getState()==p.ItemState.GOT&&(s=r.getFood())&&(e[s.getFoodID()]?s.getState()!=p.ItemState.CAN_GET&&s.setBgVisible(c.FoodHasState.HAS):s.setBgVisible(c.FoodHasState.NONE),r.setFoodHasState(s.getFoodHasState()))}this.layout.node.children.sort(function(t,e){var o=t.getComponent(i.default),n=e.getComponent(i.default);return o.isFull()&&n.isFull()?0:o.isFull()?-1:n.isFull()?1:n.getHasCount()-o.getHasCount()}),this.layout._doLayoutDirty(),this.layout.updateLayout()},__decorate([S(cc.Prefab)],e.prototype,"buyItemPrefab",void 0),__decorate([S(h.default)],e.prototype,"buyTaskItemView",void 0),__decorate([S(d.default)],e.prototype,"buyPropView",void 0),__decorate([S(cc.Layout)],e.prototype,"layout",void 0),__decorate([S(cc.ScrollView)],e.prototype,"scrollView",void 0),__decorate([_],e)}(n.BaseView);o.default=I,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/model":"model","../../../cfw/time":"time","../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../../../config/Config":"Config","../../../merge/MergeEngin":"MergeEngin","../../game/model/GridFoodMgr":"GridFoodMgr","../../game/view/GameView":"GameView","../../sound/model/SoundMgr":"SoundMgr","../model/BuyMgr":"BuyMgr","../model/BuyPerson":"BuyPerson","./BuyItemView":"BuyItemView","./BuyPropView":"BuyPropView","./BuyTaskItemView":"BuyTaskItemView"}],CMgr:[function(t,e,o){"use strict";cc._RF.push(e,"58593kBaENA4ZfO1XQ/GlrO","CMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./DevHelper"),i=t("./QQHelper"),a=t("./VivoHelper"),r=t("./WXHelper"),s=t("./OppoHelper"),c=t("../sdk/SDKConfig"),l=t("./TTHelper"),u=t("./F399Helper"),d=t("./KSHelper"),p=t("./MiMoHelper"),h=function(){function t(){}return Object.defineProperty(t,"helper",{get:function(){return this.h},enumerable:!1,configurable:!0}),t.setHelper=function(t){var e=null;switch(t){case c.ChannelID.QQ:e=new i.default;break;case c.ChannelID.VIVO:e=new a.default;break;case c.ChannelID.WX:e=new r.default;break;case c.ChannelID.OPPO:e=new s.default;break;case c.ChannelID.TT:e=new l.default;break;case c.ChannelID.F399:e=new u.default;break;case c.ChannelID.KS:e=new d.default;break;case c.ChannelID.MIMO:e=new p.default;break;default:e=new n.default}this.h=e},t}();o.default=h,cc._RF.pop()},{"../sdk/SDKConfig":"SDKConfig","./DevHelper":"DevHelper","./F399Helper":"F399Helper","./KSHelper":"KSHelper","./MiMoHelper":"MiMoHelper","./OppoHelper":"OppoHelper","./QQHelper":"QQHelper","./TTHelper":"TTHelper","./VivoHelper":"VivoHelper","./WXHelper":"WXHelper"}],CSJBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"acacbrS2adCHKivtTbHSHyy","CSJBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.bannerAd||(this.bannerAd=this.sdk.createBannerAd({adUnitId:this.adUnitID,layout:1,width:300,height:100}),this.bannerAd.onLoad(this.onLoad.bind(this)),this.bannerAd.onError(this.onError.bind(this))),this.bannerAd.load()},e}(t("../base/BaseBannerAd").default);o.default=n,cc._RF.pop()},{"../base/BaseBannerAd":"BaseBannerAd"}],CSJChannel:[function(t,e,o){"use strict";cc._RF.push(e,"91cd5q+DeBEX61Dqhm4Tytu","CSJChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("./CSJBannerAd"),a=t("./CSJInsertAd"),r=t("./CSJRewardAd"),s=t("../SDKConfig"),c=t("../native/NativeFileSystem"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this.cfg,e=t[s.ADName.reward];if(e)for(var o=0;o<e.length;o++){var n=e[o];this.rewardAd.push(new r.default(this,n))}if(e=t[s.ADName.banner])for(o=0;o<e.length;o++)n=e[o],this.bannerAd.push(new i.default(this,n));if(e=t[s.ADName.insert])for(o=0;o<e.length;o++)n=e[o],this.insertAd.push(new a.default(this,n));this.fileSystem=new c.default(this)},e}(n.default);o.default=l,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","../native/NativeFileSystem":"NativeFileSystem","./CSJBannerAd":"CSJBannerAd","./CSJInsertAd":"CSJInsertAd","./CSJRewardAd":"CSJRewardAd"}],CSJInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"17650MkmutIY4CJ7mToGGgk","CSJInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(){console.log("BaseInterstitialAd showAd adUnitID ",this.adUnitID),this.state=n.SDKState.loading,this.create(),this.load()},e.prototype.create=function(){this.insertAd||(this.insertAd=this.sdk.createInterstitialAd({adUnitId:this.adUnitID}),this.insertAd.onLoad(this.onLoad.bind(this)),this.insertAd.onError(this.onError.bind(this)))},e}(t("../base/BaseInsertAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseInsertAd":"BaseInsertAd"}],CSJRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"fbf4cXSWEtAbIwLmj1INZQ4","CSJRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.rewardAd||(this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this))),this.rewardAd.load()},e}(t("../base/BaseRewardAd").default);o.default=n,cc._RF.pop()},{"../base/BaseRewardAd":"BaseRewardAd"}],CanMultyAdView:[function(t,e,o){"use strict";cc._RF.push(e,"3b2b7W3y79D4J7ATz5r+yCp","CanMultyAdView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../channel-ts/CMgr"),i=cc._decorator,a=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.active=!n.default.helper.canMultyAd()},__decorate([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{"../channel-ts/CMgr":"CMgr"}],CardView:[function(t,e,o){"use strict";cc._RF.push(e,"187a1fr3OBLj5QgzAAM5h9P","CardView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/module"),i=t("../../../cfw/res"),a=t("../model/FoodMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setSprite=function(t){var e=this,o=a.default.instance().getFoodItemModel(t);n.ModuleManager.loadRes("game","texture/props2",i.ResType.SpriteAtlas,function(t,n){if(!t&&cc.isValid(e.node)){var i=n.getRes();e.sprite.spriteFrame=i.getSpriteFrame(o.getSpriteFrame())}})},__decorate([c(cc.Sprite)],e.prototype,"sprite",void 0),__decorate([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../cfw/module":"module","../../../cfw/res":"res","../model/FoodMgr":"FoodMgr"}],ChangeScale:[function(t,e,o){"use strict";cc._RF.push(e,"00309sVqKtHT4/3RxMAdjEQ","ChangeScale"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=.5,e.scale=.4,e.temp=1,e}return __extends(e,t),e.prototype.start=function(){this.temp=this.node.scale,cc.tween(this.node).repeatForever(cc.tween(this.node).by(this.time,{scale:this.scale}).by(this.time,{scale:-this.scale})).start()},e.prototype.stop=function(){this.node.scale=this.temp,cc.Tween.stopAllByTarget(this.node)},__decorate([a],e.prototype,"time",void 0),__decorate([a],e.prototype,"scale",void 0),__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],ChannelEvent:[function(t,e,o){"use strict";cc._RF.push(e,"b36c9GsmPZBKKpYtQ1hIV2n","ChannelEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.eventHash={}}return t.instance=function(){return this.ins||(this.ins=new t),this.ins},t.prototype.offAll=function(){this.eventHash={}},t.prototype.offByName=function(t){this.eventHash[t]=[]},t.prototype.clearByTarget=function(t,e){var o=this.eventHash[t];if(o&&o.length>0)for(var n=0;n<o.length;n++)if(o[n].ower===e){o.splice(n,1);break}},t.prototype.on=function(t,e,o){if(!(this.has(t,e,o)>=0)){this.eventHash.hasOwnProperty(t)||(this.eventHash[t]=[]);var n={};n.ower=o,n.type=t,n.callback=e,this.eventHash[t].push(n)}},t.prototype.has=function(t,e,o){var n=this.eventHash[t];if(n&&n.length>0)for(var i=0;i<n.length;i++){var a=n[i];if(a.ower===o&&a.cb===e)return i}return-1},t.prototype.off=function(t,e,o){var n=this.eventHash[t];if(n&&n.length>0)for(var i=0;i<n.length;i++){var a=n[i];if(a.ower===o&&a.cb===e){n.splice(i,1);break}}},t.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.eventHash[t];if(n&&n.length>0)for(var i in n){var a=n[i];a.callback&&a.callback.apply(a,__spreadArrays([a.ower],e))}},t.LOAD_EXPORT_DATA="LOAD_EXPORT_DATA",t.LOAD_CONFIG="LOAD_CONFIG",t}();o.default=n,cc._RF.pop()},{}],ChannelUtils:[function(t,e,o){"use strict";cc._RF.push(e,"3065eHIcftKt6kTboDfhfhd","ChannelUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.random=function(t,e){return e?Math.floor(Math.random()*(e-t)+t):Math.floor(Math.random()*t)},t.isNull=function(t){return null==t||null==t},t.sendHttpRequest=function(t,e,o,n){void 0===n&&(n="GET");var i=new XMLHttpRequest;if(i.timeout=15e3,i.ontimeout=function(){o("ontimeout ",null)},i.onload=function(){if(i.status>=200&&i.status<400){var t=i.responseText;o(null,t)}else o("onload error ",null)},"GET"==n){t=t+"?"+e,i.open(n,t);try{i.send()}catch(a){o("get error "+a,null)}}else{i.open(n,t);try{i.send(e)}catch(a){o("POST error "+a,null)}}},t.uint8ArrayToString=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(t[o]);return e},t.stringToUint8Array=function(t){for(var e=[],o=0,n=t.length;o<n;++o)e.push(t.charCodeAt(o));return new Uint8Array(e)},t.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var o=Math.max(t.length,e.length);t.length<o;)t.push("0");for(;e.length<o;)e.push("0");for(var n=0;n<o;n++){var i=parseInt(t[n]),a=parseInt(e[n]);if(i>a)return 2;if(i<a)return 0}return 1},t.convertToSDKStyle=function(t,e,o,n,i,a,r){var s=r.height/a,c=o/s,l=n/s;return{left:t/s-c/2,top:a-e/s-l/2,width:c,height:l}},t}();o.default=n,cc._RF.pop()},{}],CloseGameTip:[function(t,e,o){"use strict";cc._RF.push(e,"6221blSuEJKL40REQftYgM4","CloseGameTip"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.emit(e.CLOSE_TIP)},e.CLOSE_TIP="close_game_tip",e}(t("../../gevent/operate/OperateObserver").default);o.default=n,cc._RF.pop()},{"../../gevent/operate/OperateObserver":"OperateObserver"}],CocosBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"fe7cf7lxHFPToB7fy/L725T","CocosBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.bannerAd||(this.bannerAd=this.sdk.createBannerAd(n.ADName.banner,this.adUnitID,2),this.bannerAd.onLoad(this.onLoad.bind(this)),this.bannerAd.onError(this.onError.bind(this)))},e}(t("../base/BaseBannerAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseBannerAd":"BaseBannerAd"}],CocosChannel:[function(t,e,o){"use strict";cc._RF.push(e,"fe9adNuzuxOq7cMMYqKSUmO","CocosChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("../SDKConfig"),a=t("./CocosBannerAd"),r=t("./CocosInsertAd"),s=t("./CocosRewardAd"),c=t("./CocosFileSystem"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this.cfg;window.AdSDK.init();var e=t[i.ADName.reward];if(e)for(var o=0;o<e.length;o++){var n=e[o];this.rewardAd.push(new s.default(this,n))}if(e=t[i.ADName.banner])for(o=0;o<e.length;o++)n=e[o],this.bannerAd.push(new a.default(this,n));if(e=t[i.ADName.insert])for(o=0;o<e.length;o++)n=e[o],this.insertAd.push(new r.default(this,n));this.fileSystem=new c.default(this.getSDK())},e.prototype.getFlipY=function(){return-1},e}(n.default);o.default=l,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","./CocosBannerAd":"CocosBannerAd","./CocosFileSystem":"CocosFileSystem","./CocosInsertAd":"CocosInsertAd","./CocosRewardAd":"CocosRewardAd"}],CocosFileSystem:[function(t,e,o){"use strict";cc._RF.push(e,"8a9f5d65EJBd5c1Gq3/adqX","CocosFileSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/SDKFileSystemManager"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sys_path="",e}return __extends(e,t),e.prototype.init=function(){this.rt=window.loadRuntime(),this.fs=this.rt.getFileSystemManager(),this.sys_path=this.rt.env.USER_DATA_PATH+"/",console.log(" sys_path ",this.sys_path)},e.prototype.writeFile=function(t,e,o,n){var a=this.sys_path+t;console.log("CocosFileSystem writeFile  ",a),this.fs.writeFile({filePath:a,data:e,encoding:o,success:function(){console.log(" writeFile ok"),n(i.ResultState.YES)},fail:function(){console.log(" writeFile fail"),n(i.ResultState.NO)},complete:function(){console.log(" writeFile complete")}})},e.prototype.outlog=function(t){for(var e in t)if(t.hasOwnProperty(e)){var o=t[e];console.log(" key222 ",e),console.log(" value 222",o)}},e.prototype.readFile=function(t,e,o){var n=this.sys_path+t;console.log("CocosFileSystem readFile  ",n),this.fs.readFile({filePath:n,encoding:e,success:function(t){if(console.log(" readFile ok"),e==i.FileEncoding.BINARY){var n=new Uint8Array(t.data);o(i.ResultState.YES,n)}else o(i.ResultState.YES,t.data)},fail:function(){console.log(" readFile fail"),o(i.ResultState.NO,null)},complete:function(){console.log(" writeFile complete")}})},e.prototype.writeFileSync=function(t,e,o){var n=this.sys_path+t;console.log("writeFileSync  filePath ",n," encoding ",o);var i=this.fs.writeFileSync(n,e,o);return console.log(" result ",i),i},e.prototype.readFileSync=function(t,e){var o=this.sys_path+t;return console.log("readFileSync  filePath ",o),this.fs.readFileSync(o,e)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/SDKFileSystemManager":"SDKFileSystemManager"}],CocosInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"76422L6ax9PoqF9KCltLo+L","CocosInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseInsertAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.preload=function(){this.state=i.SDKState.loading,this.destroy(),this.create()},e.prototype.create=function(){this.insertAd||(this.insertAd=this.sdk.createInterstitialAd(i.ADName.insert,this.adUnitID,1),this.insertAd.onLoad(this.onLoad.bind(this)),this.insertAd.onError(this.onError.bind(this)))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseInsertAd":"BaseInsertAd"}],CocosJsNativeBridge:[function(t,e,o){"use strict";cc._RF.push(e,"694958cy2hOCKRWw2FOJvoR","CocosJsNativeBridge"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.callStaticMethod=function(t,e,o,n){void 0===n&&(n="(Ljava/lang/String;)V");var i=window.cc,a=window.jsb;if(i.log("NativeTest JsNativeBridge callStaticMethod ",i.sys.isNative),!i.sys.isNative)return-1;if(i.log("NativeTest JsNativeBridge callStaticMethod ",e,o),i.sys.os==i.sys.OS_IOS)(r=a.reflection.callStaticMethod(t,e,o))&&i.log("NativeTest callStaticMethod ios  ",r);else{i.log("NativeTest JsNativeBridge callStaticMethod adroid ");var r=a.reflection.callStaticMethod(t,e,n,o);if(i.log("NativeTest callStaticMethod result  ",r),r)return r}},t}();o.default=n,cc._RF.pop()},{}],CocosRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"d8ce9aP4IlIC66P5cmuou0w","CocosRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.rewardAd||(this.rewardAd=this.sdk.createRewardedVideoAd(n.ADName.reward,this.adUnitID,1),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)))},e.prototype.show=function(){var t=this;this.rewardAd.show().then(function(){console.log("videoAd \u5e7f\u544a\u663e\u793a\u6210\u529f\uff0c\u53d1\u653e\u6fc0\u52b1\u5956\u52b1"),t.callback&&t.callback(n.ResultState.YES)},function(){console.log("videoAd \u5e7f\u544a\u663e\u793a\u5931\u8d25"),t.callback&&t.callback(n.ResultState.NO)})},e}(t("../base/BaseRewardAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],CombatC:[function(t,e,o){"use strict";cc._RF.push(e,"193fbFa0jJPNImykOGhd5gq","CombatC"),Object.defineProperty(o,"__esModule",{value:!0}),o.BoxType=void 0;var n,i=t("../../../cfw/local"),a=t("../../../cfw/time"),r=t("../../../extention/gevent/operate/OperateObserver"),s=t("../../game/model/FoodMgr"),c=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.ptTimeObserver=new a.SheduleTimer(function(){var t=s.default.instance().getGridItemModelList(),n=0;t.forEach(function(t){if(null!=t&&1==t.getState()&&0!=t.getFoodID()){var o=s.default.instance().getFoodItemModel(t.getFoodID());1==o.getFType()&&(n+=e.ptList[o.getLevel()-1])}}),n>0&&o.ptDoDelta(n)},1.5),o}return __extends(e,t),e.prototype.initData=function(){this.hp=new i.LocalValue("hp",15),this.combatNumber=new i.LocalValue("Combat",50),this.pt=new i.LocalValue("pt",10),this.buyCount=new i.LocalList("buyCount",[1,1,1,1]),this.buyCount.setValue([1,1,1,1],!0),a.TimeManager.instance().add(this.ptTimeObserver)},e.prototype.hpDoDelta=function(t){var o=this.hp.getInt()+t>100?100:this.hp.getInt()+t;this.hp.setValue(o),this.hp.saveValue(),this.emit(e.CombatChange,this.getHp(),this.getCombatNumber(),this.getPt())},e.prototype.combatNumberDoDelta=function(t){this.combatNumber.setValue(this.combatNumber.getInt()+t),this.combatNumber.saveValue(),this.emit(e.CombatChange,this.getHp(),this.getCombatNumber(),this.getPt())},e.prototype.ptDoDelta=function(t){if(t<0&&this.pt.getInt()<Math.abs(t))return!1;var o=this.pt.getInt()+t;return this.pt.setValue(o),this.pt.saveValue(),this.emit(e.CombatChange,this.getHp(),this.getCombatNumber(),this.getPt()),!0},e.prototype.getHp=function(){return this.hp.getInt()},e.prototype.getCombatNumber=function(){return this.combatNumber.getInt()},e.prototype.getPt=function(){return this.pt.getInt()},e.prototype.setHp=function(t){this.hp.setValue(t,!0)},e.prototype.setCombatNumber=function(t){this.combatNumber.setValue(t,!0)},e.prototype.setPt=function(t){this.pt.setValue(t,!0)},e.prototype.buyBox=function(t){var e=0,o=this.buyCount.getValue();switch(console.log("cost",o),t){case n.food:e=10+o[0]*(o[0]-1),o[0]++,this.buyCount.setValue(o,!0);break;case n.medicine:e=20+o[1]*(o[1]-1),o[1]++,this.buyCount.setValue(o,!0);break;case n.weapon:e=15+o[2]*(o[2]-1),o[2]++,this.buyCount.setValue(o,!0);break;case n.item:e=22+o[3]*(o[3]-1),o[3]++,this.buyCount.setValue(o,!0)}return this.ptDoDelta(-e)},e.CombatChange="CombatChange",e.ptList=[2,4,6,12,21,38,68,122,220,397,714,1285],e.hpList=[2,5,11,23,48,100],e.combatList=[10,22,48,106,234,515,1134,2494,5488,12073],e}(r.default);o.default=c,function(t){t[t.food=0]="food",t[t.medicine=1]="medicine",t[t.weapon=2]="weapon",t[t.item=3]="item"}(n=o.BoxType||(o.BoxType={})),cc._RF.pop()},{"../../../cfw/local":"local","../../../cfw/time":"time","../../../extention/gevent/operate/OperateObserver":"OperateObserver","../../game/model/FoodMgr":"FoodMgr"}],CombatView:[function(t,e,o){"use strict";cc._RF.push(e,"f13395dOfpPTrFRVLGGrC+q","CombatView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CombatC"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpLabel=null,e.combatLabel=null,e.ptLabel=null,e}return __extends(e,t),e.prototype.start=function(){this.onCombatChange(n.default.instance().getHp(),n.default.instance().getCombatNumber(),n.default.instance().getPt())},e.prototype.onEnable=function(){n.default.instance().on(n.default.CombatChange,this.onCombatChange,this)},e.prototype.onDisable=function(){n.default.instance().off(n.default.CombatChange,this.onCombatChange,this)},e.prototype.onCombatChange=function(t,e,o){this.hpLabel.string=t.toString()+"%",this.combatLabel.string=e.toString(),this.ptLabel.string=o.toString()},__decorate([r(cc.Label)],e.prototype,"hpLabel",void 0),__decorate([r(cc.Label)],e.prototype,"combatLabel",void 0),__decorate([r(cc.Label)],e.prototype,"ptLabel",void 0),__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./CombatC":"CombatC"}],Component3D:[function(t,e,o){"use strict";cc._RF.push(e,"d77c1qUjYpM74fjSCMXYxWP","Component3D"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(cc.Component);o.default=n,cc._RF.pop()},{}],Config:[function(t,e,o){"use strict";cc._RF.push(e,"cac9bN4OaRJa4Y9p2n5KDIN","Config"),Object.defineProperty(o,"__esModule",{value:!0}),o.posName=o.defaultClothe=o.POS_LIST=o.POS_MAP=o.PER_ENEY_GOLD=o.ENMEY_RUN_SPD=o.PLAYER_MOVE_SPD=o.ENMEY_MOVE_SPD=o.AIR_HIGH=o.GROUND=o.GAME_SPPED=o.ARROW_SPEED=o.ARROW_NUM=o.ENEMY_HEAD=o.ENEMY_NAME=o.RANK_COLORS=o.SoundID=o.AudioID=o.BattleType=o.INIT_SCALE=o.SCALE_STEP=o.INIT_DRAGON=o.ENERGY_NUM=o.ENEMY_COUNT=o.EXP_NUM=o.ActionFinishType=o.BUY_TOKEN=o.BUY_GOLD=o.BUILD_GOLD=o.TREE_GOLD=o.TREE_BLOOD=o.ROTATION_SPD=o.DRAGON_SPEED=o.MOVE_DURATION=o.ATK_DURATION=o.ANGLE=o.RANGE=o.ObjectType=o.PerceptionType=o.CameraPos=o.GameActionType=o.ManActionType=o.SLEEP_TIME=o.SLEEP_NUM=o.WASH_SOPE=o.PlayerActionType=o.EnemyActionType=o.EventName=o.MAP_EDGE=o.ResName=void 0,o.FRAME_DURATION=o.RANDOM_BOX_OPEN_LEVEL=o.LUCKY_SPIN_OPEN_LEVEL=o.EGG_OPEN_LEVEL=o.FREE_EGG_COUNT=o.SPECIAL_TASK_OK=o.VEDIO_TOKEN=o.VEDIO_ENERGY=o.PersonState=o.DailyTaskID=o.FoodHasState=o.RedTipType=o.ENERGY_MAX=o.ENERGY_TIME=o.WEEKLY_RATIO=o.DEFAUL_GOLG=o.FoodOutType=o.FoodType=o.stepPoints=o.TreeList=o.KEY_MAX=o.UI_TYPE=o.ENRGY_NUM2=o.ENRGY_NUM=o.GOLD_NUM=o.MAX_CLOTHE_VALUE=o.RATIO_NUM=o.TouchType=o.ItemID=o.ItemType=o.PropType=o.PlayerAttrType=o.ATTR_TIME_STEP=o.ATTR_MAX=o.ATTR_STEP=o.ClotheActionType=o.ClotheType=void 0;var n=t("../cfw/tools/Utils"),i=function(){function t(){}return t.getDressUpRoom=function(){return t.getRes(t.MAP2_PAH,t.DressUp_Room)},t.getMap=function(){return t.getRes(t.MAP2_PAH,t.Map2)},t.getPlayer=function(){return t.getRes(t.PlayerPrefab,t.Player)},t.getPlayer2=function(){return t.getRes(t.Player2Prefab,t.Player2)},t.getRes=function(t,e){return n.default.replaceOpt(t,{platform:"Conventional",filename:e})},t.getResByModule=function(t,e,o){return n.default.replaceOpt(t,{platform:"Conventional",filename:e,moduleID:o})},t.WEAPON="Bow",t.MAN="Man",t.ITEM="Items",t.DOOR="Door",t.Map2="ScenaNapolje01",t.Player="Dog1",t.Player2="Dog2",t.DressUp_Room="DressUp_Room",t.DRAGON_TEXTURE="res/unity/prefab/LayaScene_DragonPrefab/%{platform}/Assets/Dragon/OldDragon/Texture/%{filename}",t.DOOR_PREFAB="LayaScene_Door/%{platform}/%{filename}.lh",t.MAP2_PAH="LayaScene_DogMap/%{platform}/%{filename}.lh",t.ITEM_PREFAB="LayaScene_Items/%{platform}/%{filename}.lh",t.WeaponPrefab="LayaScene_Bow/%{platform}/%{filename}.lh",t.ManPrefab="LayaScene_Man/%{platform}/%{filename}.lh",t.PlayerPrefab="LayaScene_Dog/%{platform}/%{filename}.lh",t.Player2Prefab="LayaScene_Dog2/%{platform}/%{filename}.lh",t.ENMEY_PATH="%{moduleID}/%{platform}/%{filename}.lh",t}();o.ResName=i,o.MAP_EDGE=31;var a,r=function(){function t(){}return t.SELECT_FOOD="SELECT_FOOD",t.DELETE_GRID_FOOD="DELETE_GRID_FOOD",t.UNLOCKPLOT="UNLOCKPLOT",t.UPDATE_SPECIAL_TASK_TIME="UPDATE_SPECIAL_TASK_TIME",t.CHANGE_SPECIAL_TASK_STATE="CHANGE_SPECIAL_TASK_STATE",t.UPDATE_SPECIAL_TASK_STEP="UPDATE_SPECIAL_TASK_STEP",t.UPDATE_SPECIAL_GOLD_NUM="UPDATE_SPECIAL_GOLD_NUM",t.OPEN_BOX="OPEN_BOX",t.ADD_FOOD_BY_GITF="ADD_FOOD_BY_GITF",t.FOOD_FRAZE="FOOD_FRAZE",t.OPEN_VIEW="OPEN_VIEW",t.BUY_ITEM_FULL="BUY_ITEM_FULL",t.MERGE_NEW_FOOD="MERGE_NEW_FOOD",t.VIEW_SHOW="VIEW_SHOW",t.NEW_BUILD_OPEN="NEW_BUILD_OPEN",t.UPDATE_WEEKLY_STATE="UPDATE_WEEKLY_STATE",t.ONLINE_LIGHT_EFFECT="ONLINE_LIGHT_EFFECT",t.UPDATE_ONLINE_TIME="UPDATE_ONLINE_TIME",t.UPDATE_ENERGY_TIMER="UPDATE_ENERGY_TIMER",t.CHANGE_FOOD_STATE="CHANGE_FOOD_STATE",t.TASK_OPEN="TASK_OPEN",t.CLOSE_GAME_VIEW="CLOSE_GAME_VIEW",t.UPDATE_BUILD_STATE="UPDATE_BUILD_STATE",t.UPDATE_BUILD_COIN="UPDATE_BUILD_COIN",t.UPDATE_TASK_STATE="UPDATE_TASK_STATE",t.UPDATE_FOOD="UPDATE_FOOD",t.UPDATE_FOOD_LIST="UPDATE_FOOD_LIST",t.CHANGE_BUILD_IMG="CHANGE_BUILD_IMG",t.INIT_FINISH="INIT_FINISH",t.WC_WATER="WC_WATER",t.BORN_FINISH="born_finish",t.UPDATE_LEVEL="UPDATE_LEVEL",t.UPDATE_EXP="UPDATE_EXP",t.GAME_TIP="GAME_TIP",t.UPDATE_ATTR_VALUE="UPDATE_ATTR_VALUE",t.ADD_FOOD="ADD_FOOD",t.CHANGE_GAME_STATE="CHANGE_GAME_STATE",t.TOUCH_MOVE="touch_move",t.TOUCH_END="touch_end",t.TOUCH_START="touch_start",t.SCREEN_START="SCREEN_START",t.SCREEN_MOVE="SCREEN_MOVE",t.SCREEN_END="SCREEN_END",t.SHOOT="SHOOT",t.ADD_GOLD="add_gold",t.CHANGE_WEAPON="CHANGE_WEAPON",t.CHANGE_SHOW_WEAPON="CHANGE_SHOW_WEAPON",t.CHANGE_MAN="CHANGE_MAN",t.UPDATE_USE_STATE="update_use_state",t.UPDATE_DINO_STATE="update_dino_state",t.UPDATE_KILL_COUNT="UPDATE_KILL_COUNT",t.UPDATE_ARROW_NUM="UPDATE_ARROW_NUM",t.UPDATE_ENMEY_NUM="UPDATE_ENMEY_NUM",t.CHANGE_STATE="CHANGE_STATE",t.SET_CAMERA="SET_CAMERA",t.MOVE_PLANE="MOVE_PLANE",t.GAME_PAUSE="GAME_PAUSE",t.GAME_RESUME="GAME_RESUME",t.JOYSTICK_START="JOYSTICK_START",t.JOYSTICK_END="JOYSTICK_END",t.JOYSTICK_MOVE="JOYSTICK_MOVE",t.SET_MAN="SET_MAN",t.UPDATE_ITEM_NUM="update_item_num",t.UPDATE_ITEM_NUM_FINISH="UPDATE_ITEM_NUM_FINISH",t.CHANGE_CLOTHE_TYPE="CHANGE_CLOTHE_TYPE",t.UPDATE_CLOTHE_STATE="UPDATE_CLOTHE_STATE",t.CHANGE_PLAYER_STATE="CHANGE_PLAYER_STATE",t.SET_SLEEP_STATE="SET_SLEEP_STATE",t.WASH_SOAP="WASH_SOAP",t.ADD_SOAP="ADD_SOAP",t.ADD_HEART="ADD_HEART",t.REMOVE_HEART="REMOVE_HEART",t.WASH_CLEAR="WASH_CLEAR",t.OPEN_FOOD_VIEW="OPEN_FOOD_VIEW",t.DELETE_BUY_ITEM="DELETE_BUY_ITEM",t.ADD_BUY_ITEM="ADD_BUY_ITEM",t.UPDATE_FOOD_STATE="UPDATE_FOOD_STATE",t.HIDE_CD_TIME="HIDE_CD_TIME",t.SHOW_CD_TIME="SHOW_CD_TIME",t.UPDATE_CD_TIME="UPDATE_CD_TIME",t.DELETE_STORAGE_ITEM="DELETE_STORAGE_ITEM",t.OPEN_MAKET="OPEN_MAKET",t.CHANGE_COUNT="CHANGE_COUNT",t.CHANGE_COST_COUNT="CHANGE_COST_COUNT",t.ADD_BUY_PROP="ADD_BUY_PROP",t}();o.EventName=r,function(t){t[t.stand=0]="stand",t[t.move=1]="move",t[t.none=2]="none",t[t.attack=3]="attack",t[t.dead=4]="dead",t[t.win=5]="win",t[t.escape=6]="escape",t[t.find=7]="find",t[t.stop=8]="stop",t[t.walk=9]="walk",t[t.target=10]="target",t[t.targetSpeed=11]="targetSpeed",t[t.back=12]="back",t[t.enmey=13]="enmey",t[t.trackEnemy=14]="trackEnemy",t[t.hit=15]="hit"}(o.EnemyActionType||(o.EnemyActionType={})),function(t){t[t.born=0]="born",t[t.stand=1]="stand",t[t.move=2]="move",t[t.dressUp=3]="dressUp",t[t.WC0=4]="WC0",t[t.WC1=5]="WC1",t[t.WC2=6]="WC2",t[t.WC3=7]="WC3",t[t.idle=8]="idle",t[t.sleepStand=9]="sleepStand",t[t.sleep=10]="sleep",t[t.Play=11]="Play",t[t.Down=12]="Down",t[t.Down2=13]="Down2",t[t.Down3=14]="Down3",t[t.Wash=15]="Wash",t[t.Wash2=16]="Wash2",t[t.eat1=17]="eat1",t[t.eat2=18]="eat2",t[t.swing1=19]="swing1",t[t.swing2=20]="swing2",t[t.WantPlay=21]="WantPlay",t[t.WantEat=22]="WantEat",t[t.WantWash=23]="WantWash",t[t.WantSleep=24]="WantSleep",t[t.Sleep4=25]="Sleep4"}(a=o.PlayerActionType||(o.PlayerActionType={})),o.WASH_SOPE="Sundjer",o.SLEEP_NUM=20,o.SLEEP_TIME=180,function(t){t[t.born=0]="born",t[t.stand=1]="stand",t[t.move=2]="move",t[t.KissGuy=3]="KissGuy",t[t.MaleDismiss=4]="MaleDismiss",t[t.MaleBlowKiss=5]="MaleBlowKiss",t[t.MaleAngry=6]="MaleAngry",t[t.MaleDisapoint=7]="MaleDisapoint",t[t.moveTarget=8]="moveTarget"}(o.ManActionType||(o.ManActionType={})),function(t){t[t.INIT=0]="INIT",t[t.START=1]="START",t[t.PLAYING=2]="PLAYING",t[t.QUEST=3]="QUEST",t[t.OVER=4]="OVER",t[t.WIN=5]="WIN",t[t.FAIL=6]="FAIL",t[t.RECIVE=7]="RECIVE",t[t.MAN_QUEST=8]="MAN_QUEST",t[t.FINAL=9]="FINAL",t[t.PLAY_GAME=10]="PLAY_GAME",t[t.WASH=11]="WASH",t[t.EAT=12]="EAT",t[t.QIU_QIAN=13]="QIU_QIAN",t[t.SLEEP=14]="SLEEP",t[t.WC=15]="WC",t[t.DRESS=16]="DRESS",t[t.SMALL_GAME=17]="SMALL_GAME",t[t.BORN=18]="BORN"}(o.GameActionType||(o.GameActionType={})),function(t){t[t.backyardCamera=0]="backyardCamera",t[t.BedroomCamera=1]="BedroomCamera",t[t.DressUpCamera=2]="DressUpCamera",t[t.FoodShopCamera=3]="FoodShopCamera",t[t.KitchenCamera=4]="KitchenCamera",t[t.MainCamera=5]="MainCamera",t[t.PeeCamera=6]="PeeCamera",t[t.ShowerCamera=7]="ShowerCamera",t[t.SpinTheWheelCamera=8]="SpinTheWheelCamera",t[t.SwingCamera=9]="SwingCamera",t[t.Max=10]="Max"}(o.CameraPos||(o.CameraPos={})),function(t){t[t.hasPoint=0]="hasPoint",t[t.hasEnemy=1]="hasEnemy",t[t.isBlookLargerMe=2]="isBlookLargerMe",t[t.hasBuild=3]="hasBuild",t[t.hasObject=4]="hasObject",t[t.hasTarget=5]="hasTarget",t[t.atTargetPos=6]="atTargetPos",t[t.isDisMoreThan=7]="isDisMoreThan",t[t.hasNearTarget=8]="hasNearTarget",t[t.isInAttackRect=9]="isInAttackRect",t[t.isHit=10]="isHit",t[t.isOutRange=11]="isOutRange",t[t.isAlive=12]="isAlive",t[t.isInEyeRange=13]="isInEyeRange",t[t.isOutMap=14]="isOutMap"}(o.PerceptionType||(o.PerceptionType={}));var s=function(){function t(){}return t.DRAGON=20,t.TREE=21,t.BUILD=22,t.PLAYER=23,t.ARROW=24,t}();o.ObjectType=s,o.RANGE=5,o.ANGLE=30,o.ATK_DURATION=1.5,o.MOVE_DURATION=.3,o.DRAGON_SPEED=5,o.ROTATION_SPD=1,o.TREE_BLOOD=100,o.TREE_GOLD=10,o.BUILD_GOLD=20,o.BUY_GOLD=1e3,o.BUY_TOKEN=25,function(t){t[t.animationFinish=0]="animationFinish",t[t.duration=1]="duration",t[t.immediately=2]="immediately",t[t.passiveFinish=3]="passiveFinish"}(o.ActionFinishType||(o.ActionFinishType={})),o.EXP_NUM=10,o.ENEMY_COUNT=9,o.ENERGY_NUM=25,o.INIT_DRAGON=20001,o.SCALE_STEP=.1,o.INIT_SCALE=.6,function(t){t[t.CHI_JI=0]="CHI_JI",t[t.IO=1]="IO"}(o.BattleType||(o.BattleType={}));var c=function(){function t(){}return t.BGM_BATTLE1="res/audio/AmbientSoundUnderwater.mp3",t.CLICK2="res/audio/ButtonClick.mp3",t.PULL="res/audio/Bow_Pull.mp3",t.FIRE="res/audio/Bow_Fire.mp3",t.Blood_Splatter="res/audio/Blood_Splatter_Audio.mp3",t.Headshot="res/audio/Headshot.mp3",t.levelComplete="res/audio/levelComplete.mp3",t.levelFailed="res/audio/levelFailed.mp3",t}();o.AudioID=c,function(t){t[t.MusicBg=1]="MusicBg",t[t.sfx_buttonPress=2]="sfx_buttonPress",t[t.sfx_chatEnter=3]="sfx_chatEnter",t[t.sfx_chatExit=4]="sfx_chatExit",t[t.sfx_episodeReward1=5]="sfx_episodeReward1",t[t.sfx_greenTick=6]="sfx_greenTick",t[t.sfx_windowClose=7]="sfx_windowClose",t[t.sfx_windowOpen=8]="sfx_windowOpen",t[t.sfx_screenTap=9]="sfx_screenTap",t[t.sfx_collectItem=10]="sfx_collectItem",t[t.sfx_hitCloud_v01=11]="sfx_hitCloud_v01",t[t.sfx_winCoinCollectCashTill=12]="sfx_winCoinCollectCashTill",t[t.collect_coin=13]="collect_coin",t[t.DiamondCollect=14]="DiamondCollect",t[t.sfx_blockerTreatBox=15]="sfx_blockerTreatBox",t[t.sfx_winCashTillAppear=16]="sfx_winCashTillAppear",t[t.sfx_winCashTillClose=17]="sfx_winCashTillClose"}(o.SoundID||(o.SoundID={})),o.RANK_COLORS=["#00ffff","#ffff00","#00ff00","#ffffff"],o.ENEMY_NAME="EnemyItemView",o.ENEMY_HEAD="head",o.ARROW_NUM=5,o.ARROW_SPEED=100,o.GAME_SPPED=.1,o.GROUND=.1,o.AIR_HIGH=15,o.ENMEY_MOVE_SPD=2,o.PLAYER_MOVE_SPD=4,o.ENMEY_RUN_SPD=5,o.PER_ENEY_GOLD=50,o.POS_MAP={posl1:"posr1",posr1:"posl1",posl2:"posr2",posr2:"posl2",posl3:"posr3",posr3:"posl3"},o.POS_LIST=["posr1","posr2","posr3"],o.defaultClothe=[20001,20014,20025,20036,20046,20062,20074,20088],o.posName=["posBag","posHair","posJeans","posSkirt","posShoe","posNormal"],function(t){t[t.Cap=0]="Cap",t[t.Trousers=1]="Trousers",t[t.Jacket=2]="Jacket",t[t.Skin=3]="Skin",t[t.Shose=4]="Shose",t[t.Glasses=5]="Glasses",t[t.Suit=6]="Suit",t[t.Eye=7]="Eye",t[t.Max=8]="Max"}(o.ClotheType||(o.ClotheType={})),o.ClotheActionType=[a.idle,a.dressUp,a.dressUp,a.dressUp,a.dressUp,a.idle,a.dressUp,a.idle],o.ATTR_STEP=1,o.ATTR_MAX=100,o.ATTR_TIME_STEP=3,function(t){t[t.EAT=0]="EAT",t[t.WASH=1]="WASH",t[t.SLEEP=2]="SLEEP",t[t.WC=3]="WC",t[t.PLAY=4]="PLAY",t[t.MAX=5]="MAX"}(o.PlayerAttrType||(o.PlayerAttrType={})),function(t){t[t.GROUND=0]="GROUND",t[t.DOOR=1]="DOOR",t[t.SINGLE=2]="SINGLE",t[t.KEY=3]="KEY",t[t.MOVE_PROP=4]="MOVE_PROP"}(o.PropType||(o.PropType={}));var l=function(){function t(){}return t.GOLD=10,t.CLOTHE=20,t.KEY=16,t.TOKEN=13,t.FOOD=30,t.ENERGY=19,t.EXP=14,t.CARD=17,t}();o.ItemType=l;var u=function(){function t(){}return t.KEY=16001,t.AD=11001,t.SHARE=18001,t.GOLD=10001,t.TOKEN=13001,t.SCRATCH_CARD=17001,t.ENERGY=19001,t.LEVEL=20001,t.EXP=14001,t}();o.ItemID=u,function(t){t[t.SHOP=0]="SHOP",t[t.GAME=1]="GAME",t[t.SLOT=2]="SLOT",t[t.SCRATCH_CARD=3]="SCRATCH_CARD",t[t.MAX=4]="MAX"}(o.TouchType||(o.TouchType={})),o.RATIO_NUM=[2,3,4,5],o.MAX_CLOTHE_VALUE=32,o.GOLD_NUM=1e3,o.ENRGY_NUM=100,o.ENRGY_NUM2=25;var d=function(){function t(){}return t.SLOT=1,t.SCRATCH_CARD=2,t.BOX=3,t}();o.UI_TYPE=d,o.KEY_MAX=3,o.TreeList=["Holidays1","Holidays2","Holidays3","Island1","Island2","Island3","Island4","Island5","Island6"],o.stepPoints=[1,2,3,4,5],function(t){t[t.bee=0]="bee",t[t.beeHouse=1]="beeHouse",t[t.book=2]="book",t[t.bread=3]="bread",t[t.cake1=4]="cake1",t[t.cake2=5]="cake2",t[t.catHouse=6]="catHouse",t[t.cat=7]="cat",t[t.cion=8]="cion",t[t.coolDrink=9]="coolDrink",t[t.ennergy=10]="ennergy",t[t.saizi=11]="saizi",t[t.token=12]="token",t[t.bag=13]="bag",t[t.sucai=14]="sucai",t[t.hotDrink=15]="hotDrink",t[t.box=16]="box",t[t.bookBox=17]="bookBox",t[t.clothe=18]="clothe",t[t.kaoxiang=19]="kaoxiang",t[t.qiqiu=20]="qiqiu",t[t.yanhui=21]="yanhui",t[t.pisa=22]="pisa",t[t.sala=23]="sala",t[t.sanmingzhi=24]="sanmingzhi",t[t.bookGui=25]="bookGui",t[t.teeGui=26]="teeGui",t[t.fengmi=27]="fengmi",t[t.gift=28]="gift",t[t.partygift=29]="partygift",t[t.choicechest=30]="choicechest",t[t.shop_gift=31]="shop_gift",t[t.max=32]="max"}(o.FoodType||(o.FoodType={})),function(t){t[t.NO_OUT=0]="NO_OUT",t[t.OUT_RANDOM_AND_CD=1]="OUT_RANDOM_AND_CD",t[t.OUT_RANDOM_COUNT_DESTROY=2]="OUT_RANDOM_COUNT_DESTROY",t[t.OUT_ITEM_DESTORY=3]="OUT_ITEM_DESTORY",t[t.OUT_ITEM_WITH_OPEN_CD=4]="OUT_ITEM_WITH_OPEN_CD",t[t.CHOICE_ITEM=5]="CHOICE_ITEM",t[t.OUT_COST_ITEM=6]="OUT_COST_ITEM"}(o.FoodOutType||(o.FoodOutType={})),o.DEFAUL_GOLG=30063,o.WEEKLY_RATIO=2,o.ENERGY_TIME=120,o.ENERGY_MAX=100,function(t){t[t.HAS_TASK=0]="HAS_TASK",t[t.HAS_REWARD=1]="HAS_REWARD",t[t.STORE=2]="STORE",t[t.BUILD_OPEN=3]="BUILD_OPEN",t[t.ONLINE=4]="ONLINE",t[t.DAILY_TASK=5]="DAILY_TASK",t[t.LUCKY_SPIN=6]="LUCKY_SPIN",t[t.BOX_POP=7]="BOX_POP",t[t.SPECIAL_TASK=8]="SPECIAL_TASK",t[t.HAS_RECORDER=9]="HAS_RECORDER",t[t.EGG_OPEN=10]="EGG_OPEN",t[t.IN_MARKET=11]="IN_MARKET"}(o.RedTipType||(o.RedTipType={})),function(t){t[t.NONE=0]="NONE",t[t.HAS=1]="HAS",t[t.FULL=2]="FULL"}(o.FoodHasState||(o.FoodHasState={})),function(t){t[t.ONE=1]="ONE",t[t.BUILD=2]="BUILD",t[t.BUY=3]="BUY",t[t.AD=4]="AD",t[t.LEVEL=5]="LEVEL",t[t.TASK=6]="TASK",t[t.ENERGY=7]="ENERGY",t[t.GOLD=8]="GOLD",t[t.GIFT=9]="GIFT",t[t.GAME_DA_REN=10]="GAME_DA_REN"}(o.DailyTaskID||(o.DailyTaskID={})),function(t){t[t.BOEN=0]="BOEN",t[t.STAND=1]="STAND",t[t.TIP=2]="TIP",t[t.OUT=3]="OUT"}(o.PersonState||(o.PersonState={})),o.VEDIO_ENERGY=25,o.VEDIO_TOKEN=20,o.SPECIAL_TASK_OK=!0,o.FREE_EGG_COUNT=5,o.EGG_OPEN_LEVEL=3,o.LUCKY_SPIN_OPEN_LEVEL=5,o.RANDOM_BOX_OPEN_LEVEL=8,o.FRAME_DURATION=Math.floor(1/60*100)/100,cc._RF.pop()},{"../cfw/tools/Utils":"Utils"}],CrazyClickButton:[function(t,e,o){"use strict";cc._RF.push(e,"c4c5cWv1i9Jq5vKe/A19b70","CrazyClickButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CrazyClickC"),i=t("../../cocos/TweenMgr"),a=t("../public/tip/TipC"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chuizi=null,e}return __extends(e,t),e.prototype.start=function(){i.default.showChuizi(this.chuizi,0,.1),n.default.instance()},e.prototype.updateState=function(){},e.prototype.onCrazyClickButton=function(){n.default.instance().isOpen()?n.default.instance().gotoLayer():a.default.instance().showToast(n.default.instance().getTip())},__decorate([c(cc.Node)],e.prototype,"chuizi",void 0),__decorate([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../cocos/TweenMgr":"TweenMgr","../public/tip/TipC":"TipC","./CrazyClickC":"CrazyClickC"}],CrazyClickC:[function(t,e,o){"use strict";cc._RF.push(e,"943a5R82wRD5IrSw1K8ZWPe","CrazyClickC"),Object.defineProperty(o,"__esModule",{value:!0}),o.SPECIAL_COUNT=void 0;var n=t("../../cfw/mvc"),i=t("../../sdk/sdk/SDKManager"),a=t("../../cfw/module"),r=t("../../config/ModuleConfig"),s=t("../../cfw/tools/ViewManager"),c=t("../../config/UIConfig"),l=t("../../cfw/local"),u=t("../user/User"),d=t("../../config/Config"),p=t("../level/model/LevelMgr"),h=t("../../cfw/event"),f=t("../../extention/redtip/RedTipMgr"),g=t("../game/model/FoodMgr"),y=t("../public/bag/BagManager"),m=t("../item/ItemC"),v=t("../../sdk/channel-ts/CMgr");o.SPECIAL_COUNT=10;var _=function(t){function e(){var e=t.call(this)||this;return e.count=new l.LocalValue("CrazyClickCMgrcount",0),e.dayNum=new l.LocalValue("CrazyClickCMgrdayNum",0),e.dayNum.getInt()!=u.default.instance().getLoginDayNum()&&(e.count.setValue(0),e.dayNum.setValue(u.default.instance().getLoginDayNum())),e.costItem=y.default.instance().getNewItemModel(d.ItemID.TOKEN,d.FREE_EGG_COUNT),h.GEvent.instance().on(d.EventName.UPDATE_LEVEL,e.udpateLevel,e),e.udpateLevel(),e}return __extends(e,t),e.prototype.udpateLevel=function(){this.isOpen()&&f.default.instance().addRedTip(d.RedTipType.EGG_OPEN)},e.prototype.isOpen=function(){return p.default.instance().getLevel()>=d.EGG_OPEN_LEVEL},e.prototype.getTip=function(){return d.EGG_OPEN_LEVEL+"\u7ea7\u4e4b\u540e\u5f00\u542f"},e.prototype.getCount=function(){return this.count.getInt()},e.prototype.updateCount=function(){return this.count.updateValue(1)},e.prototype.gotoLayer=function(t){var e=this;this.callback=t,i.default.getChannel().hasSubPackage()?a.ModuleManager.loadBundle(r.ModuleID.CRAZY_CLICK,function(t){t&&e.intoLayer()}):this.intoLayer()},e.prototype.intoLayer=function(){s.default.pushUIView({path:"prefabs/CrazyClickView",moduleID:r.ModuleID.CRAZY_CLICK,uiIndex:c.UIIndex.STACK,controller:this,func:function(){}})},e.prototype.next=function(){this.callback&&(this.callback(),this.callback=null)},e.prototype.getResult=function(t){return this.getCount()%o.SPECIAL_COUNT==0?g.default.instance().getItemByRare(5):0==t?g.default.instance().getItemByRareList([1,2]):g.default.instance().getItemByRareList([3,4])},e.prototype.getReward=function(t){0==t?y.default.instance().isItemEnough(this.costItem)?(y.default.instance().reduceItem(this.costItem),h.GEvent.instance().emit(e.EGG_RESULT,t)):m.default.instance().showBuyTokenView(0):v.default.helper.showRewardAd(0,function(o){o&&h.GEvent.instance().emit(e.EGG_RESULT,t)})},e.prototype.gotoLobby=function(){},e.EGG_RESULT="EGG_RESULT",e.step=0,e}(n.BaseController);o.default=_,cc._RF.pop()},{"../../cfw/event":"event","../../cfw/local":"local","../../cfw/module":"module","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../extention/redtip/RedTipMgr":"RedTipMgr","../../sdk/channel-ts/CMgr":"CMgr","../../sdk/sdk/SDKManager":"SDKManager","../game/model/FoodMgr":"FoodMgr","../item/ItemC":"ItemC","../level/model/LevelMgr":"LevelMgr","../public/bag/BagManager":"BagManager","../user/User":"User"}],CrazyClickView:[function(t,e,o){"use strict";cc._RF.push(e,"865410Cld1AapdUHEVHJZRk","CrazyClickView"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("./CrazyClickC"),a=t("../../cfw/tools/Define"),r=t("../../cfw/view"),s=t("../../cfw/event"),c=t("../../cfw/tools/Utils"),l=t("../../sdk/channel-ts/CMgr"),u=t("../../sdk/sdk/SDKManager"),d=t("../public/bag/BagManager"),p=t("../../config/ModuleConfig"),h=t("../../sdk/sdk/SDKConfig"),f=t("../../cocos/TweenMgr"),g=t("../../config/Config"),y=t("../../cocos/lang/UIText");(function(t){t[t.INIT=0]="INIT",t[t.ROLLING=1]="ROLLING",t[t.SHOW_EGG=2]="SHOW_EGG",t[t.EGG_BREAK=3]="EGG_BREAK",t[t.SHOW_GOLD=4]="SHOW_GOLD",t[t.SHOW_GOLD_FINISH=5]="SHOW_GOLD_FINISH",t[t.EGG_STAND=6]="EGG_STAND",t[t.DOWN=7]="DOWN",t[t.DROP_EGG=8]="DROP_EGG"})(n||(n={}));var m=cc._decorator,v=m.ccclass,_=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.giftBox$VSprite=null,e.progressBar=null,e.click$VButton=null,e.back$VButton=null,e.box=null,e.chuizi=null,e.shells=null,e.eggshell=null,e.CustomNode=null,e.eggNode=null,e.boxNode=null,e.egg=null,e.replayBtn=null,e.itemIcon=null,e.freeLabel=null,e.tip=null,e.isClick=!1,e.process=0,e.duration=0,e.reduce=1,e.isOk=!0,e.hasAd=!1,e.state=n.INIT,e.witchEgg=0,e.temp=0,e.temp2=0,e.tempPos=[],e.showCount=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.gEventProxy.on(s.GEvent.EVENT_SHOW,this.eventShow,this),this.gEventProxy.on(i.default.EGG_RESULT,this.doLogic,this),this.freeLabel.string="-"+g.FREE_EGG_COUNT;for(var t=this.box.children.length,e=0;e<t;e++){var o=this.box.children[e].position;this.tempPos.push(cc.v2(o.x,o.y))}this.temp=this.eggNode.y,this.temp2=this.egg.node.y,this.changeState(n.INIT)},e.prototype.init=function(){this.progressBar.progress=0,this.shells.active=!1,this.giftBox$VSprite.node.active=!1,this.eggshell.active=!1,this.process=0,this.reduce=1,this.isClick=!1,this.duration=0,this.egg.node.opacity=0,this.replayBtn.active=!1,this.chuizi.opacity=0,this.isOk=!0;for(var t=this.shells.children,e=0;e<t.length;e++)t[e].setPosition(0,0);var o=i.default.instance().getCount()%i.SPECIAL_COUNT;if(0==o)this.tip.string=y.default.instance().getText(56);else{var n=i.SPECIAL_COUNT-o;this.tip.string=y.default.instance().getText(55,{num:n})}},e.prototype.changeState=function(t){switch(this.state=t,t){case n.INIT:this.init();break;case n.ROLLING:this.rollStart();break;case n.DROP_EGG:this.dropEgg();break;case n.SHOW_EGG:this.showEgg();break;case n.EGG_BREAK:this.eggBreak();break;case n.SHOW_GOLD:this.showGold();break;case n.EGG_STAND:this.showChuizi(0,.1);break;case n.SHOW_GOLD_FINISH:this.replayBtn.active=!0;break;case n.DOWN:this.down()}},e.prototype.showRewardItem=function(t){var e=this,o=t.getScale()+.5,i=o+1,a=i+.1;cc.tween(this.itemIcon.node).to(.5,{scale:i}).delay(.2).to(.2,{scale:a}).to(.5,{scale:o}).call(function(){e.changeState(n.SHOW_GOLD_FINISH)}).start()},e.prototype.dropEgg=function(){var t=this;this.egg.node.y=this.temp2;var e="egg"+c.default.random(0,4);this.setSpriteAtlas(this.egg,p.ModuleID.CRAZY_CLICK,"bg/egg",e),this.egg.node.opacity=0,cc.tween(this.egg.node).to(.5,{opacity:255}).delay(.1).to(.5,{position:this.eggNode.position}).call(function(){t.changeState(n.SHOW_EGG)}).start()},e.prototype.showChuizi=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.1),f.default.showChuizi(this.chuizi,t,e)},e.prototype.rollStart=function(){for(var t=0;t<this.box.children.length;t++){var e=this.box.children[t];e.dirX=a.MOVE_DIR[c.default.random(0,a.MOVE_DIR.length)],e.dirY=a.MOVE_DIR[c.default.random(0,a.MOVE_DIR.length)],e.speedX=c.default.random(15,20),e.speedY=e.speedX}},e.prototype.eventShow=function(){this.hasAd&&(this.changeState(n.EGG_BREAK),l.default.helper.hideBannerAd(0),u.default.getChannel().loadBanner())},e.prototype.replayButtonClick=function(){this.state==n.SHOW_GOLD_FINISH&&this.changeState(n.DOWN)},e.prototype.onRightButtonClick=function(){this.state==n.INIT&&this.controller.getReward(0)},e.prototype.doLogic=function(t){this.witchEgg=t,this.item=i.default.instance().getResult(this.witchEgg),this.item&&(this.setSpriteAtlas(this.itemIcon,this.item.getModuleID(),this.item.getIcon(),this.item.getSpriteFrame()),this.itemIcon.node.scale=this.item.getScale(),this.changeState(n.ROLLING))},e.prototype.onLeftButtonClick=function(){this.state==n.INIT&&this.controller.getReward(1)},e.prototype.down=function(){var t=this;this.giftBox$VSprite.node.active=!0,cc.tween(this.eggNode).to(.5,{y:this.temp}).call(function(){t.changeState(n.INIT)}).start(),cc.tween(this.boxNode).to(.5,{y:0}).start()},e.prototype.showEgg=function(){var t=this;this.giftBox$VSprite.node.active=!0,cc.tween(this.eggNode).to(.5,{y:0}).call(function(){t.changeState(n.EGG_STAND)}).start(),cc.tween(this.boxNode).by(.5,{y:this.boxNode.height}).call(function(){for(var e=0;e<t.box.children.length;e++)t.box.children[e].setPosition(t.tempPos[e].x,t.tempPos[e].y)}).start()},e.prototype.eggBreak=function(){var t=this;this.eggshell.active=!0,this.shells.active=!0,this.giftBox$VSprite.node.active=!1;for(var e=this.shells.children,o=0;o<e.length;o++){var i=e[o],r=a.MOVE_DIR[c.default.random(0,a.MOVE_DIR.length)]*c.default.random(50,150),s=-c.default.random(200,250);cc.tween(i).to(.5,{x:r,y:s}).call(function(){e.length}).start()}this.setTimeout(function(){t.changeState(n.SHOW_GOLD)},500)},e.prototype.showGold=function(){this.item&&(d.default.instance().updateItem(this.item),i.default.instance().updateCount(),this.showRewardItem(this.item))},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),i.default.step++},e.prototype.onclick$VButtonClick=function(){if(this.state==n.EGG_STAND)if(this.isOk){if(this.showChuizi(),this.isClick||(this.isClick=!0),this.duration=1,this.reduce=1,this.process<100){if(this.process+=15,this.process>100&&(this.process=100,this.changeState(n.EGG_BREAK)),this.process>=60&&l.default.helper.isBannerErrorClick()&&u.default.getChannel().hasBanner()){if(!l.default.helper.getzs_banner_force_click()&&this.showCount>0)return;this.showCount++;var t=l.default.helper.getzs_advert_change();switch(console.log(" change ",t),t=parseInt(""+t)){case-1:this.showBanner();break;case 1:this.showCustomAd();break;case 0:i.default.step%2==0?this.showBanner():this.showCustomAd()}}this.updateProgress()}}else this.isOk=!0},e.prototype.showCustomAd=function(){var t=this;this.isOk=!1,this.hasAd=!0;var e=this.CustomNode.x/this.CustomNode.parent.width,o=(this.CustomNode.parent.height-this.CustomNode.y)/this.CustomNode.parent.height;console.log(" rx == ry ====== ",e,o),u.default.getChannel().showCustomAd(0,e,o),this.setTimeout(function(){t.hasAd=!1,t.isOk=!0,t.state!=n.EGG_BREAK&&u.default.getChannel().hideCustomAd()},2e3)},e.prototype.showBanner=function(){var t=this;u.default.getChannel().showBanner(0,h.SDKDir.MID),this.isOk=!1,this.hasAd=!0,this.setTimeout(function(){t.hasAd=!1,t.isOk=!0,t.state!=n.EGG_BREAK&&u.default.getChannel().hideBanner()},2e3)},e.prototype.updateProgress=function(){this.progressBar.progress=this.process/100},e.prototype.onback$VButtonClick=function(){this.hide(),this.controller.next()},e.prototype.clickEgg=function(t){this.isClick?this.duration>0&&(this.duration-=t,this.duration<0&&(this.duration=0,this.isClick=!1)):this.reduce>0&&(this.reduce-=t,this.reduce<0&&(this.reduce=1,this.process>0&&(this.process-=12,this.process<0&&(this.process=0),this.updateProgress())))},e.prototype.update=function(t){switch(this.state){case n.ROLLING:this.updateBalls();break;case n.EGG_STAND:this.clickEgg(t)}},e.prototype.updateBalls=function(){for(var t=0,e=this.box.children.length,o=0;o<e;o++){var i=this.box.children[o],a=i.position,r=i.width/2,s=i.height/2;i.speedX>0&&((a.x-r<=0||a.x+r>=this.box.width)&&(i.dirX=-i.dirX,i.speedX-=1),i.x+=i.dirX*i.speedX,i.y-s<=0&&(i.speedX-=.1)),i.speedY>0?((a.y-s<=0||a.y+s>=this.box.height)&&(i.dirY=-i.dirY,i.speedY-=1),i.y+=i.dirY*i.speedY):i.y+=i.speedY,i.speedY-=.1,i.speedY<0&&i.y-s<=0&&(i.y=s,t++)}t>=e&&this.changeState(n.DROP_EGG)},__decorate([_({type:cc.Sprite,displayName:"giftBox$VSprite"})],e.prototype,"giftBox$VSprite",void 0),__decorate([_(cc.ProgressBar)],e.prototype,"progressBar",void 0),__decorate([_({type:cc.Button,displayName:"click$VButton"})],e.prototype,"click$VButton",void 0),__decorate([_({type:cc.Button,displayName:"back$VButton"})],e.prototype,"back$VButton",void 0),__decorate([_(cc.Node)],e.prototype,"box",void 0),__decorate([_(cc.Node)],e.prototype,"chuizi",void 0),__decorate([_(cc.Node)],e.prototype,"shells",void 0),__decorate([_(cc.Node)],e.prototype,"eggshell",void 0),__decorate([_(cc.Node)],e.prototype,"CustomNode",void 0),__decorate([_(cc.Node)],e.prototype,"eggNode",void 0),__decorate([_(cc.Node)],e.prototype,"boxNode",void 0),__decorate([_(cc.Sprite)],e.prototype,"egg",void 0),__decorate([_(cc.Node)],e.prototype,"replayBtn",void 0),__decorate([_(cc.Sprite)],e.prototype,"itemIcon",void 0),__decorate([_(cc.Label)],e.prototype,"freeLabel",void 0),__decorate([_(cc.Label)],e.prototype,"tip",void 0),__decorate([v],e)}(r.BaseView);o.default=S,cc._RF.pop()},{"../../cfw/event":"event","../../cfw/tools/Define":"Define","../../cfw/tools/Utils":"Utils","../../cfw/view":"view","../../cocos/TweenMgr":"TweenMgr","../../cocos/lang/UIText":"UIText","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../sdk/channel-ts/CMgr":"CMgr","../../sdk/sdk/SDKConfig":"SDKConfig","../../sdk/sdk/SDKManager":"SDKManager","../public/bag/BagManager":"BagManager","./CrazyClickC":"CrazyClickC"}],CustomButton:[function(t,e,o){"use strict";cc._RF.push(e,"20679IgZJxOuIcXvsY1yDcQ","CustomButton"),Object.defineProperty(o,"__esModule",{value:!0}),o.CustomButton=void 0;var n=t("../../config/Config"),i=t("../../logic/sound/model/SoundMgr"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickInterval=1,e.soundID=n.SoundID.sfx_buttonPress,e.lastClickTime=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onTouchEnd=function(t){var e=Date.now()/1e3;e-this.lastClickTime>=this.clickInterval&&(i.default.instance().playSound(this.soundID),this.lastClickTime=e,this.handleClickEvent(t))},e.prototype.handleClickEvent=function(){console.log("Button clicked!")},__decorate([s],e.prototype,"clickInterval",void 0),__decorate([s],e.prototype,"soundID",void 0),__decorate([r("CustomButton")],e)}(cc.Button);o.CustomButton=c,cc._RF.pop()},{"../../config/Config":"Config","../../logic/sound/model/SoundMgr":"SoundMgr"}],DMaskNode:[function(t,e,o){"use strict";cc._RF.push(e,"b70ddJcJyhOHZXY7bkNhrD3","DMaskNode"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../logic/game/view/GameView"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.foodID=0,e.game=null,e}return __extends(e,t),e.prototype.start=function(){var t=this.game.getGridByFoodID(this.foodID);t&&this.node.setPosition(t.getPos())},__decorate([r],e.prototype,"foodID",void 0),__decorate([r(n.GameView)],e.prototype,"game",void 0),__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../../logic/game/view/GameView":"GameView"}],DailyTaskButton:[function(t,e,o){"use strict";cc._RF.push(e,"1f95eHSqDVANaO+QhpNkK09","DailyTaskButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../sdk/channel-ts/CMgr"),i=t("../DailyTaskC"),a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.active=n.default.helper.hasDailyTask()},e.prototype.onButtonClick=function(){i.default.instance().intoLayer()},__decorate([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../../sdk/channel-ts/CMgr":"CMgr","../DailyTaskC":"DailyTaskC"}],DailyTaskC:[function(t,e,o){"use strict";cc._RF.push(e,"4ba02CMy9RP5YMdPaCEtlxR","DailyTaskC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./model/DailyTaskMgr"),c=t("./view/DailyTaskView"),l=t("../../cfw/model"),u=t("../public/bag/BagManager"),d=t("../../config/Config"),p=t("../../extention/redtip/RedTipMgr"),h=t("../../sdk/channel-ts/CMgr"),f=t("../../config/UmengEventID"),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){h.default.helper.hasDailyTask()&&i.default.pushUIView({path:"prefabs/DailyTaskView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,className:c.default,controller:this,model:s.default.instance(),func:function(){}})},e.prototype.buyClick=function(t,e){if(t.getState()==l.ItemState.CAN_GET){var o=t.getItem();u.default.instance().updateItem(o,e),t.setState(l.ItemState.GOT),p.default.instance().removeRedTip(d.RedTipType.DAILY_TASK,t.getID()),h.default.helper.trackEvent(f.default.daily_task,{taskID:t.getID()})}},e}(n.BaseController);o.default=g,cc._RF.pop()},{"../../cfw/model":"model","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../extention/redtip/RedTipMgr":"RedTipMgr","../../sdk/channel-ts/CMgr":"CMgr","../public/bag/BagManager":"BagManager","./model/DailyTaskMgr":"DailyTaskMgr","./view/DailyTaskView":"DailyTaskView"}],DailyTaskItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"a621586mUlO/IZ6lk/UnMm3","DailyTaskItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.DailyTaskItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../public/bag/BagManager"),r=t("../../../cfw/tools/LangManager");(function(t){t[t.name=0]="name",t[t.desc=1]="desc",t[t.count=2]="count",t[t.state=3]="state",t[t.exp=4]="exp",t[t.reward=5]="reward",t[t.curCount=6]="curCount"})(n=o.DailyTaskItemModelEnum||(o.DailyTaskItemModelEnum={}));var s=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getDesc=function(){var t=this.getValue(n.desc);return r.default.instance().getLocalString(t)},e.prototype.getCount=function(){return this.getValue(n.count)},e.prototype.getName=function(){var t=this.getValue(n.name);return r.default.instance().getLocalString(t)},e.prototype.getCurCount=function(){return this.getValue(n.curCount)},e.prototype.setCurCount=function(t,e){void 0===e&&(e=!0),this.setValue(n.curCount,t)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t,e){void 0===e&&(e=!0),this.setValue(n.state,t)},e.prototype.getExp=function(){return this.getValue(n.exp)},e.prototype.getReward=function(){return this.getValue(n.reward)},e.prototype.getItem=function(){if(!this.item){var t=this.getReward();this.item=a.default.instance().getNewItemModel(t[0],t[1])}return this.item},e.CLASS_NAME="DailyTaskItemModel",e}(i.DataModel);o.default=s,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/tools/LangManager":"LangManager","../../public/bag/BagManager":"BagManager"}],DailyTaskItemView:[function(t,e,o){"use strict";cc._RF.push(e,"0658c2bZj5Px5oDQuO+B6SL","DailyTaskItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/tools/Utils"),i=t("../../../cfw/model"),a=t("../../../config/Config"),r=t("../../../cfw/view"),s=t("../../../engine/EngineHelper"),c=t("../../../cocos/lang/UIText"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleLabel=null,e.redLabel=null,e.goodName=null,e.percent=null,e.stateLabel=null,e.redBtn=null,e.buyBtn=null,e.progressBar=null,e.goldIcon=null,e.tokenIcon=null,e.numLabel=null,e}return __extends(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.addListener=function(){this.eventProxy.on(i.BaseItemModel.UPDATE_STATE,this.content,this)},e.prototype.content=function(){this.titleLabel.string=this.model.getName();var t=this.model.getDesc(),e=this.model.getCount(),o=this.model.getCurCount();this.goodName.string=n.default.replaceOpt(t,{num:e});var r=o/e;this.progressBar.progress=r,this.percent.string=o+"/"+e;var s=this.model.getItem();switch(s.getID()==a.ItemID.ENERGY?(this.goldIcon.node.active=!0,this.tokenIcon.node.active=!1):(this.goldIcon.node.active=!1,this.tokenIcon.node.active=!0),this.numLabel.string=""+s.getNum(!1),this.model.getState()){case i.ItemState.NOT_GET:this.redLabel.string=c.default.instance().getText(13),this.redBtn.node.active=!0,this.buyBtn.node.active=!1;break;case i.ItemState.CAN_GET:this.stateLabel.string=c.default.instance().getText(14),this.redBtn.node.active=!1,this.buyBtn.node.active=!0;break;case i.ItemState.GOT:this.redLabel.string=c.default.instance().getText(15),this.redBtn.node.active=!0,this.buyBtn.node.active=!1}},e.prototype.onBtnClick=function(){this.controller&&(this.pos||(this.pos=s.default.getGlobalPos(this.goldIcon.node)),this.controller.buyClick(this.model,this.pos),this.content())},__decorate([d(cc.Label)],e.prototype,"titleLabel",void 0),__decorate([d(cc.Label)],e.prototype,"redLabel",void 0),__decorate([d(cc.Label)],e.prototype,"goodName",void 0),__decorate([d(cc.Label)],e.prototype,"percent",void 0),__decorate([d(cc.Label)],e.prototype,"stateLabel",void 0),__decorate([d(cc.Button)],e.prototype,"redBtn",void 0),__decorate([d(cc.Button)],e.prototype,"buyBtn",void 0),__decorate([d(cc.ProgressBar)],e.prototype,"progressBar",void 0),__decorate([d(cc.Sprite)],e.prototype,"goldIcon",void 0),__decorate([d(cc.Sprite)],e.prototype,"tokenIcon",void 0),__decorate([d(cc.Label)],e.prototype,"numLabel",void 0),__decorate([u],e)}(r.BaseItemView);o.default=p,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/tools/Utils":"Utils","../../../cfw/view":"view","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","../../../engine/EngineHelper":"EngineHelper"}],DailyTaskMgr:[function(t,e,o){"use strict";cc._RF.push(e,"74828r3IaZH65oAE5cTAQAt","DailyTaskMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./DailyTaskItemModel"),r=t("../../../cfw/local"),s=t("../../user/User"),c=t("../../../config/Config"),l=t("../../public/tip/TipC"),u=t("../../../cocos/lang/UIText"),d=t("../../../extention/redtip/RedTipMgr"),p=t("../../../sdk/channel-ts/CMgr"),h=[1,0,2],f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.loginDayNum=new r.LocalValue("TaskMgrloginDayNum",0),this.taskItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default);var t=s.default.instance().getLoginDayNum(),e=this.taskItemModelMgr.getList();if(this.loginDayNum.getInt()!=t){this.loginDayNum.setValue(t);for(var o=0;o<e.length;o++)(l=e[o]).setState(n.ItemState.NOT_GET,!1),l.setCurCount(0,!1),o==e.length-1&&l.saveValue(a.DailyTaskItemModelEnum.state)}else for(o=0;o<e.length;o++){var l;(l=e[o]).getState()==n.ItemState.CAN_GET&&d.default.instance().addRedTip(c.RedTipType.DAILY_TASK,l.getID())}},e.prototype.getTaskItemModel=function(t){return this.taskItemModelMgr.getByID(t)},e.prototype.getTaskItemModelList=function(){this.taskItemModelMgr.sortitemList(function(t,e){return h[e.getState()]-h[t.getState()]});for(var t=[],e=this.taskItemModelMgr.getList(),o=0;o<e.length;o++){var n=e[o];9==n.getID()?p.default.helper.marketHasType(2)&&t.push(n):t.push(n)}return t},e.prototype.checkState=function(){for(var t=this.taskItemModelMgr.getList(),e=0;e<t.length;e++){var o=t[e];o.getCurCount()>=o.getCount()&&o.getState()==n.ItemState.NOT_GET&&(o.setState(n.ItemState.CAN_GET,!1),l.default.instance().showToast(u.default.instance().getText("39",{name:o.getName()}))),e==t.length-1&&o.saveValue(a.DailyTaskItemModelEnum.state)}},e.prototype.updateTaskCount=function(t,e){if(void 0===e&&(e=1),p.default.helper.hasDailyTask()){var o=this.getTaskItemModel(t);o&&o.getCount()>0&&o.getState()==n.ItemState.NOT_GET&&(o.setCurCount(o.getCurCount()+e),o.getCurCount()>=o.getCount()&&(o.setState(n.ItemState.CAN_GET),d.default.instance().addRedTip(c.RedTipType.DAILY_TASK,o.getID())))}},e}(n.BaseModel);o.default=f,cc._RF.pop()},{"../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../../sdk/channel-ts/CMgr":"CMgr","../../public/tip/TipC":"TipC","../../user/User":"User","./DailyTaskItemModel":"DailyTaskItemModel"}],DailyTaskView:[function(t,e,o){"use strict";cc._RF.push(e,"65def6rCyJJG4Dg51Q2jAkl","DailyTaskView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("./DailyTaskItemView"),a=t("../../../cocos/listview/GridLayerListView"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.back=null,e.list=null,e.gridLayerListView=null,e}return __extends(e,t),e.prototype.onEnter=function(){var t=this.model.getTaskItemModelList();this.itemList=t,this.gridLayerListView.totalCount=t.length},e.prototype.updateItem=function(t,e,o){var n=this.itemList,a=o.getComponent(i.default);a.setModel(n[e]),a.setController(this.controller),a.content()},e.prototype.onbackButtonClick=function(){this.hide()},__decorate([c(cc.Button)],e.prototype,"back",void 0),__decorate([c(cc.ScrollView)],e.prototype,"list",void 0),__decorate([c(a.default)],e.prototype,"gridLayerListView",void 0),__decorate([s],e)}(n.BaseView);o.default=l,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/listview/GridLayerListView":"GridLayerListView","./DailyTaskItemView":"DailyTaskItemView"}],Debug:[function(t,e,o){"use strict";cc._RF.push(e,"240f98LszVKHoUYnEHpWxqT","Debug"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.timeStart=function(){this.time=Date.now()},t.timeEnd=function(){return this.time=Date.now()-this.time,this.time},t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.isDebug&&console.log.apply(console,arguments)},t.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.isDebug&&console.error.apply(console,arguments)},t.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.isDebug&&console.warn.apply(console,arguments)},t.isDebug=!0,t.time=0,t}();o.default=n,cc._RF.pop()},{}],Define:[function(t,e,o){"use strict";var n,i;cc._RF.push(e,"6479cXTrlZDnLyhOtoEzJ4n","Define"),Object.defineProperty(o,"__esModule",{value:!0}),o.gameCompare=o.CompareSign=o.MOVE_DIR=o.DIR=o.OPPSITE_DIR=o.OPPSITE=o.isNull=void 0,o.isNull=function(t){return null==t||null==t},o.OPPSITE=[-1,1,1,-1],o.OPPSITE_DIR=[1,0,3,2],function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.UP=2]="UP",t[t.DOWN=3]="DOWN",t[t.LEFT_UP=4]="LEFT_UP",t[t.LEFT_DOWN=5]="LEFT_DOWN",t[t.RIGHT_UP=6]="RIGHT_UP",t[t.RIGHT_DOWN=7]="RIGHT_DOWN",t[t.NONE=8]="NONE"}(o.DIR||(o.DIR={})),o.MOVE_DIR=[-1,1,1,-1],function(t){t[t.EQUAL=0]="EQUAL",t[t.MORE_EQUAL=1]="MORE_EQUAL",t[t.LESS_EQUAL=2]="LESS_EQUAL",t[t.MORE=3]="MORE",t[t.LESS=4]="LESS",t[t.NOT_EQUAL=5]="NOT_EQUAL"}(n=o.CompareSign||(o.CompareSign={})),o.gameCompare=function(t,e,o){switch(e){case n.EQUAL:return t==o;case n.MORE_EQUAL:return t>=o;case n.MORE:return t>o;case n.LESS_EQUAL:return t<=o;case n.LESS:return t<o;case n.NOT_EQUAL:return t!=o;default:return!1}},function(t){t[t.Portrait=0]="Portrait",t[t.Landscape=1]="Landscape"}(i||(i={})),cc._RF.pop()},{}],DelayShow:[function(t,e,o){"use strict";cc._RF.push(e,"e6959Df+VpNOKrvEODlp2uG","DelayShow"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=.5,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.node.opacity=0,cc.tween(this.node).delay(this.time).call(function(){t.node.opacity=255}).start()},__decorate([a],e.prototype,"time",void 0),__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],DevChannel:[function(t,e,o){"use strict";cc._RF.push(e,"31fabf5x7hFGZKq4lveZT+8","DevChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("../SDKHelper"),a=t("../SDKConfig"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.request=function(t,e){i.default.sendHttpRequest(t,"",function(t,o){e(t,o)})},e.prototype.canInstallShortcut=function(t){t(a.ResultState.YES)},e.prototype.installShortcut=function(t){t(a.ResultState.YES)},e}(n.default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKHelper":"SDKHelper","../base/BaseChannel":"BaseChannel"}],DevHelper:[function(t,e,o){"use strict";cc._RF.push(e,"6f4fflJz79OO7qeww+jjC3Q","DevHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseHelper"),i=t("../sdk/tools/SDKEvent"),a=t("../../cfw/tools/Debug"),r=t("../sdk/SDKManager"),s=function(t){function e(){var e=t.call(this)||this;return i.default.instance().on(i.default.REWARD_AD_CLOSE,e.rewardClose,e),i.default.instance().on(i.default.REWARD_AD_OPEN,e.rewardOpen,e),a.default.isDebug=!1,e}return __extends(e,t),e.prototype.rewardOpen=function(){},e.prototype.rewardClose=function(){},e.prototype.hasAgreement=function(){return!0},e.prototype.hasLight=function(){return!0},e.prototype.isSwtichOpen=function(){return!1},e.prototype.getzs_video_box=function(){return 5},e.prototype.getzs_box_switch=function(){return!1},e.prototype.getzs_box_show_delay=function(){return 1e3},e.prototype.isVersion=function(){return!1},e.prototype.hasInstallApp=function(){return!1},e.prototype.getzs_native_show_delay=function(){return 1e3},e.prototype.marketHasType=function(t){return 4!=t||r.default.getChannel().hasShare()},e.prototype.canMultyAd=function(){return!0},e}(n.default);o.default=s,cc._RF.pop()},{"../../cfw/tools/Debug":"Debug","../sdk/SDKManager":"SDKManager","../sdk/tools/SDKEvent":"SDKEvent","./BaseHelper":"BaseHelper"}],DialogItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"436a6Jw5f1N8Z1SCTU0opMJ","DialogItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.DialogItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../../logic/person/model/PersonMgr");(function(t){t[t.dialogID=0]="dialogID",t[t.dir=1]="dir",t[t.person=2]="person",t[t.emoji=3]="emoji",t[t.content=4]="content"})(n=o.DialogItemModelEnum||(o.DialogItemModelEnum={}));var r=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getDialogID=function(){return this.getValue(n.dialogID)},e.prototype.getDir=function(){return this.getValue(n.dir)},e.prototype.getPerson=function(){var t=this.getValue(n.person);return a.default.instance().getPersonItemModel(t)},e.prototype.getContent=function(){return this.getValue(n.content)},e.prototype.getEmoji=function(){return this.getValue(n.emoji)},e.CLASS_NAME="DialogItemModel",e}(i.DataModel);o.default=r,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../logic/person/model/PersonMgr":"PersonMgr"}],DialogItemView:[function(t,e,o){"use strict";cc._RF.push(e,"3380ef1e7ZMR5sDv78oA/gg","DialogItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/tools/Define"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.personName=null,e.personIcon=[],e.person=[],e}return __extends(e,t),e.prototype.content=function(){this.node.scale=0,this.label.string=this.model.getContent();var t=this.model.getDir(),e=this.model.getPerson();if(e){this.person[t].active=!0;var o=i.OPPSITE_DIR[t];this.person[o].active=!1,this.personName.string=e.getName();var n=e.getEmoji(this.model.getEmoji());this.setSpriteAtlas(this.personIcon[t],e.getModuleID(),e.getIcon(),n)}cc.tween(this.node).to(.2,{scale:1.2}).to(.2,{scale:1}).start()},__decorate([s(cc.Label)],e.prototype,"label",void 0),__decorate([s(cc.Label)],e.prototype,"personName",void 0),__decorate([s([cc.Sprite])],e.prototype,"personIcon",void 0),__decorate([s([cc.Node])],e.prototype,"person",void 0),__decorate([r],e)}(n.BaseItemView);o.default=c,cc._RF.pop()},{"../../../cfw/tools/Define":"Define","../../../cfw/view":"view"}],DialogMgr:[function(t,e,o){"use strict";cc._RF.push(e,"4fd4cyOhbNGXrUzstBOOHPV","DialogMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./DialogItemModel"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialogItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.dialogItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default)},e.prototype.getDialogItemModel=function(t){return this.dialogItemModelMgr.getByID(t)},e.prototype.getDialogItemModelList=function(){return this.dialogItemModelMgr.getList()},e.prototype.getDialogIndexData=function(t){return this.dialogItemModelMgr.getIndexData(a.DialogItemModelEnum.dialogID,t)},e.prototype.start=function(t){this.emit(e.DIALOG_START,t)},e.DIALOG_START="DIALOG_START",e}(t("../../gevent/operate/OperateObserver").default);o.default=r,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","../../gevent/operate/OperateObserver":"OperateObserver","./DialogItemModel":"DialogItemModel"}],DialogView:[function(t,e,o){"use strict";cc._RF.push(e,"a9380H5UepDBp1I5fW+4vsa","DialogView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../model/DialogMgr"),a=t("./DialogItemView"),r=t("../../../logic/sound/model/SoundMgr"),s=t("../../../config/Config"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.button=null,e.prefab=null,e.layout=null,e.step=0,e}return __extends(e,t),e.prototype.start=function(){this.button.active=!1,this.content.active=!1,this.setModel(i.default.instance()),this.eventProxy.on(i.default.DIALOG_START,this.dialogStart,this)},e.prototype.dialogStart=function(t){var e=this.model.getDialogIndexData(t);e&&e.length>0?(this.list=e,this.step=0,this.content.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.content.active=!0,this.button.active=!1,this.addItem(this.step++)):this.model.finish()},e.prototype.touchStart=function(){this.content.active&&this.step<this.list.length&&this.addItem(this.step++)},e.prototype.addItem=function(t){var e=this.list[t];if(e){var o=cc.instantiate(this.prefab);if(o){r.default.instance().playSound(s.SoundID.sfx_chatEnter),this.layout.node.addChild(o),o.temp=0,this.layout.node.children.sort(function(t,e){return t.temp-e.temp});for(var n=0;n<this.layout.node.children.length;n++)this.layout.node.children[n].temp++;var i=o.getComponent(a.default);i&&(i.setModel(e),i.content()),this.layout._doLayoutDirty(),this.layout.updateLayout()}}t==this.list.length-1&&(this.button.active=!0)},e.prototype.onContinueClick=function(){this.model&&(this.content.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.content.active=!1,this.model.finish(),r.default.instance().playSound(s.SoundID.sfx_chatExit))},__decorate([u(cc.Node)],e.prototype,"content",void 0),__decorate([u(cc.Node)],e.prototype,"button",void 0),__decorate([u(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([u(cc.Layout)],e.prototype,"layout",void 0),__decorate([l],e)}(n.BaseView);o.default=d,cc._RF.pop()},{"../../../cfw/view":"view","../../../config/Config":"Config","../../../logic/sound/model/SoundMgr":"SoundMgr","../model/DialogMgr":"DialogMgr","./DialogItemView":"DialogItemView"}],EnergyNumView:[function(t,e,o){"use strict";cc._RF.push(e,"258faL7jvtGFIko1qBE7pdp","EnergyNumView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../config/Config"),a=t("../../public/bag/BagManager"),r=t("../../../cfw/time"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.start=function(){this.gEventProxy.on(i.EventName.UPDATE_ENERGY_TIMER,this.updateTime,this),this.updateTime(i.ENERGY_TIME)},e.prototype.updateTime=function(t){a.default.instance().getNum(i.ItemID.ENERGY)>=i.ENERGY_MAX?this.label.string="Full":this.label.string=r.TimeDisplay.getPointString(t)},__decorate([l(cc.Label)],e.prototype,"label",void 0),__decorate([c],e)}(n.BaseItemView);o.default=u,cc._RF.pop()},{"../../../cfw/time":"time","../../../cfw/view":"view","../../../config/Config":"Config","../../public/bag/BagManager":"BagManager"}],EngineHelper:[function(t,e,o){"use strict";cc._RF.push(e,"865b8p5x9hNy7GUTUylQGMP","EngineHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../cfw/module"),i=t("../cfw/res"),a=t("../cfw/tools/Utils"),r=function(){function t(){}return t.getMidPos=function(){var t=cc.view.getVisibleSize();return cc.v2(t.width/2,t.height/2)},t.getGlobalPos=function(t){return t.parent.convertToWorldSpaceAR(t.getPosition())},t.convertToTarget=function(t,e){if(t&&t.parent){var o=t.parent.convertToWorldSpaceAR(t.getPosition());return e.convertToNodeSpaceAR(o)}},t.collision=function(t,e){var o=t.getBoundingBox(),n=e.getBoundingBox();return this.isRectCollideRect(o,n)},t.isRectInRect=function(t,e){return t.x>=e.x&&t.x+t.width<=e.x+e.width&&t.y>=e.y&&t.y+t.height<=e.y+e.height},t.isRectCollideRect=function(t,e){return!(e.x+e.width<t.x||e.y>t.y+t.height||e.x>t.x+t.width||e.y+e.height<t.y)},t.isPointInRect2=function(t,e){return t.x<=e.x+e.width&&t.x>=e.x&&t.y<=e.y+e.height&&t.y>=e.y},t.isPointInRect=function(t,e,o,n,i){return t.x<=e+n&&t.x>=e&&t.y<=o+i&&t.y>=o},t.isPositionInRect=function(t,e,o){void 0===o&&(o="");var n=t.x<=e.x+e.width,i=t.x>=e.x,a=t.y<=e.y+e.height,r=t.y>=e.y;return o&&(cc.log(" point ",t.x,t.y),cc.log(" rect ",e.x,e.y,e.width,e.height),cc.log(" des ===  ",o),cc.log("isPositionInRect",n,i,a,r)),n&&i&&a&&r},t.isPositionInRectMid=function(t,e){var o=e.width/2,n=e.height/2,i=t.x<=e.x+o,a=t.x>=e.x-o,r=t.y<=e.y+n,s=t.y>=e.y-n;return cc.log(i,a,r,s),i&&a&&r&&s},t.isPosInRect=function(t,e,o){void 0===o&&(o="");var n=e.anchorX,i=e.anchorY,a=e.width,r=e.height,s=e.position,c=t.x,l=t.y,u=c<=s.x+(1-n)*a,d=c>=s.x-n*a,p=l<=s.y+(1-i)*r,h=l>=s.y-i*r;return o&&(cc.log(" point ",t.x,t.y),cc.log(" rect ",e.x,e.y,e.width,e.height),cc.log(" des ===  ",o),cc.log("isPositionInRect",u,d,p,h)),u&&d&&p&&h},t.isPosInRotationRect=function(t,e){var o=e.width/2,n=e.height/2,i=e.angle,a=e.position,r=t.x,s=t.y,c=-i*(Math.PI/180),l=a.x+(r-a.x)*Math.cos(c)-(s-a.y)*Math.sin(c),u=a.y+(r-a.x)*Math.sin(c)+(s-a.y)*Math.cos(c);return l>a.x-o&&l<a.x+o&&u>a.y-n&&u<a.y+n},t.isPosInWordRotationRect=function(t,e){if(!e||!e.parent)return!1;var o=e.width/2,n=e.height/2,i=e.angle,a=e.parent.convertToWorldSpaceAR(e.position),r=t.x,s=t.y,c=-i*(Math.PI/180),l=a.x+(r-a.x)*Math.cos(c)-(s-a.y)*Math.sin(c),u=a.y+(r-a.x)*Math.sin(c)+(s-a.y)*Math.cos(c);return l>a.x-o&&l<a.x+o&&u>a.y-n&&u<a.y+n},t.distance=function(t,e){return a.default.distance(t.x,t.y,e.x,e.y)},t.setSpriteFrame=function(t,e,o){n.ModuleManager.loadRes(o,e,i.ResType.SpriteFrame,function(e,o){!e&&cc.isValid(t.node)&&(t.spriteFrame=o.getRes())})},t.getRootPos=function(t,e,o){void 0===o&&(o=!0);for(var n=cc.v2();t!=e;)n.x+=t.x,n.y+=t.y,t=t.parent;return o&&(n.x+=t.x,n.y+=t.y),n},t}();o.default=r,cc._RF.pop()},{"../cfw/module":"module","../cfw/res":"res","../cfw/tools/Utils":"Utils"}],EngineView:[function(t,e,o){"use strict";cc._RF.push(e,"70eaaifQPhL3YjC1fi6Bpr4","EngineView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../cfw/res"),i=t("../cfw/module"),a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiIndex=0,e.loadFlag=!1,e}return __extends(e,t),e.prototype.isLoad=function(){return this.loadFlag},e.prototype.onLoad=function(){this.loadFlag=!0,this.onEnter()},e.prototype.onEnter=function(){},e.prototype.onDestroy=function(){this.onExit()},e.prototype.onExit=function(){},e.prototype.getName=function(){return this.node.name},e.prototype.exit=function(){this.node.destroy()},e.prototype.setVisible=function(t){this.node.active=t},e.prototype.setOrder=function(t){this.node.zIndex=t},e.prototype.setUIIndex=function(t){this.uiIndex=t},e.prototype.getUIIndex=function(){return this.uiIndex},e.prototype.getNode=function(){return this.node},e.prototype.setTimeout=function(t,e){return cc.tween(this.node).delay(e/1e3).call(function(){t()}).start()},e.prototype.clearTimeout=function(t){t.stop()},e.prototype.setInterval=function(t,e){return cc.tween(this.node).repeatForever(cc.tween(this.node).delay(e/1e3).call(function(){t()})).start()},e.prototype.clearInterval=function(t){t.stop()},e.prototype.addToParent=function(t){this.node.parent=t},e.prototype.setSpriteAtlas=function(t,e,o,a){var r=this;console.log("setSpriteAtlas  name ",a," path ",o," moduleID ",e),a?i.ModuleManager.loadRes(e,o,n.ResType.SpriteAtlas,function(e,o){if(!e&&cc.isValid(r.node)){var n=o.getRes();t.spriteFrame=n.getSpriteFrame(a)}}):this.setSpriteFrame(t,e,o)},e.prototype.setSpriteFrame=function(t,e,o){var a=this;i.ModuleManager.loadRes(e,o,n.ResType.SpriteFrame,function(e,o){!e&&cc.isValid(a.node)&&(t.spriteFrame=o.getRes())})},e.prototype.changePosition=function(t){var e=t.getPosition(),o=t.parent.convertToWorldSpaceAR(e);return this.node.convertToNodeSpaceAR(o)},e.prototype.update=function(){this.updateLogic()},e.prototype.updateLogic=function(){},__decorate([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../cfw/module":"module","../cfw/res":"res"}],EventCheckItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"b6791VBPNhM9L3kBIQhYXkP","EventCheckItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventCheckItemModelEnum=void 0;var n,i=t("../../../cfw/cfw");(function(t){t[t.type=0]="type",t[t.conditionList=1]="conditionList",t[t.state=2]="state"})(n=o.EventCheckItemModelEnum||(o.EventCheckItemModelEnum={}));var a=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getType=function(){return this.getValue(n.type)},e.prototype.getConditionList=function(){return this.getValue(n.conditionList)},e.prototype.setState=function(t){this.setValue(n.state,t)},e.prototype.getState=function(){return this.getValue(n.state)},e.CLASS_NAME="EventCheckItemModel",e}(i.DataModel);o.default=a,cc._RF.pop()},{"../../../cfw/cfw":"cfw"}],EventCheckPoint:[function(t,e,o){"use strict";cc._RF.push(e,"776dfNCN8pL/rb2zSG8MOUT","EventCheckPoint"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameEventConfig"),i=t("./GameEventAdapter"),a=t("../../cfw/view"),r=t("../../config/Config"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventType=n.EventCheckType.INTO_LAYER,e.param="",e.initCheck=!0,e}return __extends(e,t),e.prototype.start=function(){this.initCheck&&this.checkEventType(this.param),this.addEvent()},e.prototype.addEvent=function(){switch(parseInt(""+this.eventType)){case n.EventCheckType.BUILD:this.gEventProxy.on(r.EventName.NEW_BUILD_OPEN,this.newBuild,this);break;case n.EventCheckType.TASK:this.gEventProxy.on(r.EventName.TASK_OPEN,this.checkEventType,this);break;case n.EventCheckType.ENERGY:this.gEventProxy.on(r.EventName.UPDATE_ITEM_NUM,this.updateItemNum,this);break;case n.EventCheckType.NEW_FOOD:this.gEventProxy.on(r.EventName.ADD_BUY_PROP,this.addNewProp,this);break;case n.EventCheckType.MERGE_NEW_FOOD:this.gEventProxy.on(r.EventName.MERGE_NEW_FOOD,this.checkEventType,this);break;case n.EventCheckType.FOOD_FULL:this.gEventProxy.on(r.EventName.BUY_ITEM_FULL,this.checkEventType,this);break;case n.EventCheckType.FOOD_FRAZE:this.gEventProxy.on(r.EventName.FOOD_FRAZE,this.checkEventType,this);break;case n.EventCheckType.NEW_FOOD_INTO_CHIKEN:case n.EventCheckType.HAS_30093_NUM:this.gEventProxy.on(r.EventName.ADD_FOOD_BY_GITF,this.checkEventType,this)}},e.prototype.newBuild=function(t){this.checkEventType(t.getID())},e.prototype.addNewProp=function(t){this.checkEventType(t.getFoodID())},e.prototype.updateItemNum=function(t){t.getID()==r.ItemID.ENERGY&&this.checkEventType(t.getNum())},e.prototype.checkEventType=function(t){i.default.instance().checkEvent(this.eventType,t)},__decorate([l({type:cc.Enum(n.EventCheckType)})],e.prototype,"eventType",void 0),__decorate([l],e.prototype,"param",void 0),__decorate([l],e.prototype,"initCheck",void 0),__decorate([c],e)}(a.BaseView);o.default=u,cc._RF.pop()},{"../../cfw/view":"view","../../config/Config":"Config","./GameEventAdapter":"GameEventAdapter","./GameEventConfig":"GameEventConfig"}],EventDelegate:[function(t,e,o){"use strict";cc._RF.push(e,"6de57NcbrVPaK6iZihN1Opc","EventDelegate"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],EventItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"6bcdd78ukhEO6YUgNNtcBN3","EventItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventItemModelEnum=void 0;var n,i=t("../../../cfw/cfw");(function(t){t[t.eventID=0]="eventID",t[t.save=1]="save",t[t.operateType=2]="operateType",t[t.param=3]="param"})(n=o.EventItemModelEnum||(o.EventItemModelEnum={}));var a=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getEventID=function(){return this.getValue(n.eventID)},e.prototype.getSave=function(){return this.getValue(n.save)},e.prototype.getOperateType=function(){return this.getValue(n.operateType)},e.prototype.getParam=function(){return this.getValue(n.param)},e.CLASS_NAME="EventItemModel",e}(i.DataModel);o.default=a,cc._RF.pop()},{"../../../cfw/cfw":"cfw"}],EventManager:[function(t,e,o){"use strict";cc._RF.push(e,"70883YZQyZFAZrIEyIWT3Zr","EventManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/struct"),a=t("./GeventMgr"),r=t("../GameEventConfig"),s=[],c=function(t){function e(e){var o=t.call(this)||this;return o.event=new i.TSMap,o.eventID=-1,o.step=0,o.ignoreMap=new i.TSMap,o.saveList=[],o.delegate=e,o.init(),o}return __extends(e,t),e.prototype.getEventID=function(){return this.eventID},e.prototype.init=function(){for(var t=0;t<s.length;t++){var e=s[t];this.ignoreMap.set(e,1)}},e.prototype.getState=function(t){var e=a.default.instance().getEventCheckItemModel(t);return e?e.getState():n.ItemState.NOT_GET},e.prototype.check=function(t,e){var o=a.default.instance().getCheckIndex(t);if(o)for(var n=0;n<o.length;n++){var i=o[n];if(!this.isPassed(i.getID())||this.ignoreMap.has(i.getID())){var r=!0,s=i.getConditionList();if(s.length>0)for(var c=0;c<s.length;c++){var l=s[c].split(":");if(!e(parseInt(l[0]),parseInt(l[1]),l[2])){r=!1;break}}if(r)return this.start(i),!0}}return!1},e.prototype.isPassed=function(t){return this.getState(t)==n.ItemState.GOT},e.prototype.start=function(t){var e=t.getID();console.warn(" start event eid",e),this.eventID=e,this.step=0,this.delegate.update(),this.emit(r.GameEventName.EVENT_START)},e.prototype.save=function(){for(;this.saveList.length>0;)this.saveList.shift().setState(n.ItemState.GOT)},e.prototype.isOpen=function(){return-1!=this.eventID},e.prototype.end=function(){this.eventID=-1,this.step=0,this.emit(r.GameEventName.EVENT_END)},e.prototype.next=function(){1==this.getItemModel().getSave()&&this.finish(),this.step++;var t=a.default.instance().getEventStep(this.eventID);this.step>=t.length?this.end():this.delegate.update()},e.prototype.getItemModel=function(){return a.default.instance().getEventStep(this.eventID)[this.step]},e.prototype.finish=function(){var t=a.default.instance().getEventCheckItemModel(this.eventID);t&&t.setState(n.ItemState.GOT)},e}(n.BaseModel);o.default=c,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/struct":"struct","../GameEventConfig":"GameEventConfig","./GeventMgr":"GeventMgr"}],EventUIVisible:[function(t,e,o){"use strict";cc._RF.push(e,"fe811EZ8qxEw6LES+CSbyrG","EventUIVisible"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameEventConfig"),i=t("../../cfw/event"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=-1,e}return __extends(e,t),e.prototype.start=function(){i.GEvent.instance().on(n.GameEventName.EVENT_UI_VISIBLE,this.updateState,this)},e.prototype.onDestroy=function(){i.GEvent.instance().off(n.GameEventName.EVENT_UI_VISIBLE,this.updateState,this)},e.prototype.updateState=function(t,e){this.id==t&&(this.node.active=e)},__decorate([s],e.prototype,"id",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../cfw/event":"event","./GameEventConfig":"GameEventConfig"}],F399Helper:[function(t,e,o){"use strict";cc._RF.push(e,"8a0994RNEpIjoVWYpR/vEXs","F399Helper"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.hasEmail=function(){return!1},e.prototype.isF399=function(){return!0},e.prototype.rewardOpen=function(){},e.prototype.rewardClose=function(){},e.prototype.hasLight=function(){return!0},e}(t("./BaseHelper").default);o.default=n,cc._RF.pop()},{"./BaseHelper":"BaseHelper"}],F399:[function(t,e,o){"use strict";cc._RF.push(e,"c363fluOThLoqIfdoS6DKhj","F399"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../channel-ts/CMgr"),i=cc._decorator,a=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.active=n.default.helper.isF399()},__decorate([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{"../channel-ts/CMgr":"CMgr"}],FingerManager:[function(t,e,o){"use strict";cc._RF.push(e,"a922eQ6melLqpgCGV/m+0zY","FingerManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/tools/Utils"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.finger=null,e.buildTagView=[],e}return __extends(e,t),e.prototype.setFinter=function(t){this.finger=t},e.prototype.add=function(t){this.buildTagView.indexOf(t)<0&&this.buildTagView.push(t)},e.prototype.clear=function(){this.buildTagView.length=0},e.prototype.showFinger=function(t){var e=this;if(this.finger){var o=this.buildTagView.length;if(o>0){var i=n.default.random(0,o),a=this.buildTagView[i];if(a){var r=a.getWorldPos();r=t.convertToNodeSpaceAR(r),this.finger.setPosition(r)}}cc.tween(this).delay(3).call(function(){e.showFinger(t)}).start()}},e}(t("../../../cfw/model").BaseModel);o.default=i,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/tools/Utils":"Utils"}],FoodInfoItemView:[function(t,e,o){"use strict";cc._RF.push(e,"23237TXVI9IQYoGh9Gx4oHm","FoodInfoItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cocos/ccpool"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconSprite=null,e.selectSprite=null,e.percent=null,e}return __extends(e,t),e.prototype.content=function(){this.setSpriteAtlas(this.iconSprite,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame()),this.iconSprite.node.scale=this.model.getScale(),this.node.y=0},e.prototype.recover=function(){i.CCPoolManager.instance().put(this.node)},e.prototype.onDestroy=function(){},__decorate([s({type:cc.Sprite,displayName:"iconSprite"})],e.prototype,"iconSprite",void 0),__decorate([s({type:cc.Sprite,displayName:"selectSprite"})],e.prototype,"selectSprite",void 0),__decorate([s({type:cc.Label,displayName:"percent"})],e.prototype,"percent",void 0),__decorate([r],e)}(n.BaseItemView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/ccpool":"ccpool"}],FoodInfoView:[function(t,e,o){"use strict";cc._RF.push(e,"ded5f7sjH1PQqpeVXBsES6z","FoodInfoView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../model/FoodMgr"),a=t("./FoodInfoItemView"),r=t("../../../config/Config"),s=t("../../../cocos/lang/UIText"),c=t("../../../cocos/ccpool"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleLabel=null,e.iconSprite=null,e.backBtnButton=null,e.layoutLayout=null,e.itemPrefab=null,e.content1=null,e.content2=null,e.titleLabel2=null,e.layoutLayout2=null,e.content3=null,e.titleLabel3=null,e.layoutLayout3=null,e.content4=null,e.titleLabel4=null,e.market=null,e.items=[],e}return __extends(e,t),e.prototype.onLoad=function(){if(this.model&&"function"==typeof this.model.getLevel){this.titleLabel.string=this.model.getName()+s.default.instance().getText(19,{num:this.model.getLevel(),rare:this.model.getRare()+1}),this.setSpriteAtlas(this.iconSprite,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame()),this.iconSprite.node.scale=1.5*this.model.getScale();var t=this.model.getFType();switch(t){case r.FoodType.shop_gift:this.addShopGift(t);break;default:this.addFood(t)}}},e.prototype.addShopGift=function(){var t=this.model.getOutput();if(t&&t.length>0){var e=i.default.instance().getOutFood(this.model);this.content2.active=!1,this.content3.active=!1,this.content4.active=!0,this.market.active=!1,this.titleLabel4.string=""+this.model.getOutCount(),this.addList(this.layoutLayout,e,!1,!0)}},e.prototype.addFood=function(t){var e=i.default.instance().getFoodIndexData(t);e.length>0?this.addList(this.layoutLayout,e,!0):this.content1.active=!1,this.market.active=!0;var o=this.model.getOutput();if(o&&o.length>0){var n=i.default.instance().getOutFood(this.model);if(n.length>0){this.addList(this.layoutLayout2,n,!1);var a=i.default.instance().getFoodItemModel(this.model.getNextID());if(a){var r=a.getOutput();if(r&&r.length>0){var s=i.default.instance().getOutFood(a);if(s.length>0){for(var c=0;c<n.length;c++){var l=n[c],u=s.indexOf(l);u>=0&&s.splice(u,1)}this.addList(this.layoutLayout3,s,!1)}else this.content2.active=!1}else this.content3.active=!1}else this.content3.active=!1}else this.content2.active=!1,this.content3.active=!1}else this.content2.active=!1,this.content3.active=!1},e.prototype.onDestroy=function(){},e.prototype.onbackBtnButtonClick=function(){this.recover(),this.hide()},e.prototype.recover=function(){for(var t=0;t<this.items.length;t++)this.items[t].recover();this.items.length=0},e.prototype.addList=function(t,e,o,n){var i=this;void 0===n&&(n=!1);for(var r=0;r<e.length;r++){var s=e[r],l=c.CCPoolManager.instance().get("FoodInfoItemView",function(){return cc.instantiate(i.itemPrefab)});t.node.addChild(l);var u=l.getComponent(a.default);u&&(this.items.push(u),u.setModel(s),u.content(),o?s.getID()!=this.model.getID()?u.selectSprite.node.active=!1:u.selectSprite.node.active=!0:u.selectSprite.node.active=!1,n?(u.percent.node.active=!0,u.percent.string=s.getNum()+"%"):u.percent.node.active=!1)}},e.prototype.onplay_smallButtonClick=function(){this.controller&&(this.hide(),this.controller.openStoreView())},__decorate([d({type:cc.Label,displayName:"titleLabel"})],e.prototype,"titleLabel",void 0),__decorate([d({type:cc.Sprite,displayName:"iconSprite"})],e.prototype,"iconSprite",void 0),__decorate([d({type:cc.Button,displayName:"backBtnButton"})],e.prototype,"backBtnButton",void 0),__decorate([d({type:cc.Layout,displayName:"layoutLayout"})],e.prototype,"layoutLayout",void 0),__decorate([d(cc.Prefab)],e.prototype,"itemPrefab",void 0),__decorate([d(cc.Node)],e.prototype,"content1",void 0),__decorate([d(cc.Node)],e.prototype,"content2",void 0),__decorate([d({type:cc.Label,displayName:"titleLabel2"})],e.prototype,"titleLabel2",void 0),__decorate([d({type:cc.Layout,displayName:"layoutLayout2"})],e.prototype,"layoutLayout2",void 0),__decorate([d(cc.Node)],e.prototype,"content3",void 0),__decorate([d({type:cc.Label,displayName:"titleLabel3"})],e.prototype,"titleLabel3",void 0),__decorate([d({type:cc.Layout,displayName:"layoutLayout3"})],e.prototype,"layoutLayout3",void 0),__decorate([d(cc.Node)],e.prototype,"content4",void 0),__decorate([d({type:cc.Label,displayName:"titleLabel4"})],e.prototype,"titleLabel4",void 0),__decorate([d(cc.Node)],e.prototype,"market",void 0),__decorate([u],e)}(n.BaseView);o.default=p,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","../model/FoodMgr":"FoodMgr","./FoodInfoItemView":"FoodInfoItemView"}],FoodItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"05652gQyMZE87rss7AI/dCe","FoodItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.FoodItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("./FoodMgr"),r=t("../../../config/ModuleConfig"),s=t("../../../cfw/model"),c=t("../../../cfw/event"),l=t("../../../config/Config"),u=t("../../market/model/MarketMgr");(function(t){t[t.name=0]="name",t[t.rare=1]="rare",t[t.ftype=2]="ftype",t[t.state=3]="state",t[t.icon=4]="icon",t[t.nextID=5]="nextID",t[t.scale=6]="scale",t[t.price=7]="price",t[t.outType=8]="outType",t[t.output=9]="output",t[t.outCount=10]="outCount",t[t.time=11]="time",t[t.openPrice=12]="openPrice",t[t.splitRandom=13]="splitRandom",t[t.level=14]="level",t[t.sellPrice=15]="sellPrice",t[t.marketPrice=16]="marketPrice"})(n=o.FoodItemModelEnum||(o.FoodItemModelEnum={}));var d=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getSplitRandom=function(){return this.getValue(n.splitRandom)},e.prototype.getRare=function(){return this.getValue(n.rare)},e.prototype.getSellPrice=function(){return this.getValue(n.sellPrice)},e.prototype.getName=function(){return this.getValue(n.name)},e.prototype.getFType=function(){return this.getValue(n.ftype)},e.prototype.getIcon=function(){return"texture/props"},e.prototype.getSpriteFrame=function(){return this.getValue(n.icon)},e.prototype.getScale=function(){return this.getValue(n.scale)},e.prototype.getPrice=function(){return this.getValue(n.price)},e.prototype.getOutput=function(){return this.getValue(n.output)},e.prototype.getOutCount=function(){return this.getValue(n.outCount)},e.prototype.setOutCount=function(t){this.setValue(n.outCount,t),0==t&&this.setCDTime()},e.prototype.getMarketPrice=function(){return this.getValue(n.marketPrice)},e.prototype.getFoodState=function(){return this.getValue(n.state)},e.prototype.setFoodState=function(t){this.setValue(n.state,t)},e.prototype.getBeBornInitID=function(){var t=a.default.instance().getFoodTypeModel(this.getFType());return t?t.getBeBornInitID():0},e.prototype.updateFoodState=function(){this.getFoodState()==s.ItemState.NOT_GET&&(this.setFoodState(s.ItemState.GOT),c.GEvent.instance().emit(l.EventName.CHANGE_FOOD_STATE))},e.prototype.getNum=function(){return 0==this.num&&(this.num=1),t.prototype.getNum.call(this)},e.prototype.getTime=function(){return this.getValue(n.time)},e.prototype.setTime=function(t){this.setValue(n.time,t)},e.prototype.getOpenPrice=function(){return this.getValue(n.openPrice)},e.prototype.hasNext=function(){return this.getNextID()>0},e.prototype.isMaxLevel=function(){return!this.hasNext()},e.prototype.setCDTime=function(){this.setTime(this.getCfgValue(n.time))},e.prototype.clearCDTime=function(){this.setOutCount(this.getCfgValue(n.outCount)),this.setTime(0)},e.prototype.canOutput=function(){var t=this.getOutput();return t&&t.length>0},e.prototype.canSell=function(){return this.getSellPrice()>0},e.prototype.getNextModel=function(){var t=parseInt(this.getID())+1,e=a.default.instance().getNewFoodItemModel(t);return e&&e.getFType()==this.getFType()?e:null},e.prototype.getLevel=function(){return this.getValue(n.level)},e.prototype.getModuleID=function(){return r.ModuleID.GAME},e.prototype.getNextID=function(){return this.getValue(n.nextID)},e.prototype.getOutType=function(){return this.getValue(n.outType)},e.prototype.isCostEnergy=function(){var t=a.default.instance().getFoodTypeModel(this.getFType());return!!t&&(t.isCostEnergy()||30024==this.getID())},e.prototype.isInMarket=function(){return u.default.instance().hasFood(this.getID())},e.CLASS_NAME="FoodItemModel",e}(i.DataModel);o.default=d,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/event":"event","../../../cfw/model":"model","../../../config/Config":"Config","../../../config/ModuleConfig":"ModuleConfig","../../market/model/MarketMgr":"MarketMgr","./FoodMgr":"FoodMgr"}],FoodItemView:[function(t,e,o){"use strict";cc._RF.push(e,"410aeBonTJLTK7Co4GDmJw4","FoodItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../model/FoodItemModel"),a=t("../../../cfw/time"),r=t("../../../cfw/model"),s=t("../../../config/Config"),c=t("../../../cocos/ccpool"),l=t("../../../cocos/lang/UIText"),u=t("../../public/bag/BagManager"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.energy=null,e.freeze=null,e.time=null,e.mask=null,e.star=null,e.hasType=s.FoodHasState.NONE,e.timeObsver=new a.CountDownTimer(e.timeUpdate.bind(e)),e.isDoubleClick=!1,e.ptTimeObserver=new a.SheduleTimer(function(){e.isDoubleClick=!1},1),e}return __extends(e,t),e.prototype.setBgVisible=function(t){this.hasType=t},e.prototype.hasFull=function(){return this.hasType==s.FoodHasState.HAS||this.hasType==s.FoodHasState.FULL},e.prototype.getSpriteFrame=function(){return this.model.getSpriteFrame()},e.prototype.getFoodHasState=function(){return this.hasType},e.prototype.getModuleID=function(){return this.model.getModuleID()},e.prototype.getIcon=function(){return this.model.getIcon()},e.prototype.getID=function(){return this.model.getID()},e.prototype.getOutCount=function(){return this.model.getOutCount()},e.prototype.getSellPrice=function(){return this.model.getSellPrice()},e.prototype.getOutType=function(){return this.model.getOutType()},e.prototype.getLevel=function(){return this.model.getLevel()},e.prototype.getRare=function(){return this.model.getRare()},e.prototype.getOpenPrice=function(){return this.model.getOpenPrice()},e.prototype.getSplitRandom=function(){return this.model.getSplitRandom()},e.prototype.getFoodName=function(){return this.model.getName()},e.prototype.removeSelf=function(){this.model&&this.model.removeSelf()},e.prototype.getOldTime=function(){return this.model.getCfgValue(i.FoodItemModelEnum.time)},e.prototype.getCfgOutCount=function(){return this.model.getCfgOutCount()},e.prototype.hasNext=function(){return this.model.getNextID()>0},e.prototype.getFoodID=function(){return this.model.getFoodID()},e.prototype.isMaxLevel=function(){return this.model.isMaxLevel()},e.prototype.canDelete=function(){return this.model.getOutput().length<=0},e.prototype.canOutput=function(){return this.model.canOutput()},e.prototype.getOutput=function(){return this.model.getOutput()},e.prototype.isTimeFraze=function(){return this.model.isTimeFraze()},e.prototype.updateCDTime=function(t){this.mask.progress=t},e.prototype.addListener=function(){},e.prototype.getTime=function(){return this.model.getTime()},e.prototype.setState=function(t){this.model.setState(t)},e.prototype.isCostEnergy=function(){return this.model.isCostEnergy()},e.prototype.getState=function(){return this.model.getState()},e.prototype.shake=function(){cc.tween(this.icon.node).repeatForever(cc.tween(this.icon.node).by(.5,{scale:.4}).by(.5,{scale:-.4})).start()},e.prototype.unShake=function(){this.icon.node.scale=this.model.getScale(),cc.Tween.stopAllByTarget(this.icon.node)},e.prototype.content=function(){if(this.setBgVisible(s.FoodHasState.NONE),this.model){this.setSpriteAtlas(this.icon,this.model.getModuleID(),this.model.getFType()<5?"texture/props2":this.model.getIcon(),this.model.getSpriteFrame());var t=this.model.getOutput();this.icon.node.scale=this.model.getScale(),t&&t.length>0&&this.getOutType()!=s.FoodOutType.OUT_COST_ITEM?this.energy.node.opacity=255:this.energy.node.opacity=0,this.model.getNextID()?this.star.node.active=!1:this.star.node.active=!0,this.updateState()}else this.icon.spriteFrame=null,this.energy.node.opacity=0,this.time.active=!1,this.freeze.node.active=!1,this.star.node.active=!1},e.prototype.getPrice=function(){return this.model.getPrice()},e.prototype.click=function(){console.log(this.isDoubleClick),cc.Tween.stopAllByTarget(this.icon.node),this.icon.node.scale=this.model.getScale(),cc.tween(this.icon.node).by(.1,{scale:-.2}).by(.1,{scale:.2}).start()},e.prototype.setOutCount=function(t){this.model.setOutCount(t)},e.prototype.getFType=function(){return this.model.getFType()},e.prototype.setTime=function(){var t=this.getOldTime(),e=Date.now()+1e3*t;this.model.setTime(e)},e.prototype.showFreeze=function(){this.freeze.node.active=!0},e.prototype.hideFreeze=function(){this.freeze.node.active=!1},e.prototype.updateFoodState=function(){this.model.updateFoodState()},e.prototype.updateState=function(){switch(this.getState()){case r.ItemState.GOT:case r.ItemState.NOT_GET:this.hideMask();break;case r.ItemState.CAN_GET:this.showMask()}},e.prototype.resetCount=function(){this.model.resetOutCount()},e.prototype.timeUpdate=function(t){var e=this.getOldTime();e<=0||(this.mask.progress=(e-t)/e,0==t&&(this.model.setState(r.ItemState.GOT),this.getOutType()==s.FoodOutType.NO_OUT?(this.model.setFoodID(s.DEFAUL_GOLG),this.model.setFood(),this.content()):(this.resetCount(),this.updateState()),this.popAnim()))},e.prototype.showMask=function(){if(!(this.getOldTime()<=0)){this.energy.node.active=!1,this.time.active=!0;var t=this.model.getTime();this.timeObsver.setTime(t,!0),a.TimeManager.instance().add(this.timeObsver),this.getSplitRandom()>0?this.showFreeze():this.hideFreeze()}},e.prototype.hideMask=function(){a.TimeManager.instance().remove(this.timeObsver),this.energy.node.active=!0,this.time.active=!1,this.hideFreeze()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),a.TimeManager.instance().remove(this.timeObsver)},e.prototype.timeupdate=function(){},e.prototype.recover=function(){c.CCPoolManager.instance().put(this.node),a.TimeManager.instance().remove(this.timeObsver),cc.Tween.stopAllByTarget(this.icon.node)},e.prototype.popAnim=function(){cc.tween(this.icon.node).by(.2,{scale:.4}).by(.2,{scale:-.4}).start()},e.prototype.getText=function(){var t="";t=this.isMaxLevel()?l.default.instance().getText(37):l.default.instance().getText(38);var e=null;switch(this.getOutType()){case s.FoodOutType.OUT_COST_ITEM:var o=this.getOutput();(e=u.default.instance().getNewItemModel(o[0],o[1]))&&(t+=",\u70b9\u51fb\u83b7\u5f97"+e.getNum(!1)+"\u4e2a"+e.getName());break;case s.FoodOutType.NO_OUT:break;default:t+=",\u53cc\u51fb\u4ea7\u51fa\u9053\u5177"}return t},__decorate([h(cc.Sprite)],e.prototype,"icon",void 0),__decorate([h(cc.Sprite)],e.prototype,"energy",void 0),__decorate([h(cc.Sprite)],e.prototype,"freeze",void 0),__decorate([h(cc.Node)],e.prototype,"time",void 0),__decorate([h(cc.ProgressBar)],e.prototype,"mask",void 0),__decorate([h(cc.Sprite)],e.prototype,"star",void 0),__decorate([p],e)}(n.BaseItemView);o.default=f,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/time":"time","../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","../../public/bag/BagManager":"BagManager","../model/FoodItemModel":"FoodItemModel"}],FoodMediator:[function(t,e,o){"use strict";cc._RF.push(e,"a0d32iQpW9CAayW+3LOzKy+","FoodMediator"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../market/model/MarketMgr"),i=t("../../../extention/redtip/RedTipMgr"),a=t("../../../config/Config"),r=t("../../../cfw/model"),s=t("../../buy/model/BuyMgr"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.marketFoodMap={},e}return __extends(e,t),e.prototype.initData=function(){for(var t=n.default.instance().getMarketTypeModelList(),e=0;e<t.length;e++)for(var o=t[e].getMarketItems(),i=0;i<o.length;i++)o[i].getItemList()},e.prototype.addMarketFoods=function(t){for(var e=0;e<t.length;e++){var o=t[e].getID();this.marketFoodMap[o]||(this.marketFoodMap[o]=0),this.marketFoodMap[o]++}this.checkBuyItemList()},e.prototype.removeMarketFoods=function(t){for(var e=0;e<t.length;e++){var o=t[e].getID();this.marketFoodMap[o]||(this.marketFoodMap[o]=0),this.marketFoodMap[o]>0&&this.marketFoodMap[o]--}this.checkBuyItemList()},e.prototype.checkBuyItem=function(t){for(var e=0;e<t.length;e++){var o=t[e];this.marketFoodMap[o.getID()]>0&&i.default.instance().addRedTip(a.RedTipType.IN_MARKET,o.getID())}},e.prototype.removeBuyItemList=function(t){for(var e=0;e<t.length;e++){var o=t[e];i.default.instance().removeRedTip(a.RedTipType.IN_MARKET,o.getID())}},e.prototype.checkBuyItemList=function(){for(var t=s.default.instance().getBuyList(),e=0;e<t.length;e++){var o=t[e];this.checkBuyItem(o.getItemList())}},e}(r.BaseModel);o.default=c,cc._RF.pop()},{"../../../cfw/model":"model","../../../config/Config":"Config","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../buy/model/BuyMgr":"BuyMgr","../../market/model/MarketMgr":"MarketMgr"}],FoodMgr:[function(t,e,o){"use strict";cc._RF.push(e,"8563dB0/PtL+Y1bL3K5Ga8r","FoodMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./FoodItemModel"),r=t("./FoodTypeModel"),s=t("./GridItemModel"),c=t("../../../config/Config"),l=t("./FoodRareItemModel"),u=t("../../../cfw/tools/Utils"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.foodItemModelMgr=new n.ModelManager,e.foodTypeModelMgr=new n.ModelManager,e.gridItemModelMgr=new n.ModelManager,e.foodRareItemModelMgr=new n.ModelManager,e.marketList=[],e}return __extends(e,t),e.prototype.initData=function(){this.foodItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),this.foodTypeModelMgr.initWithData(i.ModuleManager.dataManager.get(r.default.CLASS_NAME),r.default),this.gridItemModelMgr.initWithData(i.ModuleManager.dataManager.get(s.default.CLASS_NAME),s.default),this.foodRareItemModelMgr.initWithData(i.ModuleManager.dataManager.get(l.default.CLASS_NAME),l.default);for(var t=this.getFoodItemModelList(),e=0;e<t.length;e++){var o=t[e];o.getMarketPrice()>0&&this.marketList.push(o)}},e.prototype.getNewItemModel=function(t,e){void 0===e&&(e=1);var o=this.getNewFoodItemModel(t);return o.setNum(e,!1),o},e.prototype.getRandomFoodID=function(){for(var t=[],e=0;e<this.marketList.length;e++){var o=this.marketList[e];t.push(o)}return t},e.prototype.getFoodByFoodType=function(t){for(var e=this.getGridItemModelList(),o=e.length,n=0;n<o;n++){var i=e[n].getFood();if(i&&i.getFType()==t)return i}return null},e.prototype.getFoodByFoodID=function(t){for(var e=this.getGridItemModelList(),o=e.length,n=0;n<o;n++){var i=e[n];if(i&&i.getFoodID()==t)return i}return null},e.prototype.getFoodCountByID=function(t){for(var e=0,o=this.getGridItemModelList(),n=o.length,i=0;i<n;i++){var a=o[i];a&&a.getFoodID()==t&&e++}return e},e.prototype.getNewFoodItemModel=function(t){return this.foodItemModelMgr.getNewModel(t,a.default)},e.prototype.getFoodItemModel=function(t){return this.foodItemModelMgr.getByID(t)},e.prototype.getFoodItemModelList=function(){return this.foodItemModelMgr.getList()},e.prototype.getFoodTypeModel=function(t){return this.foodTypeModelMgr.getByID(t)},e.prototype.getFoodTypeModelList=function(){return this.foodTypeModelMgr.getList()},e.prototype.getGridItemModel=function(t){return this.gridItemModelMgr.getByID(t)},e.prototype.getGridItemModelList=function(){return this.gridItemModelMgr.getList()},e.prototype.getFoodIndexData=function(t){return this.foodItemModelMgr.getIndexData(a.FoodItemModelEnum.ftype,t)},e.prototype.getOutFood=function(t){var e=[],o=t.getOutput();if(o&&o.length>0){var n=o.length/2;switch(t.getOutType()){case c.FoodOutType.NO_OUT:case c.FoodOutType.CHOICE_ITEM:case c.FoodOutType.OUT_COST_ITEM:break;case c.FoodOutType.OUT_ITEM_DESTORY:case c.FoodOutType.OUT_ITEM_WITH_OPEN_CD:for(i=0;i<o.length;i++)r=o[i],e.push(this.getFoodItemModel(r));break;case c.FoodOutType.OUT_RANDOM_AND_CD:case c.FoodOutType.OUT_RANDOM_COUNT_DESTROY:for(var i=0;i<n;i++){var a,r=o[2*i],s=o[2*i+1];(a=this.getFoodItemModel(r)).setNum(s),e.push(a)}}}return e},e.prototype.getItemByRare=function(t){var e=this.foodItemModelMgr.getIndexData(a.FoodItemModelEnum.rare,t);if(e&&e.length>0){var o=e[u.default.random(0,e.length)];return o?this.getNewFoodItemModel(o.getID()):null}return null},e.prototype.getItemByRareList=function(t){var e=t[u.default.random(0,t.length)];return this.getItemByRare(e)},e}(n.BaseModel);o.default=d,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/tools/Utils":"Utils","../../../config/Config":"Config","./FoodItemModel":"FoodItemModel","./FoodRareItemModel":"FoodRareItemModel","./FoodTypeModel":"FoodTypeModel","./GridItemModel":"GridItemModel"}],FoodRareItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"25e74LWEcBK55SbQ6aVQ8H7","FoodRareItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.FoodRareItemModelEnum=void 0;var n,i=t("../../../cfw/cfw");(function(t){t[t.eggWeight=0]="eggWeight"})(n=o.FoodRareItemModelEnum||(o.FoodRareItemModelEnum={}));var a=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getEggWeight=function(){return this.getValue(n.eggWeight)},e.CLASS_NAME="FoodRareItemModel",e}(i.DataModel);o.default=a,cc._RF.pop()},{"../../../cfw/cfw":"cfw"}],FoodTypeModel:[function(t,e,o){"use strict";cc._RF.push(e,"76f9157dpdHHbTuHzSmfdQL","FoodTypeModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.FoodTypeModelEnum=void 0;var n,i=t("../../../cfw/cfw");(function(t){t[t.name=0]="name",t[t.type=1]="type",t[t.weight=2]="weight",t[t.state=3]="state",t[t.costEnergy=4]="costEnergy",t[t.beBornInitID=5]="beBornInitID"})(n=o.FoodTypeModelEnum||(o.FoodTypeModelEnum={}));var a=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getName=function(){return this.getValue(n.name)},e.prototype.getWeight=function(){return this.getValue(n.weight)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t)},e.prototype.isCostEnergy=function(){return 1==this.getValue(n.costEnergy)},e.prototype.getBeBornInitID=function(){return this.getValue(n.beBornInitID)},e.CLASS_NAME="FoodTypeModel",e}(i.DataModel);o.default=a,cc._RF.pop()},{"../../../cfw/cfw":"cfw"}],G4399Channel:[function(t,e,o){"use strict";cc._RF.push(e,"b5a54McoVZBE6rdOheG8kbh","G4399Channel"),Object.defineProperty(o,"__esModule",{value:!0}),o.G4399Channel=void 0;var n=t("./G4399RewardAd"),i=t("../../sdk/base/BaseChannel"),a=t("./G4399Share"),r=t("../SDKConfig"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this.cfg,e=t[r.ADName.reward];if(e)for(var o=0;o<e.length;o++){var i=e[o];this.rewardAd.push(new n.default(this,i))}this.share=new a.default(this,t[r.ADName.share])},e.prototype.onHide=function(){},e.prototype.onShow=function(){},e}(i.default);o.G4399Channel=s,cc._RF.pop()},{"../../sdk/base/BaseChannel":"BaseChannel","../SDKConfig":"SDKConfig","./G4399RewardAd":"G4399RewardAd","./G4399Share":"G4399Share"}],G4399RewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"6f76bQ7j1xOeIZ70NOJPzJR","G4399RewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.remain=0,e.canPlayAd=!1,e}return __extends(e,t),e.prototype.open=function(t){this.callback=t;var e=this.canPlay();console.log(" play ==========  ",e),this.show()},e.prototype.create=function(){},e.prototype.show=function(){var t=this;this.sdk&&this.sdk.playAd(function(e){console.log("\u4ee3\u7801:"+e.code+",\u6d88\u606f:"+e.message),1e4===e.code?(console.log("\u5f00\u59cb\u64ad\u653e"),t.pause()):10001===e.code?(console.log("\u64ad\u653e\u7ed3\u675f"),t.callback&&(t.callback(n.ResultState.YES),t.updateRemainCount(),t.callback=null),t.resume()):(console.log("\u5e7f\u544a\u5f02\u5e38"),t.callback&&(t.callback(n.ResultState.NO),t.callback=null),t.resume())})},e.prototype.canPlay=function(){return console.log("canPlay \u662f\u5426\u53ef\u64ad\u653e\u5e7f\u544a",this.canPlayAd,"\u5269\u4f59\u6b21\u6570",this.remain),this.canPlayAd&&this.remain>0},e.prototype.hasSDK=function(){return null!=this.sdk&&null!=this.sdk},e.prototype.updateRemainCount=function(){this.remain>0&&this.remain--},e.prototype.init=function(){var t=this;this.sdk&&this.sdk.canPlayAd(function(e){console.log("loadConfig \u662f\u5426\u53ef\u64ad\u653e\u5e7f\u544a",e.canPlayAd,"\u5269\u4f59\u6b21\u6570",e.remain),t.remain=e.remain,t.canPlayAd=e.canPlayAd})},e}(t("../base/BaseRewardAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],G4399Share:[function(t,e,o){"use strict";cc._RF.push(e,"6a27eodsfxIcqLLSOFbWlgM","G4399Share"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../sdk/base/BaseShare"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.share=function(t,e){this.callback=e,this.sdk&&this.sdk.share(),this.callback(i.ResultState.YES)},e}(n.BaseShare);o.default=a,cc._RF.pop()},{"../../sdk/base/BaseShare":"BaseShare","../SDKConfig":"SDKConfig"}],GameBottomView:[function(t,e,o){"use strict";cc._RF.push(e,"2d1edUJsNhOCKrivYDx5JQA","GameBottomView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/tools/Utils"),a=t("../../../cfw/view"),r=t("../../../cocos/comp/ChangeScale"),s=t("../../../cocos/lang/UIText"),c=t("../../../config/Config"),l=t("../../../engine/unity"),u=t("../../../extention/gevent/GameEventAdapter"),d=t("../../../extention/guide/GuideMgr"),p=t("../../../merge/MergeEngin"),h=t("../../item/ItemC"),f=t("../../public/bag/BagManager"),g=t("../../public/tip/TipC"),y=t("../../specialtask/model/SpecialtaskMgr"),m=t("../../start/Combat/CombatC"),v=t("../../storage/model/StorageMgr"),_=t("./CardView"),S=cc._decorator,I=S.ccclass,M=S.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleLabel=null,e.descLabel=null,e.deleteNode=null,e.sellNode=null,e.clearNode=null,e.sellLabel=null,e.clearLabel=null,e.timeIcon=null,e.box=null,e.removeIcon=null,e.cardNode=null,e.cardPrefab=null,e.removed=null,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.titleLabel.node.opacity=0,this.descLabel.node.opacity=0,this.deleteNode.active=!1,this.sellNode.active=!1,this.clearNode.active=!1,this.gEventProxy.on(c.EventName.CLOSE_GAME_VIEW,this.backBtnClick,this),this.removed.active=!1;var e=new l.Vector2(0,0);p.PlotMgr.instance().getSearchItem().forEach(function(o){var n=cc.instantiate(t.cardPrefab).getComponent(_.default);t.cardNode.addChild(n.node),n.node.setPosition(e),n.setSprite(o),e.x+=2})},e.prototype.openAnim=function(){var t=this;cc.Tween.stopAllByTarget(this.box),cc.tween(this.box).call(function(){t.box.opacity=0}).delay(.5).call(function(){t.box.opacity=255}).start()},e.prototype.collideWithBox=function(t){var e=t.node.getBoundingBoxToWorld(),o=this.box.getBoundingBoxToWorld();return i.default.isRectCollideAnchor(e.x,e.y,e.width,e.height,.5,.5,o.x,o.y,o.width,o.height,.5,.5)},e.prototype.startBoxAnim=function(){if(v.default.instance().getEmpty()){var t=this.box.getComponent(r.default);t?t.start():this.box.addComponent(r.default)}},e.prototype.stopBoxAnim=function(){if(v.default.instance().getEmpty()){var t=this.box.getComponent(r.default);t&&t.stop()}},e.prototype.setFoodInfo=function(t){if(this.deleteNode.active=!1,this.sellNode.active=!1,this.clearNode.active=!1,this.removed.active&&(this.removed.active=!1),this.deleteFood&&(console.log(" remove\uff33\uff45\uff4c\uff46"),this.deleteFood.removeSelf(),this.deleteFood=null),t.hasFood()){var e=t.getFood();this.titleLabel.node.opacity=255,this.descLabel.node.opacity=255;var o=e.getFoodName()+s.default.instance().getText(19,{num:e.getLevel(),rare:e.getRare()+1});if(this.titleLabel.string=o,this.descLabel.string=e.getText(),t.isOpen()){var i=e.getOutType();switch(parseInt(i)){case c.FoodOutType.NO_OUT:case c.FoodOutType.OUT_RANDOM_COUNT_DESTROY:switch(e.getState()){case n.ItemState.NOT_GET:case n.ItemState.GOT:var a=e.getSellPrice();a>0?(this.sellNode.active=!0,this.sellLabel.string=a):this.deleteNode.active=!0;break;case n.ItemState.CAN_GET:if(e.getSplitRandom()>0)this.clearNode.active=!0,this.timeIcon.active=!1,this.clearLabel.string=""+e.getOpenPrice();else{var r=e.getSellPrice();r>0?(this.sellNode.active=!0,this.sellLabel.string=r):this.deleteNode.active=!0}}break;case c.FoodOutType.CHOICE_ITEM:case c.FoodOutType.OUT_COST_ITEM:case c.FoodOutType.OUT_ITEM_DESTORY:var l=e.getSellPrice();l>0?(this.sellNode.active=!0,this.sellLabel.string=l):this.deleteNode.active=!0;break;case c.FoodOutType.OUT_ITEM_WITH_OPEN_CD:switch(e.getState()){case n.ItemState.NOT_GET:this.clearNode.active=!0,this.timeIcon.active=!0,this.clearLabel.string=e.getOldTime()/60+"m";break;case n.ItemState.CAN_GET:this.clearNode.active=!0,this.timeIcon.active=!1,this.clearLabel.string=""+e.getOpenPrice();break;case n.ItemState.GOT:var u=e.getSellPrice();u>0?(this.sellNode.active=!0,this.sellLabel.string=u):this.deleteNode.active=!0}break;case c.FoodOutType.OUT_RANDOM_AND_CD:switch(e.getState()){case n.ItemState.CAN_GET:this.clearNode.active=!0,this.timeIcon.active=!1,this.clearLabel.string=""+e.getOpenPrice(),this.clearNode,this.clearNode.scale=1,cc.tween(this.clearNode).by(.2,{scale:.1}).by(.2,{scale:-.1}).start();break;case n.ItemState.GOT:case n.ItemState.NOT_GET:if(this.gameView.hasOtherFood(e)){var d=e.getSellPrice();d>0?(this.sellNode.active=!0,this.sellLabel.string=d):this.deleteNode.active=!0}}}}else this.clearNode.active=!1,this.sellNode.active=!1,this.deleteNode.active=!1;this.gameView.select(!0)}else this.titleLabel.node.opacity=0,this.descLabel.node.opacity=0,this.gameView.select(!1)},e.prototype.sellPriceBtnClick=function(){var t=this.gameView.getCurGrid();if(t&&t.hasFood()){var e=t.getFood(),o=e.getSellPrice();if(o>0){var n=e.node.convertToWorldSpaceAR(e.node.getPosition());return f.default.instance().updateItemNum(c.ItemID.GOLD,o,n),t.removeFood(),this.setFoodInfo(t),e.removeSelf(),y.default.instance().addGold(o),!0}}},e.prototype.clearCDTimeBtnClick=function(){var t=this.gameView.getCurGrid();if(t&&t.hasFood()){var e=t.getFood();if(e.isTimeFraze()){var o=e.getOpenPrice();if(o<0&&(o=0),u.default.instance().isOpen()&&(o=0),f.default.instance().isEnough(c.ItemID.TOKEN,o))return e.setState(n.ItemState.GOT),e.resetCount(),e.updateState(),f.default.instance().updateItemNum(c.ItemID.TOKEN,-o),d.default.instance().notify("clearCDTime"),e.getSplitRandom()>0&&this.gameView.updateGridAndBuyState(),this.setFoodInfo(t),!0;h.default.instance().showBuyTokenView(o)}else e.setTime(),e.setState(n.ItemState.CAN_GET),e.updateState(),d.default.instance().notify("startCDTime"),this.setFoodInfo(t)}},e.prototype.deleteFoodBtnClick=function(){var t=this.gameView.getCurGrid();if(t){var e=t.getFood();e&&(t.removeFood(),this.setFoodInfo(t),this.removed.active=!0,this.setSpriteAtlas(this.removeIcon,e.getModuleID(),e.getIcon(),e.getSpriteFrame()),this.deleteGrid=t,this.deleteFood=e,this.gameView.updateGridAndBuyState())}},e.prototype.onStorageBtnClick=function(){},e.prototype.onFoodInfoClick=function(){var t=this.gameView.getCurGrid();if(t){var e=t.getFood();e&&(this.controller.showFoodInfo(e.getModel().getFood()),d.default.instance().notify("foodButtonClick"))}},e.prototype.backBtnClick=function(){this.gameView.recover(),this.controller.gotoLobby()},e.prototype.onRecoverBtnClick=function(){console.log(" onRecoverBtnClick 1111"),this.deleteGrid&&this.deleteFood&&(this.removed.active=!1,console.log(" onRecoverBtnClick "),this.gameView.addRecoverFood(this.deleteGrid,this.deleteFood),this.deleteFood=null,this.setFoodInfo(this.deleteGrid),this.deleteGrid=null)},e.prototype.onFoodBtnClick=function(){if(this.checkGrid())if(m.default.instance().buyBox(m.BoxType.food)){var t=3e4+Math.floor(1*Math.random())+1;this.addFoodItem(t)}else g.default.instance().showToast("\u4f53\u529b\u4e0d\u8db3")},e.prototype.onWeaponBtnClick=function(){if(this.checkGrid())if(m.default.instance().buyBox(m.BoxType.weapon)){var t=30013+Math.floor(2*Math.random());this.addFoodItem(t)}else g.default.instance().showToast("\u4f53\u529b\u4e0d\u8db3")},e.prototype.onMedicineBtnClick=function(){if(this.checkGrid())if(m.default.instance().buyBox(m.BoxType.medicine)){var t=30023+Math.floor(2*Math.random());this.addFoodItem(t)}else g.default.instance().showToast("\u4f53\u529b\u4e0d\u8db3")},e.prototype.onItemBtnClick=function(){if(this.checkGrid())if(m.default.instance().buyBox(m.BoxType.item)){var t=30029+Math.floor(2*Math.random());this.addFoodItem(t)}else g.default.instance().showToast("\u4f53\u529b\u4e0d\u8db3")},e.prototype.checkGrid=function(){var t=this.gameView.getGridList(),e=null;return t.forEach(function(o){1!=o.getState()||o.hasFood()||null!=e||(console.log("\u7a7a\u683c\u5b50",t.indexOf(o)),e=o)}),null==e&&g.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1"),null!=e},e.prototype.addFoodItem=function(t){var e=this.gameView.getGridList(),o=null;if(e.forEach(function(t){1!=t.getState()||t.hasFood()||null!=o||(console.log("\u7a7a\u683c\u5b50",e.indexOf(t)),o=t)}),null==o)g.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1");else{var i=this.model.addNewFood(t);if(i){var a=this.gameView.getFood(i);a.setState(n.ItemState.GOT),this.gameView.addFood(o,a,o.getPos()),d.default.instance().notify("GameView_addFoodByGrid")}}},__decorate([M({type:cc.Label})],e.prototype,"titleLabel",void 0),__decorate([M({type:cc.Label})],e.prototype,"descLabel",void 0),__decorate([M({type:cc.Node})],e.prototype,"deleteNode",void 0),__decorate([M({type:cc.Node})],e.prototype,"sellNode",void 0),__decorate([M({type:cc.Node})],e.prototype,"clearNode",void 0),__decorate([M({type:cc.Label})],e.prototype,"sellLabel",void 0),__decorate([M({type:cc.Label})],e.prototype,"clearLabel",void 0),__decorate([M({type:cc.Node})],e.prototype,"timeIcon",void 0),__decorate([M({type:cc.Node})],e.prototype,"box",void 0),__decorate([M({type:cc.Sprite})],e.prototype,"removeIcon",void 0),__decorate([M({type:cc.Node})],e.prototype,"cardNode",void 0),__decorate([M({type:cc.Prefab})],e.prototype,"cardPrefab",void 0),__decorate([M({type:cc.Node})],e.prototype,"removed",void 0),__decorate([I],e)}(a.BaseView);o.default=w,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/tools/Utils":"Utils","../../../cfw/view":"view","../../../cocos/comp/ChangeScale":"ChangeScale","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","../../../engine/unity":"unity","../../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../../extention/guide/GuideMgr":"GuideMgr","../../../merge/MergeEngin":"MergeEngin","../../item/ItemC":"ItemC","../../public/bag/BagManager":"BagManager","../../public/tip/TipC":"TipC","../../specialtask/model/SpecialtaskMgr":"SpecialtaskMgr","../../start/Combat/CombatC":"CombatC","../../storage/model/StorageMgr":"StorageMgr","./CardView":"CardView"}],GameC:[function(t,e,o){"use strict";cc._RF.push(e,"774b3aIOo1OHKTfZYEdw5As","GameC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/tools/ViewManager"),i=t("../../config/ModuleConfig"),a=t("../../config/UIConfig"),r=t("../../cfw/mvc"),s=t("../public/bag/BagManager"),c=t("../../config/Config"),l=t("../../cfw/module"),u=t("../../cfw/res"),d=t("../public/loading/LoadingC"),p=t("../../cfw/ui"),h=t("../item/ItemC"),f=t("./model/GameManager"),g=t("../../cfw/event"),y=t("../market/MarketC"),m=t("../../cfw/local"),v=t("../../sdk/channel-ts/CMgr"),_=t("../../config/UmengEventID"),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.first_game=new m.LocalValue("first_game",0),e.gridID=0,e.selectFood=null,e}return __extends(e,t),e.prototype.intoLayer=function(){var t=this;l.BundleManager.instance().hasBundle(i.ModuleID.GAME)?this.showView():(d.default.instance().addItem(i.ModuleID.GAME,u.ResType.AssetBundle,i.ModuleID.RES,"\u52a0\u8f7d\u5206\u5305"),d.default.instance().intoLayer(function(){t.showView()},a.UIIndex.STACK))},e.prototype.setLoading=function(t){this.loading=t},e.prototype.showView=function(){n.default.pushUIView({path:"prefab/GameView",moduleID:i.ModuleID.GAME,uiIndex:a.UIIndex.STACK,controller:this,model:new f.default,func:function(){p.default.instance().popView()},delayTime:2e3})},e.prototype.init=function(){0==this.first_game.getInt()&&(this.first_game.setValue(1),v.default.helper.trackEvent(_.default.first_game))},e.prototype.gotoLobby=function(){},e.prototype.showBuyEnergyView=function(){h.default.instance().showBuyEnergyView()},e.prototype.clearCDTimeBtnClick=function(){},e.prototype.showFoodInfo=function(t){n.default.pushUIView({path:"prefabs/FoodInfoView",moduleID:i.ModuleID.PUBLIC,uiIndex:a.UIIndex.STACK,model:t,controller:this})},e.prototype.addBottom=function(t,e,o){n.default.pushUIToast({path:"prefabs/GameBottomView",moduleID:i.ModuleID.PUBLIC,uiIndex:a.UIIndex.ROOT,model:e,controller:this,parent:t,func:function(t){o(t)}})},e.prototype.openStoreView=function(){y.default.instance().intoLayer()},e.prototype.showSelectFoodView=function(t,e){this.gridID=e,n.default.pushUIView({path:"prefabs/SelectFoodView",moduleID:i.ModuleID.PUBLIC,uiIndex:a.UIIndex.STACK,model:t,controller:this})},e.prototype.clickSelectFood=function(t){this.selectFood=t.getModel(),g.GEvent.instance().emit(c.EventName.SELECT_FOOD,t)},e.prototype.clickSelectOK=function(){this.selectFood&&(s.default.instance().updateItem(this.selectFood),g.GEvent.instance().emit(c.EventName.DELETE_GRID_FOOD,this.gridID),this.selectFood=null)},e}(r.BaseController);o.default=S,cc._RF.pop()},{"../../cfw/event":"event","../../cfw/local":"local","../../cfw/module":"module","../../cfw/mvc":"mvc","../../cfw/res":"res","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../sdk/channel-ts/CMgr":"CMgr","../item/ItemC":"ItemC","../market/MarketC":"MarketC","../public/bag/BagManager":"BagManager","../public/loading/LoadingC":"LoadingC","./model/GameManager":"GameManager"}],GameEventAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"e34b9NxJVtESYriwYN0t/Q1","GameEventAdapter"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/event"),i=t("./model/EventManager"),a=t("./GameEventConfig"),r=t("../../cfw/tools/Define"),s=t("../../cfw/ui"),c=t("./operate/OperateFactory"),l=t("../../logic/scene/model/SceneMgr"),u=t("../../logic/level/model/LevelMgr"),d=t("../../logic/task/model/TaskMgr"),p=t("../../cfw/model"),h=t("../../logic/game/model/GridFoodMgr"),f=t("../../logic/buy/model/BuyMgr"),g=t("../../logic/item/model/ItemMgr"),y=t("../../config/Config"),m=t("../../logic/game/model/FoodMgr"),v=function(t){function e(){var e=t.call(this)||this;return e.event=new i.default(e),e}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new e),this.ins},e.prototype.getEventManager=function(){return this.event},e.prototype.getState=function(t){return this.event.getState(t)},e.prototype.checkEvent=function(t,e){var o=this;this.event.check(t,function(t,n,i){var c;switch(parseInt(t)){case a.EventCheckType.INTO_LAYER:return r.gameCompare(e,n,i);case a.EventCheckType.LEVEL_EQULE:return c=u.default.instance().getLevel(),r.gameCompare(c,n,i);case a.EventCheckType.GUIDE_NOT_FINISH:return c=o.event.getState(i),r.gameCompare(c,n,p.ItemState.NOT_GET);case a.EventCheckType.EVENT_FINISH:return c=o.event.getState(i),r.gameCompare(c,n,p.ItemState.GOT);case a.EventCheckType.LEFT_UI_COUNT:return c=s.default.instance().getOpenUICount(),r.gameCompare(c,n,i);case a.EventCheckType.TASK:var v=d.default.instance().getTaskItemModel(i);return v&&(c=v.getState()),r.gameCompare(c,n,p.ItemState.CAN_GET);case a.EventCheckType.BUILD:var _=l.default.instance().getBuildItemModel(i);return _&&(c=_.getState()),r.gameCompare(c,n,p.ItemState.CAN_GET);case a.EventCheckType.NEW_FOOD:var S=h.default.instance().getFoodByFoodID(i);return!!S&&r.gameCompare(S.getFoodID(),n,i);case a.EventCheckType.FOOD_FULL:var I=f.default.instance().getBuyPerson(i);return I&&(c=I.getState()),r.gameCompare(c,n,p.ItemState.CAN_GET);case a.EventCheckType.MERGE_NEW_FOOD:return r.gameCompare(e,n,i);case a.EventCheckType.ENERGY:return c=g.default.instance().getItemModel(y.ItemID.ENERGY).getNum(),r.gameCompare(c,n,i);case a.EventCheckType.FOOD_FRAZE:var M=m.default.instance().getFoodByFoodType(i);return M?(c=M.getState(),console.log(" state ",c),r.gameCompare(c,n,p.ItemState.CAN_GET)):(console.log("food is null"),!1);case a.EventCheckType.HAS_30093_NUM:return c=m.default.instance().getFoodCountByID(30093),r.gameCompare(c,n,i);case a.EventCheckType.NEW_FOOD_INTO_CHIKEN:return!!m.default.instance().getFoodByFoodID(i);default:return!1}})},e.prototype.update=function(){var t=this.event.getItemModel();if(t){var e=c.default.build(t.getOperateType(),this);e&&e.start(t.getParam())}},e.prototype.guideFinish=function(t){this.eventFinish(a.OperateType.OPEN_GUIDE,t)},e.prototype.closeTip=function(t){this.eventFinish(a.OperateType.OPEN_TIP,t)},e.prototype.eventFinish=function(t){this.event.isOpen()&&this.event.getItemModel().getOperateType()==t&&(this.event.next(),this.event.isOpen()||this.checkEvent(a.EventCheckType.EVENT_FINISH))},e.prototype.isOpen=function(){return this.event.isOpen()},e.prototype.setUIVisible=function(t,e){if(t.indexOf(":")>=0)for(var o=t.split(":"),i=0;i<o.length;i++){var r=o[i];n.GEvent.instance().emit(a.GameEventName.EVENT_UI_VISIBLE,r,e)}else n.GEvent.instance().emit(a.GameEventName.EVENT_UI_VISIBLE,t,e)},e}(n.EventDispatcher);o.default=v,cc._RF.pop()},{"../../cfw/event":"event","../../cfw/model":"model","../../cfw/tools/Define":"Define","../../cfw/ui":"ui","../../config/Config":"Config","../../logic/buy/model/BuyMgr":"BuyMgr","../../logic/game/model/FoodMgr":"FoodMgr","../../logic/game/model/GridFoodMgr":"GridFoodMgr","../../logic/item/model/ItemMgr":"ItemMgr","../../logic/level/model/LevelMgr":"LevelMgr","../../logic/scene/model/SceneMgr":"SceneMgr","../../logic/task/model/TaskMgr":"TaskMgr","./GameEventConfig":"GameEventConfig","./model/EventManager":"EventManager","./operate/OperateFactory":"OperateFactory"}],GameEventConfig:[function(t,e,o){"use strict";cc._RF.push(e,"80485GYhUpJHKDWrxIRxusN","GameEventConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventCheckTime=o.EventCheckType=o.OperateType=o.GameEventName=void 0;var n=function(){function t(){}return t.EVENT_FINISH="EVENT_FINISH",t.EVENT_START="EVENT_START",t.EVENT_END="EVENT_END",t.EVENT_UPDATE="EVNET_UPDATE",t.EVENT_CHECK="EVNET_CHECK",t.EVENT_UI_VISIBLE="EVENT_UI_VISIBLE",t}();o.GameEventName=n,function(t){t[t.OPEN_GUIDE=0]="OPEN_GUIDE",t[t.OPEN_TIP=1]="OPEN_TIP",t[t.IN_VISIBLE=2]="IN_VISIBLE",t[t.VISIBLE=3]="VISIBLE",t[t.HIDE_UI=4]="HIDE_UI",t[t.SHOW_UI=5]="SHOW_UI",t[t.CLOSE_TIP=6]="CLOSE_TIP",t[t.OPEN_DIALOG=7]="OPEN_DIALOG"}(o.OperateType||(o.OperateType={})),function(t){t[t.INTO_LAYER=0]="INTO_LAYER",t[t.EVENT_FINISH=1]="EVENT_FINISH",t[t.LEFT_UI_COUNT=2]="LEFT_UI_COUNT",t[t.LEVEL_EQULE=3]="LEVEL_EQULE",t[t.GUIDE_NOT_FINISH=4]="GUIDE_NOT_FINISH",t[t.CHANGE_STATE=5]="CHANGE_STATE",t[t.FOOD_FULL=6]="FOOD_FULL",t[t.TASK=7]="TASK",t[t.BUILD=8]="BUILD",t[t.ENERGY=9]="ENERGY",t[t.NEW_FOOD=10]="NEW_FOOD",t[t.MERGE_NEW_FOOD=11]="MERGE_NEW_FOOD",t[t.FOOD_FRAZE=12]="FOOD_FRAZE",t[t.HAS_30093_NUM=13]="HAS_30093_NUM",t[t.NEW_FOOD_INTO_CHIKEN=14]="NEW_FOOD_INTO_CHIKEN"}(o.EventCheckType||(o.EventCheckType={})),function(t){t[t.INTO_LAYER=0]="INTO_LAYER"}(o.EventCheckTime||(o.EventCheckTime={})),cc._RF.pop()},{}],GameEventView:[function(t,e,o){"use strict";cc._RF.push(e,"eea1d7XizZIdJNd21bZ5Lyk","GameEventView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GameEventAdapter"),i=t("../GameEventConfig"),a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.model=n.default.instance().getEventManager(),this.model.on(i.GameEventName.EVENT_START,this.eventStart,this),this.model.on(i.GameEventName.EVENT_END,this.eventEnd,this),this.model.isOpen()&&this.eventStart()},e.prototype.eventStart=function(){this.node.getComponent(cc.BlockInputEvents)||this.node.addComponent(cc.BlockInputEvents)},e.prototype.eventEnd=function(){this.node.removeComponent(cc.BlockInputEvents)},__decorate([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../GameEventAdapter":"GameEventAdapter","../GameEventConfig":"GameEventConfig"}],GameItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"d71680h9DVA9qr11vm8hhDQ","GameItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ChannelUtils"),i=function(){function t(){this.priority=0}return t.prototype.getGameName=function(){return""},t.prototype.getGameIcon=function(){return""},t.prototype.getData=function(){return null},t.prototype.subPriority=function(){this.priority=n.default.random(this.priority,this.priority+10)},t.prototype.getPriority=function(){return this.priority},t}();o.default=i,cc._RF.pop()},{"./ChannelUtils":"ChannelUtils"}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"f8c62sYjk9CGq/GGRX3gk+N","GameManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("./FoodMgr"),a=t("./GridFoodMgr"),r=function(t){function e(){var e=t.call(this)||this;return i.default.instance(),e.init(),e}return __extends(e,t),e.prototype.init=function(){a.default.instance().init()},e.prototype.getGridItemModelList=function(){return i.default.instance().getGridItemModelList()},e.prototype.addNewFood=function(t){return a.default.instance().addNewFood(t)},e.prototype.getNextModel=function(t){return a.default.instance().getNextModel(t)},e.prototype.addToStorage=function(t){return a.default.instance().addToStorage(t)},e}(n.BaseModel);o.default=r,cc._RF.pop()},{"../../../cfw/model":"model","./FoodMgr":"FoodMgr","./GridFoodMgr":"GridFoodMgr"}],GameMap:[function(t,e,o){"use strict";cc._RF.push(e,"89f3cchdxVLVbYT2or1+NYk","GameMap"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.mapWidth=0,this.mapHeight=0,this.mapDepth=0,this.rangeWidth=0,this.rangeHeight=0,this.rangeDepth=0,this.rangeX=0,this.rangeY=0,this.rangeZ=0,this.top=0,this.right=0,this.anchorX=0,this.anchorY=0}return t.prototype.setAnchor=function(t,e){this.anchorX=t,this.anchorY=e},t.prototype.getAnchorX=function(){return this.anchorX},t.prototype.getAnchorY=function(){return this.anchorY},t.prototype.init=function(t,e,o){void 0===o&&(o=0),console.log(" GameMap w ",t," h ",e," r ",o),this.mapWidth==t&&this.mapHeight==e&&this.mapDepth==o||(this.mapWidth=t,this.mapHeight=e,this.setMapDepth(o),this.setRangeWidth(this.mapWidth),this.setRangeHeight(this.mapHeight),this.setRangeDepth(this.mapDepth))},t.prototype.setMapWidth=function(t){this.mapWidth=t},t.prototype.setMapDepth=function(t){this.mapDepth=t,this.updateTop()},t.prototype.isInMap=function(t,e){return t>=0&&t<=this.getRangeWidth()&&e>=0&&e<=this.getRangeHeight()},t.prototype.getMapWidth=function(){return this.mapWidth},t.prototype.getMapHeight=function(){return this.mapHeight},t.prototype.getMapDepth=function(){return this.mapDepth},t.prototype.getTop=function(){return this.top},t.prototype.getRight=function(){return this.right},t.prototype.setRangeX=function(t){this.rangeX=t,this.updateRight()},t.prototype.getRangeX=function(){return this.rangeX},t.prototype.setRangeY=function(t){this.rangeY=t},t.prototype.getRangeY=function(){return this.rangeY},t.prototype.setRangeZ=function(t){this.rangeZ=t,this.updateTop()},t.prototype.updateTop=function(){this.top=this.rangeZ+this.mapDepth},t.prototype.updateRight=function(){this.right=this.rangeX+this.getRangeWidth()},t.prototype.getRangeZ=function(){return this.rangeZ},t.prototype.setRangeWidth=function(t){this.rangeWidth=t,this.updateRight()},t.prototype.getRangeRight=function(t){return this.rangeX+this.getRangeWidth()-t},t.prototype.setRangeDepth=function(t){this.rangeDepth=t},t.prototype.getRangeDepth=function(){return this.rangeDepth},t.prototype.getRangeTop=function(t){return this.rangeY+this.getRangeHeight()-t},t.prototype.getRangeWidth=function(){return this.rangeWidth},t.prototype.setRangeHeight=function(t){this.rangeHeight=t},t.prototype.getRangeHeight=function(){return this.rangeHeight},t}();o.default=n,cc._RF.pop()},{}],GamePortalAd:[function(t,e,o){"use strict";cc._RF.push(e,"82f85wPUGJC9LjZMAMjRHyp","GamePortalAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(t){this.callback=t,this.create(),this.load()},e.prototype.create=function(){this.gamePortalAd||(this.gamePortalAd=this.sdk.createGamePortalAd({adUnitId:this.adUnitID}),this.gamePortalAd.onLoad(this.onLoad.bind(this)),this.gamePortalAd.onClose(this.onClose.bind(this)),this.gamePortalAd.onError(this.onError.bind(this)))},e.prototype.load=function(){var t=this;this.gamePortalAd.load().then(function(){}).catch(function(){t.channel.showToast("\u52a0\u8f7d\u8fc7\u4e8e\u9891\u7e41")})},e.prototype.show=function(){this.gamePortalAd.show().then(function(){this.callback&&this.callback(i.SDKState.loadSucess)}).catch(function(t){console.log("show fail with:"+t.errCode+","+t.errMsg)})},e.prototype.onError=function(){this.callback&&this.callback(i.SDKState.loadFail)},e.prototype.onLoad=function(){this.show()},e.prototype.onClose=function(){this.callback&&this.callback(i.SDKState.close)},e.prototype.destroy=function(){this.gamePortalAd&&(this.gamePortalAd.destroy().then(function(){}).catch(function(t){console.log("destroy fail with:"+t.errCode+","+t.errMsg)}),this.gamePortalAd=null)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],GameText:[function(t,e,o){"use strict";cc._RF.push(e,"51bd9xSBbpCnrBuPkJAviIj","GameText"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameText=void 0,o.GameText={zh:{RES_LOAD_ERROR:"\u67d0\u4e9b\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\uff01\u662f\u5426\u91cd\u65b0\u52a0\u8f7d\uff1f",BUY_GOLD:"\u662f\u5426\u89c2\u770b\u5e7f\u544a\u83b7\u5f97%{num}\u91d1\u5e01\uff1f",ATTACK:"\u653b\u51fb",CD:"CD",SPEED:"\u901f\u5ea6",UPGRADE:"\u5347\u7ea7",UN_LOCK:"\u89e3\u9501",CONFORM:"\u786e\u5b9a",START:"\u5f00\u59cb",CHANGE_WEAPON:"\u6362\u6b66\u5668",USE:"\u4f7f\u7528\u4e2d",UN_USE:"\u672a\u4f7f\u7528",UNLOCK:"\u672a\u89e3\u9501",YOU:"\u4f60",NAMES:["\u6c5f\u5143","\u5b8b\u4f73","\u8521\u5efa","\u8463\u5efa","\u9648\u658c","\u674e\u6797","\u5218\u658c","\u8d75\u658c\u534e","\u9648\u4f1f\u5f3a","\u674e\u82b3","\u5218\u6842\u6797","\u8d75\u658c","\u9648\u6587\u6b66","\u674e\u8d75\u8fde","\u5218\u5929\u9f50","\u8d75\u62ec","\u738b\u987a"],FUHUO:"\u662f\u5426\u539f\u5730\u6ee1\u8840\u590d\u6d3b\uff1f",JIESUO:"\u662f\u5426\u89c2\u770b\u89c6\u9891\u89e3\u9501\u795e\u9f99?",BACK_LOBBY:"\u662f\u5426\u8fd4\u56de\u5927\u5385?",LEVEL_TITLE:["\u672a\u89e3\u9501","\u5df2\u5b8c\u6210","\u5df2\u89e3\u9501"],BALK_LOBBY:"\u8fd4\u56de\u5927\u5385",NEXT_BATTLE:"\u4e0b\u4e00\u5173",RESTART:"\u91cd\u65b0\u5f00\u59cb",YOU_WIN:"\u80dc\u5229",YOU_FAIL:"\u5931\u8d25",WIN_TITLE:"\u4efb\u52a1\u7ed3\u675f",FAIL_TITLE:"\u4efb\u52a1\u5931\u8d25",RESUME:"\u56de\u5230\u6e38\u620f",PAUSE_TITLE:"\u6e38\u620f\u6682\u505c",GAME_PAUSE:"\u6e38\u620f\u6682\u505c\u4e2d",NOT_GOLD_ENOUGH:"\u6ca1\u6709\u8db3\u591f\u7684\u91d1\u94b1!",BUY_ARROW:"\u89c2\u770b\u89c6\u9891\u5e7f\u544a\uff0c\u83b7\u5f97%{num}\u4e2a\u5f13\u7bad",NOT_PASS:"\u672a\u80fd\u8e0f\u5165\u5a5a\u59fb",PASS:"\u5171\u540c\u5ea6\u8fc7",MEDDY_TEST:["\u672a\u80fd\u7275\u624b\u6210\u529f","\u5171\u540c\u5ea6\u8fc7\u6c34\u6676\u5a5a","\u5171\u540c\u5ea6\u8fc7\u73cd\u73e0\u5a5a","\u5171\u540c\u5ea6\u8fc7\u73ca\u745a\u5a5a","\u5171\u540c\u5ea6\u8fc7\u7fe1\u7fe0\u5a5a"],CLOTHE_NAME:["\u88c5\u9970","\u53d1\u578b","\u88e4\u5b50","\u4e0a\u8863","\u978b\u5b50"],ATTR_NAME:["\u8d22\u529b","\u6c14\u8d28","\u4f53\u529b","\u667a\u529b"],RIGHT:"\u5c0f\u54e5\u54e5\u975e\u5e38\u6ee1\u610f\u4f60\u7684\u56de\u7b54",WRONG:"\u5c0f\u54e5\u54e5\u4e0d\u6ee1\u610f\u4f60\u7684\u56de\u7b54",NOT_HIT:"\u5f88\u9057\u61be\uff0c\u672a\u4e2d\u5956",LEVEL_AT:"\u8fbe\u5230%{num}\u7ea7",REFRESH:"\u51b7\u5374\u4e2d..."}},cc._RF.pop()},{}],GameTipMgr:[function(t,e,o){"use strict";cc._RF.push(e,"38d05Rdlq1CDpZwUsmHI7a9","GameTipMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./GameTipModel"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipID=0,e.gameTipModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.start=function(t){this.tipID=t,this.emit(e.STAT_TIP,t)},e.prototype.getTipID=function(){return this.tipID},e.prototype.initData=function(){this.gameTipModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default)},e.prototype.getGameTipModel=function(t){return this.gameTipModelMgr.getByID(t)},e.prototype.getGameTipModelList=function(){return this.gameTipModelMgr.getList()},e.SHOW_TIP="show_game_tip",e.STAT_TIP="start_game_tip",e.NEXT_TIP="next_game_tip",e}(t("../../gevent/operate/OperateObserver").default);o.default=r,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","../../gevent/operate/OperateObserver":"OperateObserver","./GameTipModel":"GameTipModel"}],GameTipModel:[function(t,e,o){"use strict";cc._RF.push(e,"33555MBEeNPw5OyISY7zSR5","GameTipModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameTipModelEnum=void 0;var n,i=t("../../../cfw/cfw");(function(t){t[t.content=0]="content",t[t.isSkip=1]="isSkip",t[t.x=2]="x",t[t.y=3]="y"})(n=o.GameTipModelEnum||(o.GameTipModelEnum={}));var a=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getContent=function(){return this.getValue(n.content)},e.prototype.getIsSkip=function(){return this.getValue(n.isSkip)},e.prototype.getX=function(){return this.getValue(n.x)},e.prototype.getY=function(){return this.getValue(n.y)},e.CLASS_NAME="GameTipModel",e}(i.DataModel);o.default=a,cc._RF.pop()},{"../../../cfw/cfw":"cfw"}],GameTipView:[function(t,e,o){"use strict";cc._RF.push(e,"1d38fRJfgdCo5AUVS1gGybs","GameTipView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../model/GameTipMgr"),a=t("../model/CloseGameTip"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipNode=null,e.tipContent=null,e.count=0,e}return __extends(e,t),e.prototype.start=function(){this.node._hitTest=this.hitTest.bind(this),i.default.instance().on(i.default.STAT_TIP,this.startTip,this),a.default.instance().on(a.default.CLOSE_TIP,this.closeTip,this),this.init(),this.startTip(i.default.instance().getTipID())},e.prototype.hitTest=function(){return console.log(" hitTest ==============   "),this.touchStart(),!1},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),i.default.instance().off(i.default.STAT_TIP,this.startTip,this),a.default.instance().off(a.default.CLOSE_TIP,this.closeTip,this)},e.prototype.startTip=function(t){console.log("startTip id ",t);var e=i.default.instance().getGameTipModel(t);e&&(this.count,this.showTip(e))},e.prototype.showTip=function(t){this.tipContent.string=t.getContent();var e=cc.view.getVisibleSize(),o=cc.v2(t.getX()*e.width,t.getY()*e.height);this.tipNode.setPosition(o),this.tipNode.active=!0,console.log(" item.getIsSkip() ",t.getIsSkip()),0==t.getIsSkip()?this.setTouchEnable(!0):(this.setTouchEnable(!1),i.default.instance().finish())},e.prototype.closeTip=function(){this.init(),a.default.instance().finish()},e.prototype.init=function(){this.tipNode.active=!1,this.setTouchEnable(!1)},e.prototype.touchStart=function(){this.init(),console.log(" touchStart "),i.default.instance().finish()},e.prototype.setTouchEnable=function(t){t?this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this):this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this)},__decorate([c(cc.Node)],e.prototype,"tipNode",void 0),__decorate([c(cc.Label)],e.prototype,"tipContent",void 0),__decorate([s],e)}(n.BaseView);o.default=l,cc._RF.pop()},{"../../../cfw/view":"view","../model/CloseGameTip":"CloseGameTip","../model/GameTipMgr":"GameTipMgr"}],GameView:[function(t,e,o){"use strict";cc._RF.push(e,"6b9e45Ewv1Ka6sY5NKdkIZ4","GameView"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameView=void 0;var n=t("./FoodItemView"),i=t("./GridItemView"),a=t("../../../cfw/event"),r=t("../../../cfw/model"),s=t("../../../cfw/time"),c=t("../../../cfw/tools/Utils"),l=t("../../../cocos/ccpool"),u=t("../../../cocos/comp/ScaleForever"),d=t("../../../config/Config"),p=t("../../../extention/guide/GuideEventLogic"),h=t("../../../extention/guide/GuideMgr"),f=t("../../../sdk/channel-ts/CMgr"),g=t("../../buy/view/BuyView"),y=t("../../public/bag/BagManager"),m=t("../../public/tip/TipC"),v=t("../../sound/model/SoundMgr"),_=t("../../specialtask/model/SpecialtaskMgr"),S=t("../../start/Combat/CombatC"),I=cc._decorator,M=I.ccclass,w=I.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemView=null,e.itemPrefab=null,e.gridView=null,e.frameNode=null,e.buyView=null,e.foodPrefab=null,e.finger=null,e.temp=new cc.Vec3,e.out=new cc.Vec3,e.pos=new cc.Vec2,e.touchIndex=-1,e.touchID=-1,e.gridList=[],e.selectIndex=-1,e.timeoutID=0,e.shakeList=null,e.isLoadFinish=!0,e.frameLoader=new s.SplitFrameLoader(e.splitFrameInit.bind(e),d.FRAME_DURATION,1),e.isMove=!1,e.isDoubleClick=!1,e.ptTimeObserver=new s.SheduleTimer(function(){e.isDoubleClick=!1},.7),e}return __extends(e,t),e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this),this.controller.setLoading(!1),this.controller.addBottom(this.node,this.model,function(t){e.bottom=t,e.bottom.gameView=e}),s.TimeManager.instance().add(this.frameLoader),this.finger.addComponent(u.default),this.finger.active=!1,a.GEvent.instance().emit(d.EventName.VIEW_SHOW,!0,this.getName()),this.buyView=this.node.getComponent(g.default),this.controller.init(),cc.game.on(cc.game.EVENT_SHOW,this.eventShow,this),f.default.helper.intoGame()},e.prototype.eventShow=function(){console.log("GameView  EventShow "),this.model.init();for(var t=0;t<this.gridList.length;t++)this.gridList[t].updateFoodState();var e=this.getCurGrid();e&&this.setFoodInfo(e)},e.prototype.start=function(){this.select(!1),this.findMatch(),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.gEventProxy.on(d.EventName.DELETE_BUY_ITEM,this.deleteItem,this),this.gEventProxy.on(d.EventName.DELETE_STORAGE_ITEM,this.addFoodByStorage,this),this.gEventProxy.on(d.EventName.DELETE_GRID_FOOD,this.deleteGridFood,this),this.gEventProxy.on(d.EventName.UNLOCKPLOT,this.recover,this)},e.prototype.deleteGridFoodByFoodID=function(t){for(var e=this.gridList,o=0;o<e.length;o++){var n=e[o],i=n.getFood();i&&i.getFType()==t&&(i.removeSelf(),n.removeFood(!0))}},e.prototype.deleteGridFood=function(t){var e=this.gridList[t];if(e){var o=e.getFood();o&&(o.removeSelf(),e.removeFood(!0)),this.setFramePos(e)}},e.prototype.deleteItem=function(t){this.buyView&&this.buyView.remove(t),this.buyFood(t)},e.prototype.getGridList=function(){return this.gridList},e.prototype.hasFood=function(t){for(var e=this.gridList,o=0;o<e.length;o++){var n=e[o].getFood();if(n&&n.getFoodID()==t)return!0}return!1},e.prototype.touchStart=function(t){if(!(this.touchID>=0)&&this.isLoadFinish){this.touchID=t.getID();var e=t.getLocation();this.pos.x=e.x,this.pos.y=e.y,this.temp.x=e.x,this.temp.y=e.y,this.gridView.convertToNodeSpaceAR(this.temp,this.out);var o=this.getTouchIndex(this.out.x,-this.out.y);if(this.touchIndex=o,o>=0&&this.gridList[o]){var n=this.gridList[o];if(n.hasFood()){if(n.isOpen()){var i=n.getFood();this.setFoodPos(i,n)}this.select(!1),this.stopMatch(),this.stopFoodShake()}}}},e.prototype.stopFoodShake=function(){if(this.shakeList&&this.shakeList.length>0){for(var t=0;t<this.shakeList.length;t++)this.shakeList[t].stopShake();this.shakeList=null}else this.finger.active&&(this.finger.active=!1),this.bottom&&this.bottom.stopBoxAnim()},e.prototype.setFoodPos=function(t,e){if(t.node){t.node.parent=this.itemView;var o=e.getPos();t.node.x=o.x,t.node.y=o.y}},e.prototype.getTouchIndex=function(t,e){var o=this.gridList[0];if(!o)return-1;var n=o.node.width,i=Math.floor(t/n),a=Math.floor(e/n);return t<0||e<0?-1:i>=7?-1:a>=9?-1:i+7*a},e.prototype.touchMove=function(t){if(this.isLoadFinish&&this.touchID==t.getID()){var e=this.gridList[this.touchIndex];if(!e)return;if(e.isOpen()&&e.hasFood()){var o=t.getLocation();if(this.isMove||(Math.abs(o.x-this.pos.x)>50||Math.abs(o.y-this.pos.y)>50)&&(this.isMove=!0),!this.isMove)return;this.temp.x=o.x,this.temp.y=o.y,this.gridView.convertToNodeSpaceAR(this.temp,this.out);var n=e.getFood();n.node.x=this.out.x,n.node.y=this.out.y}}},e.prototype.select=function(t){this.frameNode.opacity=t?255:0},e.prototype.setFramePos=function(t){var e=t.getPos();if(this.frameNode.x=e.x,this.frameNode.y=e.y,this.selectIndex!=t.getID()){var o=this.gridList[this.selectIndex];o&&(o.isSelect=!1),this.selectIndex=t.getID()}this.setFoodInfo(t)},e.prototype.updateFoodInfo=function(t){var e=this.gridList[t];e&&this.setFoodInfo(e)},e.prototype.getCurGrid=function(){return this.gridList[this.selectIndex]},e.prototype.getGridByFoodID=function(t){for(var e=0;e<this.gridList.length;e++){var o=this.gridList[e],n=o.getFood();if(n&&t==n.getFoodID())return o}return null},e.prototype.setFoodInfo=function(t){this.bottom&&this.bottom.setFoodInfo(t)},e.prototype.hasOtherFood=function(t){for(var e=t.getFType(),o=0;o<this.gridList.length;o++){var n=this.gridList[o].getFood();if(n&&n!=t&&e==n.getFType()&&t.getLevel()<=n.getLevel())return!0}return!1},e.prototype.updateGridAndBuyState=function(){this.buyView&&this.buyView.updateBuyItemList()},e.prototype.exchangeFood=function(t,e){var o=t.getFood(),n=e.getFood();t.setFood(n),e.setFood(o)},e.prototype.touchEnd=function(t){if(t&&this.isLoadFinish){if(this.touchID==t.getID()){if(this.touchID=-1,this.touchIndex<0)return;var e=this.gridList[this.touchIndex];if(!e)return;this.isMove=!1;var o=e.getFood();if(!o)return;var n=t.getLocation();if(this.findMatch(),e.isOpen())if(Math.abs(n.x-this.pos.x)>50||Math.abs(n.y-this.pos.y)>50){this.temp.x=n.x,this.temp.y=n.y,this.gridView.convertToNodeSpaceAR(this.temp,this.out);var i=this.getTouchIndex(this.out.x,-this.out.y);if(i>=0){var s=this.gridList[i];if(s)if(s.isOpen())if(c=s.getFood())if(c==o)e.setFood(o),this.setFramePos(e);else if(c.getFoodID()==o.getFoodID())if(c.isTimeFraze()||o.isTimeFraze())this.exchangeFood(s,e),this.setFramePos(s);else{if(l=this.model.getNextModel(o.getModel()))return o.removeSelf(),c.removeSelf(),c.setModel(l),c.content(),c.popAnim(),c.updateFoodState(),s.setFood(c),e.removeFood(),this.setOtherCanOpen(s),this.setFramePos(s),this.updateGridAndBuyState(),this.addSplitFood(s,c),h.default.instance().notify("GameView_touchEnd"),v.default.instance().playSound(d.SoundID.sfx_collectItem),a.GEvent.instance().emit(d.EventName.MERGE_NEW_FOOD,c.getFoodID()),!0;e.setFood(o),this.setFramePos(e)}else this.exchangeFood(s,e),this.setFramePos(s);else this.exchangeFood(s,e),this.setFramePos(s);else if(s.isCanOpen()){var c,l;(c=s.getFood())&&c.getFoodID()==o.getFoodID()?o.isTimeFraze()?(e.setFood(o),this.setFramePos(e)):(l=this.model.getNextModel(o.getModel()))?(o.removeSelf(),c.removeSelf(),c.setModel(l),c.content(),c.popAnim(),c.updateFoodState(),s.setFood(c),s.setOpen(),this.setOtherCanOpen(s),e.removeFood(),this.setFramePos(s),this.updateGridAndBuyState(),h.default.instance().notify("GameView_touchEnd2"),v.default.instance().playSound(d.SoundID.sfx_collectItem),a.GEvent.instance().emit(d.EventName.MERGE_NEW_FOOD,c.getFoodID())):(e.setFood(o),this.setFramePos(e)):(e.setFood(o),this.setFramePos(e))}else e.setFood(o),this.setFramePos(e);else e.setFood(o),this.setFramePos(e)}else this.bottom&&this.bottom.collideWithBox(o)?this.addToStorage(e):(e.setFood(o),this.setFramePos(e))}else e.getState()!=r.ItemState.NOT_GET&&(e.setFood(o),o&&(e.isSelect?this.clickGrid(e):(e.isSelect=!0,h.default.instance().notify("clickFood")),this.setFramePos(e)));else e.setFood(o),Math.abs(n.x-this.pos.x)<=50&&Math.abs(n.y-this.pos.y)<=50&&e.getState()==r.ItemState.CAN_GET&&this.setFramePos(e);this.touchIndex=-1}return!1}},e.prototype.getCanOpenGridByFood=function(t){var e=t.getFood();if(!e)return-1;if(!e.isCostEnergy())return-1;for(var o=this.gridList,n=0;n<o.length;n++){var i=o[n];if(t!=i&&i.isNotOpen()){var a=i.getFood();if(a&&a.getFoodID()==e.getFoodID())return i.getID()}}return-1},e.prototype.setOtherCanOpen=function(t){var e=parseInt(t.getID()),o=[],n=Math.floor(e/7),i=e%7,a=e-1,r=e+1,s=e-7,c=e+7;Math.floor(a/7)==n&&o.push(a),Math.floor(r/7)==n&&o.push(r),s%7==i&&o.push(s),c%7==i&&o.push(c);var l=this.getCanOpenGridByFood(t);l>=0&&o.push(l);for(var u=0;u<o.length;u++){var d=o[u];if(d>=0&&d<=63){var p=this.gridList[d];p&&p.setCanOpen()}}},e.prototype.clickGrid=function(t){var e=t.getFood();this.isDoubleClick?(2==e.getModel().getFType()?(e.getModel().removeSelf(),t.removeFood(!0),S.default.instance().combatNumberDoDelta(S.default.combatList[e.getModel().getLevel()-1]),console.log("\u6b66\u5668")):3==e.getModel().getFType()&&(e.getModel().removeSelf(),t.removeFood(!0),S.default.instance().hpDoDelta(S.default.hpList[e.getModel().getLevel()-1]),console.log("\u836f\u7269")),this.isDoubleClick=!1):(this.isDoubleClick=!0,s.TimeManager.instance().add(this.ptTimeObserver))},e.prototype.stopMatch=function(){this.timeoutID>0&&(clearTimeout(this.timeoutID),this.timeoutID=0)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),cc.game.off(cc.game.EVENT_SHOW,this.eventShow,this),a.GEvent.instance().emit(d.EventName.VIEW_SHOW,!1,this.getName()),this.stopMatch(),s.TimeManager.instance().remove(this.frameLoader),f.default.helper.leaveGame()},e.prototype.findMatch=function(){var t=this;this.timeoutID=setTimeout(function(){var e=t.getMatchFood();if(e&&e.length>=2){for(var o=0;o<e.length;o++)e[o].startShake();t.shakeList=e}else if(t.getUnUseGrid()){var n=t.getClickFood();if(n.length>0){var i=c.default.random(0,n.length);console.log("findMath r ",i,n.length);var a=n[i];t.finger.active=!0;var r=a.getPos();t.finger.x=r.x+30,t.finger.y=r.y-30}}else t.bottom&&t.bottom.startBoxAnim()},3e3)},e.prototype.getClickFood=function(){for(var t=[],e=0;e<this.gridList.length;e++){var o=this.gridList[e];if(o.getState()==r.ItemState.GOT){var n=o.getFood();n&&n.canOutput()&&!n.isTimeFraze()&&(n.getOutType()==d.FoodOutType.OUT_COST_ITEM?n.isMaxLevel()&&t.push(o):t.push(o))}}return t},e.prototype.getMatchFood=function(){for(var t={},e=0;e<this.gridList.length;e++){var o=this.gridList[e];if(!o.isNotOpen()){var n=o.getFood();if(n&&n.hasNext()&&n.getState()!=r.ItemState.CAN_GET&&!n.hasFull()){var i=n.getFoodID();if(t[i]||(t[i]=[]),0==t[i].length)t[i].push(o);else if(1==t[i].length){if(!t[i][0].isCanOpen())return t[i].push(o),t[i];if(o.isOpen())return t[i].push(o),t[i]}}}}return null},e.prototype.addFoodByStorage=function(t,e){var o=this.getUnUseGrid();if(o){var n=this.getFood(t);o.setFood(n),this.updateGridAndBuyState(),e(!0)}else e(!1),m.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1")},e.prototype.addFoodByGift=function(t,e){var o=this.getUnUseGrid();if(o){var n=this.gridView.convertToNodeSpaceAR(e);return t.updateFoodState(),this.addFood(o,t,n),a.GEvent.instance().emit(d.EventName.ADD_FOOD_BY_GITF),!0}return m.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1"),!1},e.prototype.addRecoverFood=function(t,e){var o=e.getModel();if(o){var n=this.getFood(o);t.setFood(n,!0),this.updateGridAndBuyState()}},e.prototype.addFood=function(t,e,o){var n=this;if(null!=t){e.node.parent=this.itemView,t.setFood(e,!1),e.node.x=o.x,e.node.y=o.y;var i=t.getPos();return cc.tween(e.node).to(.2,{x:i.x,y:i.y}).call(function(){t.addFood(e),n.updateGridAndBuyState()}).start(),!0}return!1},e.prototype.getFoodModel=function(t){var e=t.getOutput(),o=t.getOutCount();if(o>0){var n=t.getOutType(),i=0;switch(parseInt(n)){case d.FoodOutType.NO_OUT:var a=t.getFoodID();return this.model.addNewFood(a);case d.FoodOutType.OUT_RANDOM_AND_CD:if(e&&e.length>0){var r=c.default.getRandomValueByList(e);return this.model.addNewFood(r)}break;case d.FoodOutType.OUT_ITEM_WITH_OPEN_CD:if((i=e.length-o)>=0&&i<=e.length-1){var s=e[i];return this.model.addNewFood(s)}break;case d.FoodOutType.OUT_RANDOM_COUNT_DESTROY:if(e&&e.length>0){var l=c.default.getRandomValueByList(e);return this.model.addNewFood(l)}break;case d.FoodOutType.OUT_ITEM_DESTORY:if((i=e.length-o)>=0&&i<=e.length-1){var u=e[i];return this.model.addNewFood(u)}}}return null},e.prototype.addSplitFood=function(t,e){var o=this.getUnUseGrid();if(o){var n=e.getSplitRandom();if(n>0&&c.default.random(0,100)<=n){var i=this.model.addNewFood(e.getFoodID());if(i){var a=this.getFood(i);a.setTime(),a.setState(r.ItemState.CAN_GET),a.updateState(),this.addFood(o,a,t.getPos())}}}else m.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1")},e.prototype.addFoodByGrid=function(t){var e=t.getFood(),o=e.getOutCount();if(o>0){var n=-1,i=null,s=null,c=e.getOutType();switch(parseInt(c)){case d.FoodOutType.NO_OUT:break;case d.FoodOutType.OUT_RANDOM_AND_CD:e.click(),n=this.getUnUseGridID(parseInt(t.getID()),{}),(i=this.gridList[n])?(s=this.getFoodModel(e))&&((l=this.getFood(s)).setState(r.ItemState.GOT),this.addFood(i,l,t.getPos()),e.setOutCount(o-1),e.getOutCount()<=0&&(e.setState(r.ItemState.CAN_GET),e.setTime(),e.updateState(),a.GEvent.instance().emit(d.EventName.FOOD_FRAZE,e.getFoodID())),h.default.instance().notify("GameView_addFoodByGrid")):m.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1");break;case d.FoodOutType.OUT_ITEM_WITH_OPEN_CD:switch(e.click(),e.getState()){case r.ItemState.NOT_GET:e.setState(r.ItemState.CAN_GET),e.setTime(),e.updateState(),h.default.instance().notify("startCDTime");break;case r.ItemState.CAN_GET:m.default.instance().showToastByLang("REFRESH");break;case r.ItemState.GOT:n=this.getUnUseGridID(parseInt(t.getID()),{}),(i=this.gridList[n])?(s=this.getFoodModel(e))&&((l=this.getFood(s)).updateFoodState(),this.addFood(i,l,t.getPos()),e.setOutCount(o-1),e.getOutCount()<=0&&(e.removeSelf(),t.removeFood(),this.setFramePos(t))):m.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1")}break;case d.FoodOutType.OUT_RANDOM_COUNT_DESTROY:e.click(),n=this.getUnUseGridID(parseInt(t.getID()),{}),(i=this.gridList[n])?e.getState()!=r.ItemState.CAN_GET&&(s=this.getFoodModel(e))&&((l=this.getFood(s)).updateFoodState(),this.addFood(i,l,t.getPos()),e.setOutCount(o-1),e.getOutCount()<=0&&(e.removeSelf(),t.removeFood(),this.setFramePos(t))):m.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1");break;case d.FoodOutType.OUT_ITEM_DESTORY:var l;e.click(),n=this.getUnUseGridID(parseInt(t.getID()),{}),(i=this.gridList[n])?(s=this.getFoodModel(e))&&((l=this.getFood(s)).updateFoodState(),this.addFood(i,l,t.getPos()),e.setOutCount(o-1),e.getOutCount()<=0&&(e.removeSelf(),t.removeFood(),this.setFramePos(t))):m.default.instance().showToast("\u683c\u5b50\u5df2\u6ee1");break;case d.FoodOutType.CHOICE_ITEM:this.controller.showSelectFoodView(e.getModel(),t.getID());break;case d.FoodOutType.OUT_COST_ITEM:var u=e.getOutput(),p=e.node.convertToWorldSpaceAR(e.node.getPosition());y.default.instance().updateItemNum(u[0],u[1],p,e.icon),u[0]==d.ItemID.GOLD&&_.default.instance().addGold(u[1]),e.removeSelf(),t.removeFood(),this.setFramePos(t)}return!0}return e.canOutput()&&m.default.instance().showToastByLang("REFRESH"),!1},e.prototype.getUnUseGridID=function(t,e){e[t]=1;var o=[],n=Math.floor(t/7),i=t%7,a=t-1,s=t+1,c=t-7,l=t+7;Math.floor(a/7)==n&&o.push(a),Math.floor(s/7)==n&&o.push(s),c%7==i&&o.push(c),l%7==i&&o.push(l);for(var u=0;u<o.length;u++)if((p=o[u])>=0&&p<=63){var d=this.gridList[p];if(d&&d.getState()==r.ItemState.GOT&&!d.hasFood())return d.getID()}if(o.length>0)for(u=0;u<o.length;u++){var p;if((p=o[u])>=0&&p<=63&&!e[p]){var h=this.getUnUseGridID(parseInt(p),e);if(h>=0)return h}}return-1},e.prototype.getUnUseGrid=function(){for(var t=0;t<this.gridList.length;t++){var e=this.gridList[t];if(e.isOpen()&&!e.hasFood())return e}return null},e.prototype.touchCancel=function(t){this.touchEnd(t)},e.prototype.getFood=function(t){var e=this,o=l.CCPoolManager.instance().get("FoodItemView",function(){return cc.instantiate(e.foodPrefab)});if(o){var i=o.getComponent(n.default);if(i)return i.setModel(t),i.content(),i}return null},e.prototype.splitFrameInit=function(t){var e=this.model.getGridItemModelList();if(console.log("\u7f51\u683c\u5217\u8868\u957f\u5ea6:",e.length),e.length<=0||t<0||t>=e.length)return s.TimeManager.instance().remove(this.frameLoader),this.updateGridAndBuyState(),void(this.isLoadFinish=!0);var o=e[t],n=cc.instantiate(this.itemPrefab),a=n.getComponent(i.GridItemView);a.setModel(o);var r=o.getFood();if(r){var c=this.getFood(r);a.setFood(c)}this.gridView.addChild(n),a.content();var l=n.width/2+n.width*(t%7),u=-n.height/2-n.height*Math.floor(t/7);n.setPosition(l,u),this.gridList.push(a)},e.prototype.initGrid=function(){for(var t=this.model.getGridItemModelList(),e=0;e<t.length;e++)this.splitFrameInit(e)},e.prototype.boxBtnClick=function(){},e.prototype.recover=function(){this.buyView&&this.buyView.recover();for(var t=0;t<this.gridList.length;t++)this.gridList[t].recover();this.hide()},e.prototype.buyFood=function(t){for(var e=this,o=t.node.parent.convertToWorldSpaceAR(t.node.getPosition()),n=this.itemView.convertToNodeSpaceAR(o),i=t.getFoods(),a=0,r=0;r<i.length;r++){var s=i[r];this.gridDelete(s.getID(),n,function(){++a>=i.length&&e.foodMoveFinish(t,o)})}},e.prototype.foodMoveFinish=function(t,e){var o=this;v.default.instance().playSound(d.SoundID.sfx_winCashTillClose);var n=t.getRewardItem();t.removeSelf(),y.default.instance().updateItem(n,e),n.getID()==d.ItemID.GOLD&&_.default.instance().addGold(n.getNum(!1)),t.changePersonState(d.PersonState.OUT),cc.tween(this.node).delay(t.getDuration()).call(function(){t.recover(),o.buyView&&o.buyView.addPerson(),o.updateGridAndBuyState()}).start()},e.prototype.getFoodType=function(){for(var t=this.gridList,e=[],o=0;o<t.length;o++){var n=t[o].getFood();if(n&&n.getOutType()==d.FoodOutType.OUT_RANDOM_AND_CD){var i=n.getPrice();if(i&&i.length>0)for(var a=0;a<i.length;a++){var r=i[a];e.push(r)}}}return e},e.prototype.gridDelete=function(t,e,o){for(var n=this.gridList,i=function(i){var s=n[i];if(s.getState()==r.ItemState.GOT){var c=s.getFood();if(c&&c.getState()!=r.ItemState.CAN_GET&&c.getFoodID()==t)return a.setFoodPos(c,s),c.setBgVisible(d.FoodHasState.NONE),s.setFood(null),s.isSelect&&a.setFoodInfo(s),cc.tween(c.node).to(.3,{x:e.x,y:e.y}).call(function(){c.recover(),o()}).start(),"break"}},a=this,s=0;s<n.length&&"break"!==i(s);s++);},e.prototype.addToStorage=function(t){var e=t.getFood();e&&(this.model.addToStorage(e.getModel())?(this.bottom&&this.bottom.openAnim(),t.removeFood(),this.setFoodInfo(t)):(t.setFood(e),this.setFramePos(t)))},__decorate([w({type:cc.Node})],e.prototype,"itemView",void 0),__decorate([w({type:cc.Prefab})],e.prototype,"itemPrefab",void 0),__decorate([w({type:cc.Node})],e.prototype,"gridView",void 0),__decorate([w({type:cc.Node})],e.prototype,"frameNode",void 0),__decorate([w({type:cc.Prefab})],e.prototype,"foodPrefab",void 0),__decorate([w(cc.Node)],e.prototype,"finger",void 0),__decorate([w()],e.prototype,"temp",void 0),__decorate([M],e)}(p.default);o.GameView=C,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/model":"model","../../../cfw/time":"time","../../../cfw/tools/Utils":"Utils","../../../cocos/ccpool":"ccpool","../../../cocos/comp/ScaleForever":"ScaleForever","../../../config/Config":"Config","../../../extention/guide/GuideEventLogic":"GuideEventLogic","../../../extention/guide/GuideMgr":"GuideMgr","../../../sdk/channel-ts/CMgr":"CMgr","../../buy/view/BuyView":"BuyView","../../public/bag/BagManager":"BagManager","../../public/tip/TipC":"TipC","../../sound/model/SoundMgr":"SoundMgr","../../specialtask/model/SpecialtaskMgr":"SpecialtaskMgr","../../start/Combat/CombatC":"CombatC","./FoodItemView":"FoodItemView","./GridItemView":"GridItemView"}],GeventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"d21bdOjrXVHrrUiuVw21I7M","GeventMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./EventCheckItemModel"),i=t("./EventItemModel"),a=t("../../../cfw/model"),r=t("../../../cfw/module"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventCheckItemModelMgr=new a.ModelManager,e.eventItemModelMgr=new a.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.eventCheckItemModelMgr.initWithData(r.ModuleManager.dataManager.get(n.default.CLASS_NAME),n.default),this.eventItemModelMgr.initWithData(r.ModuleManager.dataManager.get(i.default.CLASS_NAME),i.default)},e.prototype.getEventCheckItemModel=function(t){return this.eventCheckItemModelMgr.getByID(t)},e.prototype.getEventCheckItemModelList=function(){return this.eventCheckItemModelMgr.getList()},e.prototype.getEventItemModel=function(t){return this.eventItemModelMgr.getByID(t)},e.prototype.getNewEventItemModel=function(t){return this.eventItemModelMgr.getNewModel(t,i.default)},e.prototype.getEventItemModelList=function(){return this.eventItemModelMgr.getList()},e.prototype.getCheckIndex=function(t){return this.eventCheckItemModelMgr.getIndexData(n.EventCheckItemModelEnum.type,t)},e.prototype.getEventStep=function(t){return this.eventItemModelMgr.getIndexData(i.EventItemModelEnum.eventID,t)},e}(a.BaseModel);o.default=s,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","./EventCheckItemModel":"EventCheckItemModel","./EventItemModel":"EventItemModel"}],GiftBoxC:[function(t,e,o){"use strict";cc._RF.push(e,"14800TMjChBwJDmI5J1qtuI","GiftBoxC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./view/GiftBoxView"),c=t("../../config/Config"),l=t("../public/bag/BagManager"),u=t("../public/tip/TipC"),d=t("../../sdk/channel-ts/CMgr"),p=t("../../cfw/tools/Utils"),h=t("../../config/UmengEventID"),f=t("../../config/TestConfig"),g=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.intoLayer=function(){i.default.pushUIView({path:"giftbox/prefabs/GiftBoxView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.TOP,className:s.default,controller:this,model:null,func:function(){}})},e.prototype.addItem=function(t){p.default.random(0,100)<50?l.default.instance().updateItemNum(c.ItemID.ENERGY,c.VEDIO_ENERGY,t):l.default.instance().updateItemNum(c.ItemID.TOKEN,c.VEDIO_TOKEN,t)},e.prototype.giftClick=function(t){var e=this;d.default.helper.trackEvent(h.default.click_gift),d.default.helper.showRewardAd(0,function(o){f.default.GIFT_BOX?u.default.instance().intoLayer("\u89c2\u770b\u5b8c\u6bd5\u624d\u53ef\u83b7\u5f97\u91d1\u5e01\u5956\u52b1\uff0c\u662f\u5426\u7ee7\u7eed\u89c2\u770b?",function(o){o&&(d.default.helper.trackEvent(h.default.click_gift_2),d.default.helper.showRewardAd(0,function(o){o&&e.addItem(t)}))}):o?e.addItem(t):u.default.instance().intoLayer("\u89c2\u770b\u5b8c\u6bd5\u624d\u53ef\u83b7\u5f97\u91d1\u5e01\u5956\u52b1\uff0c\u662f\u5426\u7ee7\u7eed\u89c2\u770b?",function(o){o&&(d.default.helper.trackEvent(h.default.click_gift_2),d.default.helper.showRewardAd(0,function(o){o&&e.addItem(t)}))})})},e}(n.BaseController);o.default=g,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/Utils":"Utils","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/TestConfig":"TestConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../sdk/channel-ts/CMgr":"CMgr","../public/bag/BagManager":"BagManager","../public/tip/TipC":"TipC","./view/GiftBoxView":"GiftBoxView"}],GiftBoxView:[function(t,e,o){"use strict";cc._RF.push(e,"94b72AihfpAzJbumnHOtesj","GiftBoxView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../sdk/channel-ts/CMgr"),a=t("../../../cfw/tools/Utils"),r=t("../../../extention/gevent/GameEventAdapter"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=t.call(this)||this;return e.giftBox=null,e.time=0,e}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onEnter=function(){this.giftBox.active=!1,i.default.helper.isSwtichOpen()&&this.startShedule()},e.prototype.onButtonClick=function(){if(i.default.helper.isSwtichOpen()&&(this.giftBox.active=!1,this.controller)){var t=this.giftBox.parent.convertToWorldSpaceAR(this.giftBox.getPosition());this.controller.giftClick(t)}},e.prototype.startShedule=function(){var t=this,e=i.default.helper.getzs_video_box();e>0&&cc.tween(this.node).delay(e).call(function(){t.endShedule()}).start()},e.prototype.endShedule=function(){this.loadAd(),this.startShedule()},e.prototype.loadAd=function(){if(!r.default.instance().isOpen()&&!this.giftBox.active){var t=cc.view.getVisibleSize(),e=this.giftBox.width/2,o=t.width-e,n=a.default.random(e,o);this.giftBox.x=n,this.giftBox.y=this.giftBox.height/2,this.giftBox.active=!0}},e.prototype.updateLogic=function(){if(i.default.helper.isSwtichOpen()&&this.giftBox.active){var t=cc.view.getVisibleSize();this.giftBox.y-=1.28,this.giftBox.y<-(t.height+this.giftBox.height/2)&&(this.giftBox.active=!1)}},__decorate([l(cc.Node)],e.prototype,"giftBox",void 0),__decorate([c],e)}(n.BaseView);o.default=u,cc._RF.pop()},{"../../../cfw/tools/Utils":"Utils","../../../cfw/view":"view","../../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../../sdk/channel-ts/CMgr":"CMgr"}],GoogleBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"439ba9YsiNLUr6f3IYOyEXd","GoogleBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.bannerAd||(this.bannerAd=this.sdk.createBannerAd({adUnitId:this.adUnitID,layout:1,width:300,height:100}),this.bannerAd.onLoad(this.onLoad.bind(this)),this.bannerAd.onError(this.onError.bind(this))),this.bannerAd.load()},e}(t("../base/BaseBannerAd").default);o.default=n,cc._RF.pop()},{"../base/BaseBannerAd":"BaseBannerAd"}],GoogleChannel:[function(t,e,o){"use strict";cc._RF.push(e,"4ec74ueYmxLKbgjUrIRMLiM","GoogleChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GoogleRewardAd"),i=t("./GoogleBannerAd"),a=t("./GoogleInsertAd"),r=t("../base/BaseChannel"),s=t("../SDKConfig"),c=t("../native/NativeFileSystem"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this.cfg,e=t[s.ADName.reward];if(e)for(var o=0;o<e.length;o++){var r=e[o];this.rewardAd.push(new n.default(this,r))}if(e=t[s.ADName.banner])for(o=0;o<e.length;o++)r=e[o],this.bannerAd.push(new i.default(this,r));if(e=t[s.ADName.insert])for(o=0;o<e.length;o++)r=e[o],this.insertAd.push(new a.default(this,r));this.fileSystem=new c.default(this)},e.prototype.getLang=function(){return"en"},e}(r.default);o.default=l,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","../native/NativeFileSystem":"NativeFileSystem","./GoogleBannerAd":"GoogleBannerAd","./GoogleInsertAd":"GoogleInsertAd","./GoogleRewardAd":"GoogleRewardAd"}],GoogleInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"7de99wGWb1EyKlX6uclX6DG","GoogleInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.insertAd||(this.insertAd=this.sdk.createInterstitialAd({adUnitId:this.adUnitID}),this.insertAd.onLoad(this.onLoad.bind(this)),this.insertAd.onError(this.onError.bind(this)))},e}(t("../base/BaseInsertAd").default);o.default=n,cc._RF.pop()},{"../base/BaseInsertAd":"BaseInsertAd"}],GoogleRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"11614NGPK9DkJEtvfns9ruK","GoogleRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.rewardAd||(this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)))},e}(t("../base/BaseRewardAd").default);o.default=n,cc._RF.pop()},{"../base/BaseRewardAd":"BaseRewardAd"}],GridFoodItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"8ef5doLuGFPrJsjrD5FJKRg","GridFoodItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/local"),a=t("../../../config/Config"),r=t("./FoodItemModel"),s=t("./FoodMgr"),c=t("../../../cfw/time"),l=function(t){function e(e){var o=t.call(this)||this;return o.setID(e),o.foodInfo=new i.LocalMap("GridFoodItemModel"+e,0),o.getFoodID()>0&&o.setFood(),o.food||(o.setFoodID(a.DEFAUL_GOLG),o.setFood()),o}return __extends(e,t),e.prototype.removeSelf=function(){this.foodInfo.removeSelf()},e.prototype.init=function(){var t=this.getTime();t>0&&c.TimeHelper.leftTime(t)<=0&&this.isTimeFraze()&&(this.setOutCount(this.getCfgOutCount()),this.setState(n.ItemState.GOT),this.getOutType()==a.FoodOutType.NO_OUT&&(this.setFoodID(a.DEFAUL_GOLG),this.setFood()))},e.prototype.isCostEnergy=function(){return this.food.isCostEnergy()},e.prototype.setFood=function(){var t=this.getFoodID();t>0&&(this.food=s.default.instance().getFoodItemModel(t))},e.prototype.updateFoodState=function(){this.food.updateFoodState()},e.prototype.getCfgOutCount=function(){return this.getCfgValue(r.FoodItemModelEnum.outCount)},e.prototype.getOutType=function(){return this.food.getOutType()},e.prototype.getOldTime=function(){return this.getCfgValue(r.FoodItemModelEnum.time)},e.prototype.getNextID=function(){return this.food.getNextID()},e.prototype.getScale=function(){return this.food.getScale()},e.prototype.getName=function(){return this.food.getName()},e.prototype.getSpriteFrame=function(){return this.food.getSpriteFrame()},e.prototype.getIcon=function(){return this.food.getIcon()},e.prototype.getRare=function(){return this.food.getRare()},e.prototype.isInMarket=function(){return this.food.isInMarket()},e.prototype.getFType=function(){return this.food.getFType()},e.prototype.setFoodID=function(t){this.foodInfo.set("foodID",t),t>0&&(this.food=s.default.instance().getFoodItemModel(t),this.food&&(this.setOutCount(this.food.getOutCount()),this.setTime(this.food.getTime())))},e.prototype.getSellPrice=function(){return this.food.getSellPrice()},e.prototype.getSplitRandom=function(){return this.food.getSplitRandom()},e.prototype.resetOutCount=function(){this.setOutCount(this.getCfgValue(r.FoodItemModelEnum.outCount))},e.prototype.getLevel=function(){return this.food.getLevel()},e.prototype.getCfgValue=function(t){return this.food.getCfgValue(t)},e.prototype.getOpenPrice=function(){var t=this.getOldTime(),e=c.TimeHelper.leftTime(this.getTime())/1e3,o=1;return t>0&&(o=e/t),Math.ceil(this.food.getOpenPrice()*o)},e.prototype.getPrice=function(){return this.food.getPrice()},e.prototype.isTimeFraze=function(){return this.getState()==n.ItemState.CAN_GET},e.prototype.canOutput=function(){return this.food.canOutput()},e.prototype.getOutput=function(){return this.food.getOutput()},e.prototype.isMaxLevel=function(){return this.food.isMaxLevel()},e.prototype.getFood=function(){return this.food},e.prototype.getFoodID=function(){return this.foodInfo.getInt("foodID")},e.prototype.getState=function(){return this.foodInfo.getInt("state")},e.prototype.setState=function(t){this.foodInfo.set("state",t)},e.prototype.getTime=function(){return this.foodInfo.get("time")},e.prototype.setTime=function(t){this.foodInfo.set("time",t)},e.prototype.setOutCount=function(t){return this.foodInfo.set("outCount",t)},e.prototype.getOutCount=function(){return this.foodInfo.get("outCount")},e.prototype.getModuleID=function(){return this.food.getModuleID()},e}(n.BaseItemModel);o.default=l,cc._RF.pop()},{"../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/time":"time","../../../config/Config":"Config","./FoodItemModel":"FoodItemModel","./FoodMgr":"FoodMgr"}],GridFoodMgr:[function(t,e,o){"use strict";cc._RF.push(e,"a1029fwPW1Jr4fJpCLwtMRE","GridFoodMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/struct"),a=t("./GridFoodItemModel"),r=t("../../../cfw/tools/Utils"),s=t("../../../cfw/local"),c=t("../../../config/Config"),l=t("../../storage/model/StorageMgr"),u=t("../../../cfw/event"),d=t("../../../extention/redtip/RedTipMgr"),p=t("../../../config/TestConfig"),h=function(t){function e(){var e=t.call(this)||this;e.map=new i.TSMap,e.rewardItems=new s.LocalList("rewardItems",0);for(var o=e.rewardItems.size(),n=0;n<o;n++){var a=e.rewardItems.get(n);if(a){e.addFood(a);var r=e.getFood(a);e.notify(r)}}return p.default.CAT_TEST&&e.addRewardFood(30228),e}return __extends(e,t),e.prototype.getFood=function(t){return this.map.get(t)},e.prototype.init=function(){this.map.forEach(function(t,e){e.init()})},e.prototype.getNextModel=function(t){var e=t.getFood().getNextID();if(e){var o=this.getNewFood(e);if(o)return this.setFood(o.getID(),o),o}return null},e.prototype.getNewFood=function(t){if(t<=0)return null;for(var e=this.getKey();this.map.has(e);)e=this.getKey();var o=new a.default(e);return t>0&&o.setFoodID(t),o},e.prototype.addNewFood=function(t){var e=this.getNewFood(t);return e?(this.setFood(e.getID(),e),e):null},e.prototype.addFood=function(t){var e=new a.default(t);return this.setFood(t,e),e},e.prototype.getKey=function(){return Date.now()+""+r.default.random(0,99999)},e.prototype.setFood=function(t,e){this.map.set(t,e)},e.prototype.deleteFood=function(t){var e=this.map.delete(t);e&&e.removeSelf()},e.prototype.addRewardFood=function(t){var e=this.addNewFood(t);e?(this.rewardItems.push(e.getID()),this.notify(e)):console.warn(" addRewardFood m is null ")},e.prototype.getFoodByFoodID=function(t){for(var e=this.rewardItems.size(),o=0;o<e;o++){var n=this.rewardItems.get(o),i=this.getFood(n);if(i&&i.getFoodID()==t)return i}return null},e.prototype.getHaveFood=function(t){for(var e=this.map.getArray(),o=0;o<e.length;o++)if(t==e[o].getFoodID())return t;return-1},e.prototype.notify=function(t){t&&(d.default.instance().addRedTip(c.RedTipType.HAS_REWARD),u.GEvent.instance().emit(c.EventName.ADD_BUY_PROP,t))},e.prototype.deleteRewardFood=function(t){this.rewardItems.delete(t),this.rewardItems.size()<=0&&d.default.instance().removeRedTip(c.RedTipType.HAS_REWARD)},e.prototype.getRewardList=function(){return this.rewardItems},e.prototype.getRewardSize=function(){return this.rewardItems.size()},e.prototype.getRewardFood=function(){if(this.rewardItems.size()>0){var t=this.rewardItems.get(0);return this.deleteRewardFood(t),t}return null},e.prototype.addToStorage=function(t){return l.default.instance().addToStorage(t)},e}(n.BaseModel);o.default=h,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/struct":"struct","../../../cfw/tools/Utils":"Utils","../../../config/Config":"Config","../../../config/TestConfig":"TestConfig","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../storage/model/StorageMgr":"StorageMgr","./GridFoodItemModel":"GridFoodItemModel"}],GridItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"4a8c6TLRW1Jb43oWXmJ2JnN","GridItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.GridItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../../cfw/local"),r=t("./GridFoodMgr"),s=t("../../../cfw/model");(function(t){t[t.state=0]="state",t[t.foodID=1]="foodID",t[t.outCount=2]="outCount",t[t.time=3]="time"})(n=o.GridItemModelEnum||(o.GridItemModelEnum={}));var c=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.init=function(e,o){if(t.prototype.init.call(this,e,o),this.foodKey=new a.LocalValue("GridItemModel"+e,0),this.foodKey.isHaveData()){var n=this.getFoodKey();0!=n&&r.default.instance().addFood(n)}else{var i=r.default.instance().addNewFood(this.getInitFoodID());i&&this.setFoodKey(i.getID())}},e.prototype.setFoodKey=function(t){this.foodKey.setValue(t)},e.prototype.getFoodKey=function(){return this.foodKey.getValue()},e.prototype.getInitFoodID=function(){var t=this.getValue(n.foodID);return 30026==t||30001==t?t:3e4+Math.ceil(35*Math.random())},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t),this.emit(s.BaseItemModel.UPDATE_STATE)},e.prototype.getFood=function(){var t=this.getFoodKey();return r.default.instance().getFood(t)},e.prototype.getFoodID=function(){return this.hasFood()?this.getFood().getFoodID():0},e.prototype.hasFood=function(){var t=this.getFood();return null!=t&&null!=t},e.CLASS_NAME="GridItemModel",e}(i.DataModel);o.default=c,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/local":"local","../../../cfw/model":"model","./GridFoodMgr":"GridFoodMgr"}],GridItemView:[function(t,e,o){"use strict";cc._RF.push(e,"2b913JDWB9Al6DwKp7N2RYg","GridItemView"),Object.defineProperty(o,"__esModule",{value:!0}),o.GridItemView=void 0;var n=t("../../../cfw/view"),i=t("../../../cfw/model"),a=t("../../../config/Config"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lockBg=null,e.icon=null,e.stone=null,e.diertyBg=null,e.idLabel=null,e.isSelect=!1,e.green1=null,e.green2=null,e.pos=cc.v2(),e}return __extends(e,t),e.prototype.getPos=function(){return this.pos},e.prototype.setFoodHasState=function(t){switch(t){case a.FoodHasState.NONE:this.green1.opacity=0,this.green2.opacity=0;break;case a.FoodHasState.HAS:this.green1.opacity=255,this.green2.opacity=0;break;case a.FoodHasState.FULL:this.green1.opacity=0,this.green2.opacity=255}},e.prototype.setOpen=function(){this.model.getState()==i.ItemState.CAN_GET&&(this.model.setState(i.ItemState.GOT),this.updateState())},e.prototype.isNotOpen=function(){return this.model.getState()==i.ItemState.NOT_GET},e.prototype.isCanOpen=function(){return this.model.getState()==i.ItemState.CAN_GET},e.prototype.setCanOpen=function(){this.model.getState()==i.ItemState.NOT_GET&&(this.model.setState(i.ItemState.CAN_GET),this.updateState())},e.prototype.getState=function(){return this.model.getState()},e.prototype.addListener=function(){},e.prototype.updateState=function(){if(this.model)switch(this.model.getState()){case i.ItemState.GOT:this.stone.active=!1,this.diertyBg.active=!1;break;case i.ItemState.CAN_GET:this.stone.active=!0,this.diertyBg.active=!1;break;case i.ItemState.NOT_GET:this.stone.active=!1,this.diertyBg.active=!0}},e.prototype.setPos=function(t){var e=Math.floor(t%7),o=Math.floor(t/7),n=this.node.width/2+e*this.node.width,i=-this.node.height/2-o*this.node.height;this.pos=cc.v2(n,i)},e.prototype.isOpen=function(){return this.model.getState()==i.ItemState.GOT},e.prototype.hasFood=function(){return null!=this.food&&null!=this.food},e.prototype.addFood=function(t){t&&t.node.parent!=this.icon&&(t.node.parent=this.icon,t.node.x=0,t.node.y=0)},e.prototype.setFood=function(t,e){void 0===e&&(e=!0),t?(this.model.setFoodKey(t.getID()),t.getState()!=i.ItemState.CAN_GET&&this.setFoodHasState(t.getFoodHasState())):(this.model.setFoodKey(0),this.setFoodHasState(a.FoodHasState.NONE)),this.food=t,this.food&&e&&this.addFood(t)},e.prototype.recoverFood=function(){this.food&&(this.food.recover(),this.food=null,this.setFoodHasState(a.FoodHasState.NONE))},e.prototype.removeFood=function(t){void 0===t&&(t=!0),this.model.setFoodKey(0),t&&this.recoverFood()},e.prototype.startShake=function(){this.food&&this.food.shake()},e.prototype.stopShake=function(){this.food&&this.food.unShake()},e.prototype.getFood=function(){return this.food},e.prototype.updateFoodState=function(){var t=this.model.getFood();this.food&&t&&(this.food.setModel(t),this.food.content())},e.prototype.content=function(){this.setFoodHasState(a.FoodHasState.NONE),this.setPos(this.model.getID()),this.idLabel.string=this.model.getID(),this.updateState()},e.prototype.recover=function(){this.recoverFood(),this.node.destroy()},__decorate([c(cc.Node)],e.prototype,"lockBg",void 0),__decorate([c(cc.Node)],e.prototype,"icon",void 0),__decorate([c(cc.Node)],e.prototype,"stone",void 0),__decorate([c(cc.Node)],e.prototype,"diertyBg",void 0),__decorate([c(cc.Label)],e.prototype,"idLabel",void 0),__decorate([c(cc.Node)],e.prototype,"green1",void 0),__decorate([c(cc.Node)],e.prototype,"green2",void 0),__decorate([s],e)}(n.BaseItemView);o.GridItemView=l,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/view":"view","../../../config/Config":"Config"}],GridLayerListView:[function(t,e,o){"use strict";cc._RF.push(e,"8d1f9rFxFJJhpXIup7pqrUw","GridLayerListView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GridListView"),i=cc._decorator,a=i.ccclass,r=(i.property,i.requireComponent),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contents=[],e.root=null,e}return __extends(e,t),e.prototype.init=function(){this.initParam(),this.initContent(),this.addItems()},e.prototype.setLayer=function(t,e){t.width=e.width,t.height=e.height,t.anchorX=e.anchorX,t.anchorY=e.anchorY},e.prototype.initContent=function(){var t=this.content;if(0==this.contents.length){var e=this.getItem(),o=e.childrenCount;cc.log(" count ",o);var n=new cc.Node;this.setLayer(n,t),this.root=n,t.addChild(n);for(var i=0;i<o;i++){var a=new cc.Node;this.setLayer(a,t),t.addChild(a),this.contents[i]=a}this.putItem(e)}else for(n=this.root,this.setLayer(n,t),i=0;i<this.contents.length;i++){var r=this.contents[i];this.setLayer(r,t)}cc.log(" child count ",this.content.childrenCount,t.height)},e.prototype.setItemPosition=function(t,e,o){t.setPosition(e,o);var n=t.list;if(n)for(var i=0;i<n.length;i++){var a=n[i],r=a.initPos;r&&(a.x=e+r.x,a.y=o+r.y)}},e.prototype.setItemPositionX=function(t,e){t.x=e;var o=t.list;if(o)for(var n=0;n<o.length;n++){var i=o[n],a=i.initPos;a&&(i.x=e+a.x)}},e.prototype.setItemPositionY=function(t,e){t.y=e;var o=t.list;if(o)for(var n=0;n<o.length;n++){var i=o[n],a=i.initPos;a&&(i.y=e+a.y)}},e.prototype.setItemActive=function(t,e){t.active=e;var o=t.list;if(o)for(var n=0;n<o.length;n++)o[n].active=e},e.prototype.addChild=function(t){if(t.parent)this.setItemActive(t,!0);else{var e=t.childrenCount;if(t.list=[],e>0)for(var o=0,n=t.children;n.length>0;){var i=n[0];if(!i){cc.warn(" element is null ",o);break}i.getComponent(cc.Widget)&&i.removeComponent(cc.Widget),i.parent=this.contents[o],i.initPos=cc.v2(i.x,i.y),t.list.push(i),o++}t.parent=this.root}},__decorate([a,r(cc.ScrollView)],e)}(n.default);o.default=s,cc._RF.pop()},{"./GridListView":"GridListView"}],GridListView:[function(t,e,o){"use strict";cc._RF.push(e,"6d82crNReNJm5OqtlRH4I03","GridListView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../ccpool"),i=cc._decorator,a=i.ccclass,r=i.property,s=i.requireComponent,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.poolKey="",e.delegate=new cc.Component.EventHandler,e.initFinish=new cc.Component.EventHandler,e.delegateUpdate=new cc.Component.EventHandler,e.totalCount=0,e.spaceX=5,e.spaceY=5,e.buffList=[],e.items=[],e.lastContentPos=0,e.contentSize=0,e.position_back=0,e.position_front=0,e.offset=0,e.bufferSize=0,e.itemSize=0,e.spaceSize=0,e.bufferZone=0,e.cellNum=1,e.needCount=0,e}return __extends(e,t),e.prototype.start=function(){this.poolKey&&cc.log("\u4f7f\u7528\u5bf9\u8c61\u6c60 ",this.poolKey),this.scrollView=this.getComponent(cc.ScrollView),this.scrollView&&this.prefab&&(this.content=this.scrollView.content,this.content.removeAllChildren(),this.init())},e.prototype.update=function(){this.updateItem()},e.prototype.onDestroy=function(){this.clear()},e.prototype.getItems=function(){return this.items},e.prototype.reset=function(t){this.scrollView.stopAutoScroll(),this.clear(),this.totalCount=t,this.init(),this.scrollView.vertical?this.scrollView.scrollToTop():this.scrollView.scrollToLeft()},e.prototype.updateItems=function(){if(this.delegateUpdate)for(var t=0;t<this.items.length;t++){var e=this.items[t];this.delegateUpdate.emit([e])}},e.prototype.clear=function(){var t=this;this.items&&this.items.length>0&&this.items.forEach(function(e){t.setItemActive(e,!1),t.putItem(e)}),this.items.length=0},e.prototype.putItem=function(t){this.poolKey?n.CCPoolManager.instance().put(t):this.buffList.push(t)},e.prototype.getItem=function(){var t=this;return this.poolKey?n.CCPoolManager.instance().get(this.poolKey,function(){return cc.instantiate(t.prefab)}):this.prefab?this.buffList.length>0?this.buffList.shift():cc.instantiate(this.prefab):(cc.error(" \u9884\u5236\u4f53\u6ca1\u6709\u8d4b\u503c "),null)},e.prototype.init=function(){this.initParam(),this.addItems()},e.prototype.initParam=function(){cc.log("\u9053\u5177\u603b\u6570   ",this.totalCount),this.position_back=-1,this.position_front=0;var t=this.getItem();this.itemSize=0;for(var e=0,o=null,n=0;n<this.scrollView.node.childrenCount;n++){var i=this.scrollView.node.children[n];if(i.getComponent(cc.Mask)){o=i;break}}if(o){this.scrollView.vertical?(this.itemSize=t.height+this.spaceY,this.spaceSize=t.width+this.spaceX,this.bufferSize=o.height,this.content.width=o.width,this.content.anchorX=.5,this.content.anchorY=1,this.content.x=0,this.content.y=o.height/2,e=this.content.width):(this.itemSize=t.width+this.spaceX,this.spaceSize=t.height+this.spaceY,this.bufferSize=o.width,this.content.height=o.height,this.content.anchorX=0,this.content.anchorY=.5,this.content.x=o.width/2,this.content.y=0,e=this.content.height),this.cellNum=Math.floor(e/this.spaceSize),this.cellNum<=0&&(this.cellNum=1),cc.log("\u53ef\u89c6\u533a\u57df\u5bbd\u5ea6  ",e," \u9053\u5177\u5bbd\u5ea6+\u95f4\u8ddd ",this.itemSize,"  \u5e94\u8be5\u663e\u793a\u5217\u6570 ",this.cellNum),this.putItem(t),this.bufferSize+=this.itemSize;var a=Math.floor(this.totalCount/this.cellNum);this.needCount=this.totalCount%this.cellNum!=0?a+1:a,cc.log("\u5e94\u8be5\u663e\u793a\u884c\u6570\uff1a   ",this.needCount),this.contentSize=this.needCount*this.itemSize,this.scrollView.vertical?this.content.height=this.contentSize:this.content.width=this.contentSize,this.scrollView.scrollTo(cc.v2(0,1),0)}else cc.error("\u4e0d\u80fd\u6ca1\u6709Mask\u7ec4\u4ef6")},e.prototype.addItems=function(){var t=this.bufferSize,e=Math.floor(t/this.itemSize),o=t%this.itemSize==0?e:e+1;o>this.needCount&&(o=this.needCount),cc.log("\u5b9e\u9645\u663e\u793a\u884c\u6570   ",o);var n;n=this.scrollView.vertical?0-(this.cellNum-1)*this.spaceSize/2:(this.cellNum-1)*this.spaceSize/2;for(var i=0;i<o;i++){this.position_back++;for(var a=0;a<this.cellNum;a++){var r=this.getItem();this.addChild(r),this.items.push(r);var s=this.position_back*this.cellNum+a;if(s>=this.totalCount)this.setItemActive(r,!1);else{if(this.scrollView.vertical){var c=-(r.height+this.spaceY)*(.5+i),l=n+(r.width+this.spaceX)*a;this.setItemPosition(r,l,c)}else l=(r.width+this.spaceX)*(.5+i),c=n-(r.height+this.spaceY)*a,this.setItemPosition(r,l,c);this.delegate.emit([this,s,r])}}}var u=this.items.length/this.cellNum;u=this.items.length%this.cellNum==0?u:u+1,this.offset=this.itemSize*u,this.bufferZone=this.bufferSize/2,this.initFinish&&this.initFinish.emit([this])},e.prototype.setItemPosition=function(t,e,o){t.setPosition(e,o)},e.prototype.setItemPositionX=function(t,e){t.x=e},e.prototype.setItemPositionY=function(t,e){t.y=e},e.prototype.setItemActive=function(t,e){t.active=e},e.prototype.addChild=function(t){t.parent?this.setItemActive(t,!0):this.content.addChild(t)},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.updateItem=function(){var t,e=this.items;t=this.scrollView.vertical?this.scrollView.content.y<this.lastContentPos:this.scrollView.content.x>this.lastContentPos;for(var o=0;o<this.items.length;o+=this.cellNum)if(e[o]){var n=this.getPositionInView(e[o]);if(this.scrollView.vertical){if(t){if(n.y<-this.bufferZone&&e[o].y+this.offset<0){this.position_front--,this.position_back--;for(var i=0;i<this.cellNum;i++)if(r=e[o+i]){this.setItemPositionY(r,r.y+this.offset);var a=this.position_front*this.cellNum+i;r.active||this.setItemActive(r,!0),this.delegate.emit([this,a,r])}}}else if(n.y>this.bufferZone&&e[o].y-this.offset>-this.contentSize)for(this.position_front++,this.position_back++,i=0;i<this.cellNum;i++)(r=e[o+i])&&(this.setItemPositionY(r,r.y-this.offset),(a=this.position_back*this.cellNum+i)>=this.totalCount?this.setItemActive(r,!1):(r.active||this.setItemActive(r,!0),this.delegate.emit([this,a,r])))}else if(t){if(n.x>this.bufferZone&&e[o].x-this.offset>0)for(this.position_front--,this.position_back--,i=0;i<this.cellNum;i++)(r=e[o+i])&&(r.active||this.setItemActive(r,!0),this.setItemPositionX(r,r.x-this.offset),this.delegate.emit([this,this.position_front*this.cellNum+i,r]))}else if(n.x<-this.bufferZone&&e[o].x+this.offset<this.contentSize)for(this.position_front++,this.position_back++,i=0;i<this.cellNum;i++){var r;(r=e[o+i])&&(this.setItemPositionX(r,r.x+this.offset),(a=this.position_back*this.cellNum+i)>=this.totalCount?this.setItemActive(r,!1):(r.active||this.setItemActive(r,!0),this.delegate.emit([this,a,r])))}}this.scrollView.vertical?this.lastContentPos=this.scrollView.content.y:this.lastContentPos=this.scrollView.content.x},e.prototype.scrollToOffset=function(t,e){if(void 0===e&&(e=1),this.scrollView){var o=cc.v2();this.scrollView.vertical?o.y=t*this.itemSize:o.x=t*this.itemSize,this.scrollView.scrollToOffset(o,e)}},e.prototype.scrollToBottom=function(t){void 0===t&&(t=1),this.scrollView&&this.scrollView.scrollToBottom(t)},e.prototype.scrollToTop=function(t){void 0===t&&(t=1),this.scrollView&&this.scrollView.scrollToTop(t)},e.prototype.remove=function(){},__decorate([r(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([r],e.prototype,"poolKey",void 0),__decorate([r({type:cc.Component.EventHandler,displayName:"\u5185\u5bb9\u5904\u7406\u51fd\u6570"})],e.prototype,"delegate",void 0),__decorate([r({type:cc.Component.EventHandler,displayName:"\u521d\u59cb\u5316\u7ed3\u675f"})],e.prototype,"initFinish",void 0),__decorate([r({type:cc.Component.EventHandler,displayName:"\u66f4\u65b0\u51fd\u6570"})],e.prototype,"delegateUpdate",void 0),__decorate([r],e.prototype,"totalCount",void 0),__decorate([r],e.prototype,"spaceX",void 0),__decorate([r],e.prototype,"spaceY",void 0),__decorate([a,s(cc.ScrollView)],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../ccpool":"ccpool"}],GridMap:[function(t,e,o){"use strict";cc._RF.push(e,"fd3e7rqXJ5Op4gwslPdA0lI","GridMap"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameMap"),i=t("../tools/Define"),a=t("../../engine/unity"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridWidth=0,e.gridHeight=0,e.hGridNum=0,e.vGridNum=0,e.initX=0,e.initY=0,e.vStickHStickXDis=215,e.vStickHStickYDis=175,e.initHIndex=0,e.initVIndex=0,e}return __extends(e,t),e.prototype.initGrid=function(t,e,o,n){this.setGridWidth(o),this.setGridHeight(n),this.setInitXY(t,e)},e.prototype.getVStickPosByID=function(t){var e=this.getStickIndex(t);return this.getVStickPosByPos(e.x,e.y)},e.prototype.getVStickPosByPos=function(t,e){var o=this.getVHPos(t),n=this.getVVPos(e);return new a.Vector2(o,n)},e.prototype.getVHPos=function(t){var e=t-this.initHIndex;return this.initX+e*this.getGridWidth()-this.vStickHStickXDis},e.prototype.getVVPos=function(t){var e=t-this.initVIndex;return this.initY+e*this.getGridHeight()+this.vStickHStickYDis},e.prototype.getHStickPosByID=function(t){var e=this.getStickIndex(t);return this.getHStickPosByPos(e.x,e.y)},e.prototype.getHStickPosByPos=function(t,e){var o=this.getHHPos(t),n=this.getHVPos(e);return new a.Vector2(o,n)},e.prototype.getHHPos=function(t){var e=t-this.initHIndex;return this.initX+e*this.getGridWidth()},e.prototype.getHVPos=function(t){var e=t-this.initVIndex;return this.initY+e*this.getGridHeight()},e.prototype.setInitXY=function(t,e){this.initX=t,this.initY=e,this.initHIndex=this.getHIndex(this.initX),this.initVIndex=this.getVIndex(this.initY)},e.prototype.getHIndex=function(t){return Math.floor(t/this.gridWidth)},e.prototype.getVIndex=function(t){return Math.floor(t/this.gridHeight)},e.prototype.getInitID=function(){return this.getIDByIndex(this.initHIndex,this.initVIndex)},e.prototype.setGridWidth=function(t){this.gridWidth=t,this.hGridNum=Math.floor(this.mapWidth/this.gridWidth)},e.prototype.getGridWidth=function(){return this.gridWidth},e.prototype.getGridHeight=function(){return this.gridHeight},e.prototype.getHGridNum=function(){return this.hGridNum},e.prototype.getVGridNum=function(){return this.vGridNum},e.prototype.setGridHeight=function(t){this.gridHeight=t,this.vGridNum=Math.floor(this.mapHeight/this.gridHeight)},e.prototype.getStickID=function(t,e){return this.isHEdge(t)?-1:this.isVEdge(e)?-1:t+this.hGridNum*e},e.prototype.getStickIndex=function(t){var e=Math.floor(t/this.hGridNum),o=t%this.hGridNum;return new a.Vector2(o,e)},e.prototype.getIndexByPos=function(t){var e=Math.floor(t.x/this.gridWidth),o=Math.floor(t.y/this.gridHeight);return new a.Vector2(e,o)},e.prototype.getIDByXY=function(t,e){var o=Math.floor(t/this.gridWidth);if(this.isHEdge(o))return-1;var n=Math.floor(e/this.gridHeight);return this.isVEdge(n)?-1:this.getIDByIndex(o,n)},e.prototype.getIDByPos=function(t){var e=t.x,o=t.y;return this.getIDByXY(e,o)},e.prototype.isHEdge=function(t){return t>this.hGridNum-1||t<0},e.prototype.isVEdge=function(t){return t>this.vGridNum-1||t<0},e.prototype.getIDByIndex=function(t,e){return this.isHEdge(t)?-1:this.isVEdge(e)?-1:this.getStickID(t,e)},e.prototype.getDirID=function(t,e,o){switch(t){case i.DIR.LEFT:e--;break;case i.DIR.RIGHT:e++;break;case i.DIR.UP:o++;break;case i.DIR.DOWN:o--}return this.getIDByIndex(e,o)},e}(n.default);o.default=r,cc._RF.pop()},{"../../engine/unity":"unity","../tools/Define":"Define","./GameMap":"GameMap"}],GroundManager:[function(t,e,o){"use strict";cc._RF.push(e,"0aa2auApvdHF6UcBKztNKRx","GroundManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./PhysicalManager"),i=t("../tools/Define"),a=function(){function t(){this.person=null,this._objectList=[]}return t.prototype.start=function(t){this.camera=n.PhysicalManager.instance().getCamera();for(var e=0;e<t.length;e++){var o=t[e];this._objectList[e]=o.moveSystem,console.log(" element.width * index ",o.getWidth()*e),this._objectList[e].setX(o.getWidth()*e)}},t.prototype.update=function(){if(0!=this.person.getSpeedX()){var t=this.person.getMoveXDir(),e=this._objectList[0],o=this._objectList[this._objectList.length-1];t==i.DIR.RIGHT?e.getX()+e.node.getWidth()<this.camera.getX()&&(this._objectList.push(this._objectList.shift()),e.setX(o.getX()+e.node.getWidth())):o.getX()>this.camera.getX()+this.camera.getWidth()&&(o.setX(e.getX()-o.node.getWidth()),this._objectList.unshift(this._objectList.pop()))}},t}();o.default=a,cc._RF.pop()},{"../tools/Define":"Define","./PhysicalManager":"PhysicalManager"}],GuideEventLogic:[function(t,e,o){"use strict";cc._RF.push(e,"a64982nM1VK4Lk48YKGMqm3","GuideEventLogic"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("./GuideEventName"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.gEventProxy.on(i.default.TOUCH_EVENT,this.guideTouchEvent,this),this.gEventProxy.on(i.default.BUTTON_CLICK,this.guideButtonClick,this)},e.prototype.guideButtonClick=function(t){var e=t[0],o=t[1],n=t[2];this.getName()==e&&this[o].call(this,n)},e.prototype.guideTouchEvent=function(t,e){var o=t[0],n=t[1];this.getName()==o&&this[n].call(this,e)},e}(n.BaseItemView);o.default=a,cc._RF.pop()},{"../../cfw/view":"view","./GuideEventName":"GuideEventName"}],GuideEventName:[function(t,e,o){"use strict";cc._RF.push(e,"aed2cJ1j3hBdrAI4unIU2uf","GuideEventName"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.START="guide_start",t.SET_WIDGET="guide_set_widget",t.SET_FUNC="guide_set_func",t.SHOW="guide_show",t.UPDATE="guide_update",t.FINISH="guide_finish",t.TRIGER_FUNC="guide_triger_func",t.BUTTON_CLICK="BUTTON_CLICK",t.TOUCH_MOVE="TOUCH_MOVE",t.TOUCH_END="TOUCH_END",t.TOUCH_EVENT="TOUCH_EVENT",t}();o.default=n,cc._RF.pop()},{}],GuideID:[function(t,e,o){"use strict";cc._RF.push(e,"8c50b9E1ehCCKadvwEXmjKB","GuideID"),Object.defineProperty(o,"__esModule",{value:!0}),o.GuideID=void 0,function(t){t[t.TAP_COOKIE_BTN=1]="TAP_COOKIE_BTN",t[t.DRAG_MERGE=2]="DRAG_MERGE",t[t.DRAG_MERGE2=3]="DRAG_MERGE2",t[t.DRAG_MERGE3=4]="DRAG_MERGE3",t[t.TAP_FOOD=5]="TAP_FOOD",t[t.CLICK_BUY1=6]="CLICK_BUY1",t[t.CLICK_BUY2=7]="CLICK_BUY2",t[t.CLICK_TASK=8]="CLICK_TASK",t[t.CLICK_BUILD=9]="CLICK_BUILD",t[t.TASK_GET=10]="TASK_GET",t[t.BUILD_GET=11]="BUILD_GET",t[t.ENERGY_NOT_ENOUGH=12]="ENERGY_NOT_ENOUGH",t[t.NEW_BAG=13]="NEW_BAG",t[t.BUY_ENERGY=14]="BUY_ENERGY",t[t.FIND_CHEST=15]="FIND_CHEST",t[t.CLICK_CHEST=16]="CLICK_CHEST",t[t.CD_TIP=17]="CD_TIP",t[t.CLEAR_CD=18]="CLEAR_CD",t[t.CLICK_WATER=19]="CLICK_WATER",t[t.LOOK_INFO=20]="LOOK_INFO",t[t.MARKET0=21]="MARKET0",t[t.MARKET1=22]="MARKET1",t[t.RESET_COUNT=23]="RESET_COUNT",t[t.DRAG_BAG=24]="DRAG_BAG"}(o.GuideID||(o.GuideID={})),cc._RF.pop()},{}],GuideMgr:[function(t,e,o){"use strict";cc._RF.push(e,"f148dbwC2BJoKgHFcCkPcuk","GuideMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GuideEventName"),i=function(t){function e(){var e=t.call(this)||this;return e.guideID=-1,e}return __extends(e,t),e.prototype.start=function(t){this.guideID=t,this.emit(n.default.START+t,this.guideID)},e.prototype.getGuideID=function(){return this.guideID},e.prototype.isOpen=function(){return this.guideID>0},e.prototype.end=function(){this.guideID=-1,this.finish()},e.prototype.notify=function(t){this.isOpen()&&this.emit(n.default.UPDATE,t)},e}(t("../gevent/operate/OperateObserver").default);o.default=i,cc._RF.pop()},{"../gevent/operate/OperateObserver":"OperateObserver","./GuideEventName":"GuideEventName"}],GuidePoint:[function(t,e,o){"use strict";cc._RF.push(e,"52deepbQvdCoK2QrKUv69e9","GuidePoint"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("./GuideMgr"),a=t("./GuideEventName"),r=t("../../cfw/event"),s=t("./GuideID"),c=t("./DMaskNode"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=0,e.posList=[],e.maskNode=null,e.param="",e.handlers=[],e.funcList=[],e.tipID=0,e.itemID=-1,e.count=0,e.dMaskNode=null,e}return __extends(e,t),e.prototype.isTouchEvent=function(){return this.handlers.length>1||this.funcList.length>1},e.prototype.start=function(){var t=this;this.dMaskNode=this.maskNode.getComponent(c.default),this.funcList[0]&&(this.touchs=this.funcList[0].split("&")),this.funcList[1]&&(this.touche=this.funcList[1].split("&")),this.funcList[2]&&(this.touchm=this.funcList[2].split("&")),cc.tween(this.node).delay(.2).call(function(){t.count++}).start(),-1==this.itemID&&this.init()},e.prototype.addListener=function(){this.eventProxy.on(a.default.START+this.id,this.guideStart,this)},e.prototype.init=function(){this.setModel(i.default.instance()),this.guideStart(this.model.getGuideID())},e.prototype.guideStart=function(t){var e=this;this.id==t&&(this.dMaskNode&&this.dMaskNode.start(),this.count>0?this.model.emit(a.default.SHOW,this):cc.tween(this.node).delay(.2).call(function(){e.model.emit(a.default.SHOW,e)}).start())},e.prototype.buttonClick=function(){if(this.handlers){var t=this.handlers[0];t?t.emit([t.customEventData]):this.funcList[0]&&r.GEvent.instance().emit(a.default.BUTTON_CLICK)}},e.prototype.touchStart=function(t){if(this.handlers){var e=this.handlers[0];e?e.emit([t]):this.touchs.length>0&&r.GEvent.instance().emit(a.default.TOUCH_EVENT,this.touchs,t)}},e.prototype.touchEnd=function(t){if(this.handlers){var e=this.handlers[1];e?e.emit([t]):this.touche.length>0&&r.GEvent.instance().emit(a.default.TOUCH_EVENT,this.touche,t)}},e.prototype.touchMove=function(t){if(this.handlers){var e=this.handlers[2];e?e.emit([t]):this.touchm.length>0&&r.GEvent.instance().emit(a.default.TOUCH_EVENT,this.touchm,t)}},__decorate([d({type:cc.Enum(s.GuideID)})],e.prototype,"id",void 0),__decorate([d([cc.Node])],e.prototype,"posList",void 0),__decorate([d(cc.Node)],e.prototype,"maskNode",void 0),__decorate([d],e.prototype,"param",void 0),__decorate([d([cc.Component.EventHandler])],e.prototype,"handlers",void 0),__decorate([d([cc.String])],e.prototype,"funcList",void 0),__decorate([d],e.prototype,"tipID",void 0),__decorate([d],e.prototype,"itemID",void 0),__decorate([u],e)}(n.BaseItemView);o.default=p,cc._RF.pop()},{"../../cfw/event":"event","../../cfw/view":"view","./DMaskNode":"DMaskNode","./GuideEventName":"GuideEventName","./GuideID":"GuideID","./GuideMgr":"GuideMgr"}],GuideView:[function(t,e,o){"use strict";cc._RF.push(e,"31b2cGrvfBAspURsRCTMDJM","GuideView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("./GuideEventName"),a=t("./GuideMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=t.call(this)||this;return e.pointer=null,e.mask=null,e.button=null,e.step=0,e.count=0,e}return __extends(e,t),e.prototype.start=function(){this.setModel(a.default.instance()),this.eventProxy.on(i.default.UPDATE,this.updateState,this),this.eventProxy.on(i.default.SHOW,this.setCurPoint,this),this.finish()},e.prototype.setTouchEnable=function(t,e){e?t.isTouchEvent()?(this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)):this.pointer.on(cc.Node.EventType.TOUCH_END,this.buttonClick,this):t.isTouchEvent()?(this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)):this.pointer.off(cc.Node.EventType.TOUCH_END,this.buttonClick,this)},e.prototype.updateState=function(t){this.curPoint&&this.curPoint.param==t&&(this.setTouchEnable(this.curPoint,!1),this.end())},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.finish()},e.prototype.setCurPoint=function(t){var e=this;if(console.log("setCurPoint ==================== ",this.count),!(this.count>0)){++this.count,this.mask.node.setPosition(0,0),this.curPoint=t;var o=t.posList;this.pointer.active||(this.pointer.active=!0),this.node.addComponent(cc.BlockInputEvents);var n=this.changePosition(o[0]);if(this.pointer.setAnchorPoint(o[0].getAnchorPoint()),this.pointer.angle=o[0].angle,this.pointer.setPosition(n),cc.Tween.stopAllByTarget(this.pointer),this.pointer.scale=1,this.setTouchEnable(this.curPoint,!0),t.isTouchEvent()?this.button.active=!1:this.button.active=!0,o.length>1){var i=this.changePosition(o[1]);cc.tween(this.pointer).repeatForever(cc.tween(this.pointer).to(1,{x:i.x,y:i.y}).call(function(){e.pointer.setPosition(n)})).start()}else cc.tween(this.pointer).repeatForever(cc.tween(this.pointer).by(.3,{scale:.1}).delay(.1).by(.3,{scale:-.1}).delay(.1)).start();var a=t.maskNode;if(a){this.mask.node.width=a.width,this.mask.node.height=a.height,this.mask.node.active=!0;var r=this.changePosition(a);cc.tween(this.mask.node).to(.5,{x:r.x,y:r.y}).start(),this.button.active&&(this.button.setPosition(r),this.button.width=a.width,this.button.height=a.height)}}},e.prototype.buttonClick=function(){console.log("touchEnd "),this.curPoint&&this.curPoint.buttonClick()},e.prototype.touchStart=function(t){this.curPoint&&this.curPoint.touchStart(t)},e.prototype.touchMove=function(t){this.curPoint&&this.curPoint.touchMove(t)},e.prototype.touchEnd=function(t){this.curPoint&&this.curPoint.touchEnd(t)},e.prototype.end=function(){--this.count,this.node.removeComponent(cc.BlockInputEvents),this.finish(),this.model.end()},e.prototype.finish=function(){this.mask.node.active=!1,cc.Tween.stopAllByTarget(this.pointer),this.pointer.active=!1,this.button.active=!1},__decorate([c(cc.Node)],e.prototype,"pointer",void 0),__decorate([c(cc.Mask)],e.prototype,"mask",void 0),__decorate([c(cc.Node)],e.prototype,"button",void 0),__decorate([s],e)}(n.BaseView);o.default=l,cc._RF.pop()},{"../../cfw/view":"view","./GuideEventName":"GuideEventName","./GuideMgr":"GuideMgr"}],HTTP:[function(t,e,o){"use strict";cc._RF.push(e,"fd925kD8BdOsaaaXUlbWFjJ","HTTP"),Object.defineProperty(o,"__esModule",{value:!0});var n="",i=function(){function t(){this.sessionId=0,this.userId=0,this.master_url=n,this.url=n}return t.prototype.sendRequest=function(t,e,o,n){void 0===n&&(n=null);var i=this.createXHR();i.timeout=5e3;var a="?";for(var r in e)"?"!=a&&(a+="&"),a+=r+"="+e[r];null==n&&(n=this.url);var s=n+t+encodeURI(a);return console.log("RequestURL:"+s),i.open("GET",s,!0),i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300){console.log("http res("+i.responseText.length+"):"+i.responseText);try{var t=JSON.parse(i.responseText);null!==o&&o(t)}catch(e){console.log("err:"+e)}}},i.send(),i},t.prototype.createXHR=function(){return new XMLHttpRequest},t}();o.default=i,cc._RF.pop()},{}],IRadioButton:[function(t,e,o){"use strict";cc._RF.push(e,"9e1abu3mwRAQZ2kxOAfaTlP","IRadioButton"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],InsertAdMgr:[function(t,e,o){"use strict";cc._RF.push(e,"ae605aKbWJAa6tblzRFbdXk","InsertAdMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/event"),i=t("../channel-ts/CMgr"),a=function(){function t(){}return t.isBannerState=function(){return this.hideBannerCount<=0},t.setBannerState=function(t){if(!i.default.helper.isVersion())return!1;t?(this.hideBannerCount--,this.hideBannerCount<=0&&(this.hideBannerCount=0,n.GEvent.instance().emit(this.CLOSE_NATIVE_AD))):(this.hideBannerCount++,n.GEvent.instance().emit(this.OPEN_NATIVE_AD))},t.OPEN_NATIVE_AD="OPEN_NATIVE_AD",t.CLOSE_NATIVE_AD="CLOSE_NATIVE_AD",t.hideBannerCount=0,t}();o.default=a,cc._RF.pop()},{"../../cfw/event":"event","../channel-ts/CMgr":"CMgr"}],InstallAppC:[function(t,e,o){"use strict";cc._RF.push(e,"096bbEYi5tIxbVhwdQvOqIY","InstallAppC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./InstallAppView"),c=t("../../cfw/local"),l=t("../sdk/SDKManager"),u=t("../../logic/public/bag/BagManager"),d=t("../../config/Config"),p=t("../../engine/EngineHelper"),h=t("../../cfw/ui"),f=t("../channel-ts/CMgr"),g=t("../../extention/gevent/GameEventAdapter"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=new c.LocalValue("InstallApp_count",0),e}return __extends(e,t),e.prototype.intoLayer=function(){var t=this;if(f.default.helper.hasInstallApp()&&f.default.helper.isVersion()&&!g.default.instance().isOpen()){var e=f.default.helper.getzs_native_show_delay();console.log("InstallAppC  num ",e),e>0&&setTimeout(function(){l.default.getChannel().canInstallShortcut(function(e){e&&t.showInstallAppView()})},e)}},e.prototype.showInstallAppView=function(){i.default.pushUIView({path:"prefab/InstallAppView",moduleID:a.ModuleID.install,uiIndex:r.UIIndex.STACK,className:s.default,controller:this,model:null,func:function(){}})},e.prototype.getCount=function(){return this.count.getInt()},e.prototype.getItemNum=function(){var t=20-this.getCount();return t<=0&&(t=5),t},e.prototype.installApp=function(){var t=this;l.default.getChannel().installShortcut(function(e){if(e){var o=t.getItemNum();o>0&&u.default.instance().updateItemNum(d.ItemID.TOKEN,o,p.default.getMidPos()),t.count.updateValue(20),h.default.instance().popView()}})},e}(n.BaseController);o.default=y,cc._RF.pop()},{"../../cfw/local":"local","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../engine/EngineHelper":"EngineHelper","../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../logic/public/bag/BagManager":"BagManager","../channel-ts/CMgr":"CMgr","../sdk/SDKManager":"SDKManager","./InstallAppView":"InstallAppView"}],InstallAppView:[function(t,e,o){"use strict";cc._RF.push(e,"008382AtQBBL6tP7e6mo/7u","InstallAppView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("./InstallAppC"),a=t("../../config/Config"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.start=function(){this.label.string="+"+i.default.instance().getItemNum(),this.gEventProxy.on(a.EventName.CLOSE_GAME_VIEW,this.hide,this)},e.prototype.onInstallAppButtonLeftClick=function(){this.hide()},e.prototype.onInstallAppButtonRightClick=function(){i.default.instance().installApp()},__decorate([c(cc.Label)],e.prototype,"label",void 0),__decorate([s],e)}(n.BaseView);o.default=l,cc._RF.pop()},{"../../cfw/view":"view","../../config/Config":"Config","./InstallAppC":"InstallAppC"}],ItemCondition:[function(t,e,o){"use strict";cc._RF.push(e,"8e581OPklVEraNgEuXUHdPS","ItemCondition"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/module"),i=t("../../cfw/res"),a=t("../game/model/FoodMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.itemSprite=null,e.hpSprite=null,e.combatSprite=null,e}return __extends(e,t),e.prototype.Init=function(t){var e=this,o=Math.floor(t/1e4);switch(o){case 1:this.itemSprite.spriteFrame=this.hpSprite,this.label.string="-"+(t-1e4*o);break;case 2:this.label.string="-"+(t-1e4*o),this.itemSprite.spriteFrame=this.combatSprite;break;case 3:n.ModuleManager.loadRes("game","texture/props2",i.ResType.SpriteAtlas,function(o,n){if(!o&&cc.isValid(e.node)){var i=n.getRes();e.itemSprite.spriteFrame=i.getSpriteFrame(a.default.instance().getFoodItemModel(t).getSpriteFrame())}}),this.label.string=""}},__decorate([c(cc.Label)],e.prototype,"label",void 0),__decorate([c(cc.Sprite)],e.prototype,"itemSprite",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"hpSprite",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"combatSprite",void 0),__decorate([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../cfw/module":"module","../../cfw/res":"res","../game/model/FoodMgr":"FoodMgr"}],ItemC:[function(t,e,o){"use strict";cc._RF.push(e,"6e747D6DadHQaKXsL3W5R94","ItemC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./model/ItemMgr"),c=t("../../cfw/tools/Define"),l=t("../public/bag/BagManager"),u=t("../../config/Config"),d=t("../../cfw/ui"),p=t("./model/BuyTokenModel"),h=t("../market/MarketC"),f=t("../../extention/gevent/GameEventAdapter"),g=t("../../sdk/channel-ts/CMgr"),y=t("../../engine/EngineHelper"),m=t("../../config/UmengEventID"),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){i.default.pushUIView({path:"prefabs/MoneyView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.TOP,model:s.default.instance(),controller:this})},e.prototype.showBuyEnergyView=function(){i.default.pushUIView({path:"prefabs/BuyEnergyView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,model:s.default.instance(),controller:this})},e.prototype.buyEnergy=function(t){var o=cc.view.getVisibleSize(),n=cc.v2(o.width/2,o.height/2);if(t==c.DIR.LEFT)g.default.helper.showRewardAd(0,function(t){t&&(l.default.instance().updateItemNum(u.ItemID.ENERGY,u.ENRGY_NUM2,n),d.default.instance().popView(),g.default.helper.trackEvent(m.default.buy_energy))});else{var i=s.default.instance().getBuyEnergyCost();f.default.instance().isOpen()?(l.default.instance().updateItemNum(u.ItemID.ENERGY,u.ENRGY_NUM,n),d.default.instance().popView()):l.default.instance().isEnough(u.ItemID.TOKEN,i)?(l.default.instance().updateItemNum(u.ItemID.ENERGY,u.ENRGY_NUM,n),l.default.instance().updateItemNum(u.ItemID.TOKEN,-i),s.default.instance().updateBuyEnergyCount(),d.default.instance().popView(),g.default.helper.trackEvent(m.default.buy_energy_use_token,{cost:i})):e.instance().showBuyTokenView(i)}},e.prototype.showBuyTokenView=function(t){var e=t-l.default.instance().getNum(u.ItemID.TOKEN);i.default.pushUIView({path:"prefabs/BuyTokenView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,model:new p.default(e),controller:this})},e.prototype.openStoreView=function(){h.default.instance().intoLayer()},e.prototype.buyToken=function(t){g.default.helper.showRewardAd(0,function(e){e&&(d.default.instance().popView(t),l.default.instance().updateItemNum(u.ItemID.TOKEN,u.BUY_TOKEN,y.default.getMidPos()),g.default.helper.trackEvent(m.default.buy_token_at_out))})},e}(n.BaseController);o.default=v,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/Define":"Define","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../engine/EngineHelper":"EngineHelper","../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../sdk/channel-ts/CMgr":"CMgr","../market/MarketC":"MarketC","../public/bag/BagManager":"BagManager","./model/BuyTokenModel":"BuyTokenModel","./model/ItemMgr":"ItemMgr"}],ItemFlyAnim:[function(t,e,o){"use strict";cc._RF.push(e,"14380bOw/FAgrFbc3Deh0pZ","ItemFlyAnim"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../config/Config"),a=t("../../../cfw/tools/Utils"),r=t("../../../cfw/tools/Define"),s=t("../model/ItemMgr"),c=t("../../../cfw/event"),l=t("../../level/model/LevelMgr"),u=t("../../sound/model/SoundMgr"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.itemID=0,e.progressBar=null,e.icon=null,e.buffer=[],e.move1=300,e.move2=600,e}return __extends(e,t),e.prototype.onLoad=function(){this.iconPos=this.icon.node.parent.convertToWorldSpaceAR(this.icon.node.getPosition()),this.iconPos=this.node.convertToNodeSpaceAR(this.iconPos),this.gEventProxy.on(i.EventName.UPDATE_ITEM_NUM,this.updateContent,this),this.showNum(s.default.instance().getItemModel(this.itemID))},e.prototype.updateContent=function(t,e,o){t.getID()==this.itemID&&(e?(e=this.node.convertToNodeSpaceAR(e),this.createMoneys(t,e,o)):this.showNum(t))},e.prototype.createMoneys=function(t,e,o){var n=this;if(o){var i=this.getImage(o);i.spriteFrame=o.spriteFrame,i.node.parent=this.node,i.node.x=e.x,i.node.y=e.y,this.waiwei(i,t)}else for(var s=function(){var o=a.default.random(50,100),i=a.default.random(50,100),s=c.getImage();s.node.x=e.x,s.node.y=e.y;var l=e.x+o*r.OPPSITE[a.default.random(0,r.OPPSITE.length)],u=e.y+i*r.OPPSITE[a.default.random(0,r.OPPSITE.length)];s.node.parent||c.node.addChild(s.node),cc.tween(s.node).to(c.move1/1e3,{x:l,y:u}).call(function(){n.waiwei(s,t)}).start()},c=this,l=0;l<10;l++)s();var u=(this.move1+this.move2)/1e3;cc.tween(this.node).delay(u).call(function(){n.showNum(t)}).start()},e.prototype.waiwei=function(t,e){var o=this,n=this.iconPos,i=n.x,r=n.y,s=a.default.random(this.move2,this.move2+200);cc.tween(t.node).to(s/1e3,{x:i,y:r}).call(function(){o.animFinish(t,e)}).start()},e.prototype.showNum=function(t){if(this.label&&(this.label.string=a.default.getShortStr(t.getNum(),100)),this.progressBar){var e=t.getNum()/l.default.instance().getTotalExp();cc.log(" percent ",e),this.progressBar.progress=e}c.GEvent.instance().emit(i.EventName.UPDATE_ITEM_NUM_FINISH,t)},e.prototype.animFinish=function(t,e){this.buffer.push(t),t.node.active=!1,u.default.instance().playSound(e.getSound())},e.prototype.getImage=function(t){var e=this.buffer.length>0?this.buffer.shift():(new cc.Node).addComponent(cc.Sprite);return e.spriteFrame=t?t.spriteFrame:this.icon.spriteFrame,e.node.scale=1,e.node.active=!0,e},__decorate([h(cc.Label)],e.prototype,"label",void 0),__decorate([h],e.prototype,"itemID",void 0),__decorate([h(cc.ProgressBar)],e.prototype,"progressBar",void 0),__decorate([h(cc.Sprite)],e.prototype,"icon",void 0),__decorate([p],e)}(n.BaseView);o.default=f,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/tools/Define":"Define","../../../cfw/tools/Utils":"Utils","../../../cfw/view":"view","../../../config/Config":"Config","../../level/model/LevelMgr":"LevelMgr","../../sound/model/SoundMgr":"SoundMgr","../model/ItemMgr":"ItemMgr"}],ItemMgr:[function(t,e,o){"use strict";cc._RF.push(e,"7e5c6oEWFlCiaUD6M0WcM0i","ItemMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./ItemModel"),r=t("../../../cfw/event"),s=t("../../../config/Config"),c=t("../../../cfw/local"),l=t("../../user/User"),u=t("../../../cfw/time"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemModelMgr=new n.ModelManager,e.time=s.ENERGY_TIME,e.timeObserver=new u.SheduleTimer(function(){e.time--,r.GEvent.instance().emit(s.EventName.UPDATE_ENERGY_TIMER,e.time),e.time<=0&&(e.time=s.ENERGY_TIME,e.addEnergy(1),e.timeout&&e.timeout.setValue(Date.now()))},1),e}return __extends(e,t),e.prototype.initData=function(){this.timeout=new c.LocalValue("ItemMgrtimeout",Date.now()),u.TimeManager.instance().add(this.timeObserver),this.buyEnergyDay=new c.LocalValue("ItemMgrBuyEnergyDay",1),this.buyEnergyCount=new c.LocalValue("ItemMgrvbuyEnergyCount",0),this.itemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),this.buyEnergyDay.getInt()!=l.default.instance().getLoginDayNum()&&(this.buyEnergyDay.setValue(l.default.instance().getLoginDayNum()),this.buyEnergyCount.setValue(0));var t=Date.now(),e=t-this.timeout.getInt(),o=Math.ceil(e/1e3),n=Math.ceil(o/s.ENERGY_TIME);n>0&&n>100&&(n=100),this.timeout.setValue(t)},e.prototype.addEnergy=function(t){var e=this.getItemModel(s.ItemID.ENERGY);if(e){var o=e.getNum();t+o>s.ENERGY_MAX&&(t=s.ENERGY_MAX-o),t>0&&this.updateCount(s.ItemID.ENERGY,t)}},e.prototype.getNewItemModel=function(t,e){var o=this.itemModelMgr.getNewModel(t,a.default);return o.setNum(e,!1),o},e.prototype.getItemModel=function(t){return this.itemModelMgr.getByID(t)},e.prototype.getItemModelList=function(){return this.itemModelMgr.getList()},e.prototype.updateCount=function(t,e,o,n){var i=this.getItemModel(t);i?(i.setNum(i.getNum()+e),r.GEvent.instance().emit(s.EventName.UPDATE_ITEM_NUM,i,o,n)):console.warn("ItemMgr updateCount id  ",t,e)},e.prototype.getCount=function(t){return this.getItemModel(t).getNum()},e.prototype.isEnough=function(t,e){return this.getItemModel(t).getNum()>=e},e.prototype.updateBuyEnergyCount=function(){this.buyEnergyCount.updateValue(1)},e.prototype.getBuyEnergyCount=function(){return this.buyEnergyCount.getInt()},e.prototype.getBuyEnergyCost=function(){var t=this.getBuyEnergyCount();return 10*Math.pow(2,t)},e}(n.BaseModel);o.default=d,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/time":"time","../../../config/Config":"Config","../../user/User":"User","./ItemModel":"ItemModel"}],ItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"85933AD7mxEQqMkrSiwFcSg","ItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../../config/ModuleConfig"),r=t("../../../cfw/tools/LangManager");(function(t){t[t.name=0]="name",t[t.effect=1]="effect",t[t.icon=2]="icon",t[t.count=3]="count",t[t.tip=4]="tip",t[t.sound=5]="sound",t[t.scale=6]="scale"})(n=o.ItemModelEnum||(o.ItemModelEnum={}));var s=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getName=function(){var t=this.getValue(n.name);return r.default.instance().getLocalString(t)},e.prototype.getEffect=function(){return this.getValue(n.effect)},e.prototype.getIcon=function(){return"public/public"},e.prototype.getSpriteFrame=function(){return this.getValue(n.icon)},e.prototype.getNum=function(e){return void 0===e&&(e=!0),e?this.getValue(n.count):t.prototype.getNum.call(this)},e.prototype.getTip=function(){return this.getValue(n.tip)},e.prototype.getSound=function(){return this.getValue(n.sound)},e.prototype.setNum=function(e,o){return void 0===o&&(o=!0),o?this.setValue(n.count,e):t.prototype.setNum.call(this,e),!0},e.prototype.getModuleID=function(){return a.ModuleID.PUBLIC},e.prototype.getScale=function(){return this.getValue(n.scale)},e.prototype.getLevel=function(){return 0},e.prototype.isInMarket=function(){return!1},e.prototype.getOutput=function(){return[]},e.CLASS_NAME="ItemModel",e}(i.DataModel);o.default=s,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/tools/LangManager":"LangManager","../../../config/ModuleConfig":"ModuleConfig"}],ItemView:[function(t,e,o){"use strict";cc._RF.push(e,"3d320z2mbBAGKsFALanVRjJ","ItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.icon=null,e}return __extends(e,t),e.prototype.draw=function(){this.setSpriteAtlas(this.icon,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame()),this.label.string=""+this.model.getNum(!1),this.node.scale=this.model.getScale(),console.log("label:"+this.label.string)},__decorate([r(cc.Label)],e.prototype,"label",void 0),__decorate([r(cc.Sprite)],e.prototype,"icon",void 0),__decorate([a],e)}(n.BaseItemView);o.default=s,cc._RF.pop()},{"../../../cfw/view":"view"}],JsNativeBridge:[function(t,e,o){"use strict";cc._RF.push(e,"0e428BPe/pMkpn0UOPnUFZ1","JsNativeBridge"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CocosJsNativeBridge"),i=t("./LayaJsNativeBridge"),a=function(){function t(){}return t.callStaticMethod=function(t,e,o,a){window.cc?(console.log("NativeTest cocos creator "),n.default.callStaticMethod(t,e,o,a)):window.laya&&(console.log(" laya "),i.default.callStaticMethod(t,e,o,a))},t}();o.default=a,cc._RF.pop()},{"./CocosJsNativeBridge":"CocosJsNativeBridge","./LayaJsNativeBridge":"LayaJsNativeBridge"}],KSChannel:[function(t,e,o){"use strict";cc._RF.push(e,"14bd8zdKYFILrOXlAIF9SlY","KSChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("../SDKConfig"),a=t("./KSRewardAd"),r=t("./KSInsertAd"),s=t("./KSShare"),c=t("./KSRecorder"),l=function(t){function e(e){var o,n=t.call(this,e)||this,l=n.cfg;if(n.sdk.onShow(function(){}),n.sdk.onHide(function(){}),n.sdk.createInterstitialAd&&(o=l[i.ADName.insert]))for(var u=0;u<o.length;u++){var d=o[u];n.insertAd.push(new r.default(n,d))}if(n.sdk.createRewardedVideoAd&&(o=l[i.ADName.reward]))for(u=0;u<o.length;u++)d=o[u],n.rewardAd.push(new a.default(n,d));return n.share=new s.default(n,l[i.ADName.share]),n.recorder=new c.default(n,l[i.ADName.recorder]),n}return __extends(e,t),e.prototype.showToast=function(t){this.sdk.showToast({title:t})},e}(n.default);o.default=l,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","./KSInsertAd":"KSInsertAd","./KSRecorder":"KSRecorder","./KSRewardAd":"KSRewardAd","./KSShare":"KSShare"}],KSHelper:[function(t,e,o){"use strict";cc._RF.push(e,"7341aErVbROA4P7+cYhjThF","KSHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseHelper"),i=t("../sdk/SDKManager"),a=t("../sdk/tools/SDKEvent"),r=t("../../cfw/event"),s=t("../../logic/sound/model/SoundMgr"),c=t("./ChannelEvent"),l=t("./ChannelUtils"),u=t("../lib/lc_sdk"),d=function(t){function e(){var e=t.call(this)||this;return e.zsConfig={zs_version:"1.0",zs_switch:0,zs_banner_city:0,zs_native_click_switch:1,zs_full_screen_gap_time:0,zs_process_time:0,zs_game_star_jump_switch:0,zs_banner_game_time:30,zs_text_message:30,zs_banner_time:2,zs_click_award_prompt:0,zs_click_award_num:1,zs_begin_click_switch:0,zs_start_video_switch:0,zs_begin_click__since:3,zs_banner_vertical_enable:0,zs_banner_system:""},e.setVersion("0.0"),e.sdk=new u.default,a.default.instance().on(a.default.REWARD_AD_CLOSE,e.rewardClose,e),a.default.instance().on(a.default.REWARD_AD_OPEN,e.rewardOpen,e),i.default.getChannel().getSDK().onShow(function(){console.log("VivoChannel  onShow "),r.GEvent.instance().emit(r.GEvent.EVENT_SHOW)}),i.default.getChannel().getSDK().onHide(function(){console.log("VivoChannel  onHide "),r.GEvent.instance().emit(r.GEvent.EVENT_HIDE)}),e.sdk.initSdkByConf({channel:"ks",appId:"ks689613694818931931",secret:""}),e.login(),e.loadConfig(),e}return __extends(e,t),e.prototype.login=function(t){var e=this;void 0===t&&(t=!0),this.sdk.login(function(t){console.log(" msg ",t)},function(o){console.log("login error ",o),setTimeout(function(){e.login(t)},3e3)})},e.prototype.loadConfig=function(){var t=this;this.sdk.loadCfg(function(e){t.zsConfig="string"==typeof e?JSON.parse(e):e,t.zsConfig.zs_click_award_num,c.default.instance().emit(c.default.LOAD_CONFIG),console.log("result type ",typeof e),console.log("loadConfig result === ",e)},function(e){console.log(" err === ",e),setTimeout(function(){t.loadConfig()},3e3)})},e.prototype.getAddress=function(){return"\u5317\u4eac\u5e02 \u623f\u5c71\u533a \u826f\u4e61\u51ef\u65cb\u5927\u8857 \u5efa\u8bbe\u8def18\u53f7-D15052"},e.prototype.rewardOpen=function(){console.log("rewardOpen "),s.default.instance().rewardOpen()},e.prototype.rewardClose=function(){s.default.instance().rewardClose()},e.prototype.isVersion=function(){return 1==l.default.compareVersion(this.verson,this.zsConfig.zs_version)},e.prototype.isSwtichOpen=function(){return 1==this.zsConfig.zs_switch},e.prototype.isOpen=function(){return this.isVersion()&&this.isSwtichOpen()},e.prototype.openMoreGameView=function(t){i.default.getChannel().showAppBoxAd(t)},e.prototype.showCustomAd=function(t,e,o){i.default.getChannel().showBlockAd(t,e,o)},e.prototype.hideCustomAd=function(t){i.default.getChannel().hideBlockAd(t)},e.prototype.hasMoreGame=function(){return!1},e.prototype.hasAgreement=function(){return!1},e.prototype.hasSinglePrivicy=function(){return!1},e.prototype.hasNormalShare=function(){return!0},e.prototype.showShare=function(t,e,o){i.default.getChannel().showShare(0,e,o)},e.prototype.sheduleGame=function(){this.isVersion()&&this.showAd2()},e.prototype.getzs_full_screen_gap_time=function(){return this.zsConfig.zs_full_screen_gap_time?this.zsConfig.zs_full_screen_gap_time:0},e.prototype.showAd2=function(){var t=this,e=this.getzs_full_screen_gap_time();e>0&&setTimeout(function(){console.log(" showAd num ",e),t.showInsertAd(0),t.showAd2()},1e3*e)},e}(n.default);o.default=d,cc._RF.pop()},{"../../cfw/event":"event","../../logic/sound/model/SoundMgr":"SoundMgr","../lib/lc_sdk":"lc_sdk","../sdk/SDKManager":"SDKManager","../sdk/tools/SDKEvent":"SDKEvent","./BaseHelper":"BaseHelper","./ChannelEvent":"ChannelEvent","./ChannelUtils":"ChannelUtils"}],KSInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"3af6dU4XNlCjrjoQkedLixU","KSInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseInsertAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(t){this.callback=t,this.state=i.SDKState.loading,this.destroy(),this.create(),this.show()},e.prototype.onClose=function(){},e.prototype.show=function(){this.insertAd&&this.insertAd.show().then(function(t){console.log("show interstitial ad success, result is "+t)}).catch(function(t){console.log("error.code ",t.code),console.log("show interstitial ad failed, error is "+t),t.code})},e.prototype.create=function(){this.insertAd||(this.insertAd=this.sdk.createInterstitialAd({adUnitId:this.adUnitID}),this.insertAd.onError(this.onError.bind(this)),this.insertAd.onClose(this.onClose.bind(this)))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseInsertAd":"BaseInsertAd"}],KSRecorder:[function(t,e,o){"use strict";cc._RF.push(e,"372b65v5Q1HMbVaWPWXpr41","KSRecorder"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRecorder"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSave=!0,e.callback=null,e.timeID=0,e}return __extends(e,t),e.prototype.init=function(){var t=this;this.recorder=this.sdk.getGameRecorder(),this.changeState(i.SDKState.close),this.recorder.on("start",function(e){console.log("\u5f55\u5c4f\u5f00\u59cb",e),t.changeState(i.SDKState.start)}),this.recorder.on("stop",function(e){t.videoPath=e.videoID,console.log("videoID is "+e.videoID),console.log("\u5f55\u5c4f\u7ed3\u675f",e),t.changeState(i.SDKState.stop),t.changeState(i.SDKState.close),t.callback&&(t.callback(1),t.callback=null)}),this.recorder.on("resume",function(){console.log("TTRecorder onResume")}),this.recorder.on("pause",function(){console.log("TTRecorder onPuase")}),this.recorder.on("error",function(){console.log("TTRecorder onPuase"),t.c.showToast("\u5f55\u5c4f\u5931\u8d25"),t.videoPath=null,t.changeState(i.SDKState.close),t.callback&&(t.callback(0),t.callback=null)})},e.prototype.start=function(t){var e=this;void 0===t&&(t=30),console.log(" ttRecoter start ",this.state==i.SDKState.start),this.state!=i.SDKState.start&&(this.recorder.start(),this.timeID=setTimeout(function(){console.log(" chang"),e.recorder.stop(),e.timeID=0},1e3*t))},e.prototype.stop=function(t,e){void 0===t&&(t=!0),this.state==i.SDKState.start?(this.timeID>0&&clearTimeout(this.timeID),this.callback=e,this.changeState(i.SDKState.loading),this.isSave=t,this.recorder.stop(),console.log(" ttRecoter stop ")):this.videoPath?e(1):e(0)},e.prototype.pause=function(){this.recorder.pause()},e.prototype.resume=function(){this.recorder.resume()},e.prototype.publish=function(t){var e=this.data;e.video=this.videoPath,e.callback=function(e){null!=e&&null!=e?(console.log("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(e)),t(i.ResultState.NO)):(console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"),t(i.ResultState.YES))},this.recorder.publishVideo(e)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRecorder":"BaseRecorder"}],KSRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"1308eLRcOBEOoLNID+1LLhD","KSRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRewardAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(t){console.log(" BaseRewardAd open state ",this.state),t&&(this.callback=t),this.reload(i.SDKState.open)},e.prototype.reload=function(t){this.logicState=t,this.setState(i.SDKState.loading),this.create(),this.show()},e.prototype.create=function(){this.rewardAd||(console.log(" \u4e0d\u652f\u6301\u591a\u4f8b"),this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)))},e.prototype.show=function(){this.rewardAd&&this.rewardAd.show().then(function(t){console.log("show rewarded video ad success, result is "+t),this.pause()}).catch(function(t){console.log("show rewarded video ad failed, error is "+t)})},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],KSShare:[function(t,e,o){"use strict";cc._RF.push(e,"2dc56PdlZdKYZMDls3AGNw4","KSShare"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseShare"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getData=function(t){return this.data[t]},e.prototype.share=function(t,e,o){var n=this.data[t];console.log(" share data ",n,o,"index ",t),o&&n.extra&&(n.extra.videoPath=o),n.success=function(){console.log("\u5206\u4eab\u6210\u529f"),e&&e(i.ResultState.YES)},n.fail=function(){console.log("\u5206\u4eab\u5931\u8d25"),e(i.ResultState.NO)},this.sdk.shareAppMessage(n)},e}(n.BaseShare);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseShare":"BaseShare"}],KwaiChannel:[function(t,e,o){"use strict";cc._RF.push(e,"625ccbkX5NNw5FGiNesLBEs","KwaiChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("./KwaiRewardAd"),a=t("../SDKConfig"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this.cfg[a.ADName.reward];if(t)for(var e=0;e<t.length;e++){var o=t[e];this.rewardAd.push(new i.default(this,o))}},e}(n.default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","./KwaiRewardAd":"KwaiRewardAd"}],KwaiRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"d57e1kCujxJsbtnd3plOiXD","KwaiRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.rewardAd||(this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)))},e}(t("../base/BaseRewardAd").default);o.default=n,cc._RF.pop()},{"../base/BaseRewardAd":"BaseRewardAd"}],LangManager:[function(t,e,o){"use strict";cc._RF.push(e,"405b9XumAxMo4W0U7mnNPqG","LangManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LANG_NAME=void 0;var n=t("../event"),i=function(){function t(){}return t.ZH="zh",t.EN="en",t}();o.LANG_NAME=i;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.langName=i.ZH,e.data=[],e}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this),this.ins},e.prototype.getLang=function(){return this.langName},e.prototype.clear=function(){this.data.length=0},e.prototype.addData=function(t){this.data.push(t)},e.prototype.setLang=function(t){this.langName!=t&&(this.langName=t,this.emit(n.GEvent.CHANGE_LANG))},e.prototype.getLocalString=function(t,e){if(this.data.length<=0)return console.warn("LangManager is not init localString langID  ",t,this.data),"";for(var o=0;o<this.data.length;o++){var n=this.getLocalStringByIndex(o,t,e);if(n)return n}return""},e.prototype.getData=function(t){return this.data[t]},e.prototype.getLocalStringByIndex=function(t,e,o){var n=this.data[t];if(!n)return console.warn("LangManager is not init localString langID  ",e,this.data),"";var i=n[e];if(i&&(i.indexOf("\\")>=0&&(i=i.replace(/\\n/g,"\n")),o))for(var a in o){var r=o[a];i=i.replace("%{"+a+"}",r)}return i},e}(n.EventDispatcher);o.default=a,cc._RF.pop()},{"../event":"event"}],LayaJsNativeBridge:[function(t,e,o){"use strict";cc._RF.push(e,"cb009WLLyBGRbROH6Mjtoe+","LayaJsNativeBridge"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.callStaticMethod=function(t,e,o,n){var i,a=window.conchConfig.getOS(),r=window.PlatformClass;if("Conch-ios"==a){if(!(i=r.createClass(t)))return void console.log(" callStatic Method class name ",t,e,o);n?i.callWithBack(function(t){var e=JSON.parse(t);console.log(e),n(e)},e+":",JSON.stringify(o)):i.call(e,o)}else if("Conch-android"==a){if(!(i=r.createClass(t)))return void console.log(" callStatic Method class name ",t,e,o);n?i.callWithBack(function(t){var e=JSON.parse(t);console.log(e),n(e)},e,JSON.stringify(o)):i.call(e,o)}},t}();o.default=n,cc._RF.pop()},{}],LayerMgr:[function(t,e,o){"use strict";cc._RF.push(e,"d8c9ff3GfhK7aqxgrdyb1xd","LayerMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delegate=new cc.Component.EventHandler,e.prefab=null,e.totalCount=0,e.contents=[],e}return __extends(e,t),e.prototype.start=function(){for(var t=this.getItem().childrenCount,e=0;e<t;e++){var o=new cc.Node,n=o.addComponent(cc.Widget);o.width=this.node.width,o.height=this.node.height,n.left=0,n.right=0,n.top=0,n.bottom=0,this.node.addChild(o),this.contents[e]=o}cc.log(" content count ",this.contents.length),this.init()},e.prototype.getItem=function(){return cc.instantiate(this.prefab)},e.prototype.init=function(){for(var t=0;t<this.totalCount;t++){var e=this.getItem();if(e){this.node.addChild(e);var o=e.childrenCount;if(cc.log(" count == ",o),o>0)for(var n=0,i=e.children;i.length>0;){var a=i[0];if(!a){cc.warn(" element is null ",n);break}a.parent=null,this.contents[n].addChild(a),n++}this.delegate.emit([this,t,e])}}},__decorate([a({type:cc.Component.EventHandler,displayName:"\u5185\u5bb9\u5904\u7406\u51fd\u6570"})],e.prototype,"delegate",void 0),__decorate([a(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([a],e.prototype,"totalCount",void 0),__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],LevelComp:[function(t,e,o){"use strict";cc._RF.push(e,"849415sH29PIqZS0eq1lw91","LevelComp"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../model/LevelMgr"),i=t("../../../cfw/view"),a=t("../../../config/Config"),r=t("../LevelC"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lvLabel=null,e}return __extends(e,t),e.prototype.start=function(){this.updateLv(!0),this.gEventProxy.on(a.EventName.UPDATE_LEVEL,this.updateLv,this)},e.prototype.updateLv=function(t){void 0===t&&(t=!1),this.lvLabel.string=""+n.default.instance().getLevel(),t||setTimeout(function(){r.default.instance().intoLayer()},1e3)},__decorate([l(cc.Label)],e.prototype,"lvLabel",void 0),__decorate([c],e)}(i.BaseItemView);o.default=u,cc._RF.pop()},{"../../../cfw/view":"view","../../../config/Config":"Config","../LevelC":"LevelC","../model/LevelMgr":"LevelMgr"}],LevelC:[function(t,e,o){"use strict";cc._RF.push(e,"75b87UcI29AhoIdARVgwXCV","LevelC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("./model/LevelMgr"),a=t("../../cfw/tools/ViewManager"),r=t("../../config/ModuleConfig"),s=t("../../config/UIConfig"),c=t("../../cfw/model"),l=t("../../sdk/channel-ts/CMgr"),u=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.intoLayer=function(){var t=i.default.instance().getCurLevel();t&&t.getState()==c.ItemState.CAN_GET&&a.default.pushUIView({path:"prefabs/LevelView",moduleID:r.ModuleID.PUBLIC,uiIndex:s.UIIndex.STACK,model:t,controller:this})},e.prototype.getReward=function(t,e){e>1?l.default.helper.showRewardAd(0,function(o){o&&i.default.instance().addItems(t,e)}):i.default.instance().addItems(t,e)},e}(n.BaseController);o.default=u,cc._RF.pop()},{"../../cfw/model":"model","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../sdk/channel-ts/CMgr":"CMgr","./model/LevelMgr":"LevelMgr"}],LevelItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"99486RhcX5AEIZZfSasMeto","LevelItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../public/bag/BagManager"),r=t("../../../config/ModuleConfig"),s=t("../../task/model/TaskMgr"),c=t("../../../config/Config");(function(t){t[t.items=0]="items",t[t.count=1]="count",t[t.state=2]="state"})(n=o.LevelItemModelEnum||(o.LevelItemModelEnum={}));var l=function(t){function e(){var o=t.call(this,e.CLASS_NAME)||this;return o.itemList=[],o}return __extends(e,t),e.prototype.getExp=function(){return s.default.instance().getTaskIndexData(this.getID()).length*c.EXP_NUM},e.prototype.getItems=function(){return this.getValue(n.items)},e.prototype.getCount=function(){return this.getValue(n.count)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t)},e.prototype.getItemList=function(){var t=this.getItems();if(t&&t.length&&0==this.itemList.length)for(var e=t.length/2,o=0;o<e;o++){var n=t[2*o],i=t[2*o+1];this.itemList.push(a.default.instance().getNewItemModel(n,i))}return this.itemList},e.prototype.getModuleID=function(){return r.ModuleID.PUBLIC},e.CLASS_NAME="LevelItemModel",e}(i.DataModel);o.default=l,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../config/Config":"Config","../../../config/ModuleConfig":"ModuleConfig","../../public/bag/BagManager":"BagManager","../../task/model/TaskMgr":"TaskMgr"}],LevelMgr:[function(t,e,o){"use strict";cc._RF.push(e,"ed68a4cJSlBzZ05H/CsWuiI","LevelMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./LevelItemModel"),r=t("../../../cfw/local"),s=t("../../../config/Config"),c=t("../../public/bag/BagManager"),l=t("../../dailytask/model/DailyTaskMgr"),u=t("../../../sdk/channel-ts/CMgr"),d=t("../../../config/UmengEventID"),p=t("../../../cfw/event"),h=t("../../../config/TestConfig"),f=t("../../../cfw/tools/Debug"),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){if(this.level=new r.LocalValue("level",1),this.levelItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),h.default.LEVEL_TEST)for(var t=this.getLevelItemModelList(),e=0;e<t.length;e++)for(var o=t[e],n=o.getItemList(),c=0;c<n.length;c++)n[c].getType()!=s.ItemType.FOOD&&f.default.warn(" ele ",o.getID())},e.prototype.checkLevel=function(t){e.instance().updateExp(t)&&p.GEvent.instance().emit(s.EventName.UPDATE_LEVEL)},e.prototype.getLevelItemModel=function(t){return this.levelItemModelMgr.getByID(t)},e.prototype.getLevelItemModelList=function(){return this.levelItemModelMgr.getList()},e.prototype.updateExp=function(t){if(!this.isMaxLevel()){var e=t.getNum(),o=this.getNextLevel(),i=this.getLevelItemModel(o),a=this.getCurLevel();if(i){var r=a.getExp();if(e>=r)return i.setState(n.ItemState.CAN_GET),c.default.instance().updateItemNum(s.ItemID.EXP,-r),this.level.updateValue(1),l.default.instance().updateTaskCount(s.DailyTaskID.LEVEL),u.default.helper.trackEvent(d.default.level,{level:i.getID()}),i}}return null},e.prototype.getTotalExp=function(){if(this.isMaxLevel()){var t=this.getLevel()-1;return this.getLevelItemModel(t).getExp()}return this.getCurLevel().getExp()},e.prototype.getNextLevel=function(){return this.getLevel()+1},e.prototype.isMaxLevel=function(){var t=this.getNextLevel(),e=this.getLevelItemModel(t);return null==e||null==e},e.prototype.getLevel=function(){return this.level.getInt()},e.prototype.getCurLevel=function(){return this.getLevelItemModel(this.getLevel())},e.prototype.getPersonNum=function(){var t=this.getLevelItemModel(this.getLevel());return t?t.getCount():1},e.prototype.addItems=function(t,e){if(void 0===e&&(e=1),t.getState()==n.ItemState.CAN_GET){var o=t.getItemList();if(o&&o.length>0)for(var i=0;i<e;i++)for(var a=0;a<o.length;a++){var r=o[a];c.default.instance().updateItem(r)}t.setState(n.ItemState.GOT)}},e.prototype.getRightModel=function(){for(var t=this.getLevelItemModelList(),e=this.getLevel(),o=0;o<t.length;o++){var i=t[o];if(!(i.getID()<e))return i.getID()==e?i:null;if(i.getState()==n.ItemState.CAN_GET)return i}return null},e}(n.BaseModel);o.default=g,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/tools/Debug":"Debug","../../../config/Config":"Config","../../../config/TestConfig":"TestConfig","../../../config/UmengEventID":"UmengEventID","../../../sdk/channel-ts/CMgr":"CMgr","../../dailytask/model/DailyTaskMgr":"DailyTaskMgr","../../public/bag/BagManager":"BagManager","./LevelItemModel":"LevelItemModel"}],LevelView:[function(t,e,o){"use strict";cc._RF.push(e,"1b7fee+l81HD7xpvwwu9+E/","LevelView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../task/view/TaskPropItemView"),a=t("../../../cocos/ccpool"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LayoutSprite=null,e.LayoutLayout=null,e.play_smallSprite=null,e.levelLabel=null,e.propItemPrefab=null,e.items=[],e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.levelLabel.string=this.model.getID();for(var e=this.model.getItemList(),o=0;o<e.length;o++){var n=e[o],r=a.CCPoolManager.instance().get("TaskPropItemView",function(){return cc.instantiate(t.propItemPrefab)}),s=r.getComponent(i.default);s&&(s.setModel(n),s.content(),this.items.push(s)),this.LayoutLayout.node.addChild(r)}},e.prototype.recover=function(){for(var t=0;t<this.items.length;t++)this.items[t].recover()},e.prototype.onDestroy=function(){},e.prototype.onplay_smallButtonClick=function(){this.recover(),this.hide(),this.controller.getReward(this.model,2)},e.prototype.onNormalButtonClick=function(){this.recover(),this.hide(),this.controller.getReward(this.model,1)},__decorate([c({type:cc.Sprite,displayName:"LayoutSprite"})],e.prototype,"LayoutSprite",void 0),__decorate([c({type:cc.Layout,displayName:"LayoutLayout"})],e.prototype,"LayoutLayout",void 0),__decorate([c({type:cc.Sprite,displayName:"play_smallSprite"})],e.prototype,"play_smallSprite",void 0),__decorate([c({type:cc.Label,displayName:"levelLabel"})],e.prototype,"levelLabel",void 0),__decorate([c(cc.Prefab)],e.prototype,"propItemPrefab",void 0),__decorate([s],e)}(n.BaseView);o.default=l,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../../task/view/TaskPropItemView":"TaskPropItemView"}],LoadingC:[function(t,e,o){"use strict";cc._RF.push(e,"177f2loNydMNYzBsxPclQYi","LoadingC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/mvc"),i=t("../../../cfw/res"),a=t("../../../cfw/module"),r=t("../tip/TipC"),s=t("../../../config/GameText"),c=t("../../../config/ModuleConfig"),l=t("../../../config/UIConfig"),u=t("../../../cfw/tools/ViewManager"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resList=[],e.async=!1,e.totalCount=1,e.errorList=[],e}return __extends(e,t),e.prototype.load=function(t){this.callback=t,this.reload()},e.prototype.reload=function(){this.reset(this.getLoadingList()),this.isAsync()?this.loadAsync():this.loadSync()},e.prototype.getTotalCount=function(){return this.totalCount},e.prototype.reset=function(t){this.loadingList=t,this.totalCount=t.length,this.emit(e.LOAD_RESET)},e.prototype.loadAsync=function(){for(var t=this,o=0,n=function(){var n=i.loadingList.shift();a.ModuleManager.loadRes(n.getModuleID(),n.getUrl(),n.getType(),function(i){o++,i&&t.errorList.push(n),0!=t.totalCount&&t.emit(e.LOAD_RES,o),o>=t.totalCount&&(t.errorList.length>0?r.default.instance().intoLayer(s.GameText.zh.RES_LOAD_ERROR,function(e){1==e&&(t.reset(t.errorList.slice(0)),t.errorList.length=0,t.loadAsync())}):t.loadingFinish())})},i=this;this.loadingList.length>0;)n()},e.prototype.getLeftSize=function(){return this.loadingList.length},e.prototype.loadSync=function(){var t=this;if(0!=this.totalCount&&this.emit(e.LOAD_RES,this.totalCount-this.loadingList.length),this.loadingList.length>0){var o=this.loadingList.shift();this.emit(e.LOAD_ITEM,o),a.ModuleManager.loadRes(o.getModuleID(),o.getUrl(),o.getType(),function(e){e&&(console.log("loadSync error ",e),console.log(" loadingitem.getModuleID() ",o.getModuleID()),console.log("loadingitem.getUrl()",o.getUrl()),t.errorList.push(o)),t.addRes(o),t.loadSync()})}else this.errorList.length>0?r.default.instance().intoLayer(s.GameText.zh.RES_LOAD_ERROR,function(e){1==e&&(t.reset(t.errorList.slice(0)),t.errorList.length=0,t.loadSync())}):this.loadingFinish()},e.prototype.isAsync=function(){return this.async},e.prototype.setAsync=function(t){this.async=t},e.prototype.intoLayer=function(t,e){void 0===e&&(e=l.UIIndex.ROOT),this.callback=t,u.default.pushUIToast({path:"loading/LoadingView",moduleID:c.ModuleID.RES,uiIndex:e,controller:this})},e.prototype.addItemList=function(t,e,o,n){for(var i=0;i<t.length;i++){var a=t[i];this.addItem(a,e,o,n)}},e.prototype.addItem=function(t,e,o,n){this.resList.push(new i.LoadResItem(t,e,o,n))},e.prototype.getLoadingList=function(){return this.resList.slice(0)},e.prototype.addRes=function(t){var e=t.getType(),o=t.getUrl();switch(e){case i.ResType.AssetBundle:var n=a.ModuleManager.getRes(t.getModuleID(),o,e);a.ModuleManager.setLoaderByBundle(o,n);break;case i.ResType.Json:var r=a.ModuleManager.getRes(t.getModuleID(),o,e);a.ModuleManager.addFile(r,o);break;case i.ResType.Prefab:}},e.prototype.loadingFinish=function(){if(this.isAsync())for(var t=0;t<this.resList.length;t++){var e=this.resList[t];this.addRes(e)}this.resList.length=0,this.callback&&this.callback()},e.LOAD_RES="LOAD_RES",e.LOAD_RESET="LOAD_RESET",e.LOAD_ITEM="LOAD_ITEM",e}(n.BaseController);o.default=d,cc._RF.pop()},{"../../../cfw/module":"module","../../../cfw/mvc":"mvc","../../../cfw/res":"res","../../../cfw/tools/ViewManager":"ViewManager","../../../config/GameText":"GameText","../../../config/ModuleConfig":"ModuleConfig","../../../config/UIConfig":"UIConfig","../tip/TipC":"TipC"}],LoadingView:[function(t,e,o){"use strict";cc._RF.push(e,"fdbe9YVc0lOIZGLt3FbK0pE","LoadingView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../cfw/view"),i=t("../LoadingC"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipLabel=null,e.progressBar=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.controller.on(i.default.LOAD_RES,this.updateProgress,this),this.controller.on(i.default.LOAD_RESET,this.reset,this),this.controller.on(i.default.LOAD_ITEM,this.loadItem,this),this.reset()},e.prototype.loadItem=function(t){this.tipLabel.string=t.getTip()},e.prototype.onEnable=function(){this.controller.reload()},e.prototype.onExit=function(){this.controller.off(i.default.LOAD_RES,this.updateProgress,this),this.controller.off(i.default.LOAD_RESET,this.reset,this),this.controller.off(i.default.LOAD_ITEM,this.loadItem,this)},e.prototype.reset=function(){this.progressBar&&(this.progressBar.progress=0)},e.prototype.updateProgress=function(t){this.progressBar&&(this.progressBar.progress=t/this.controller.getTotalCount())},__decorate([s(cc.Label)],e.prototype,"tipLabel",void 0),__decorate([s(cc.ProgressBar)],e.prototype,"progressBar",void 0),__decorate([r],e)}(n.BaseView);o.default=c,cc._RF.pop()},{"../../../../cfw/view":"view","../LoadingC":"LoadingC"}],LobbyC:[function(t,e,o){"use strict";cc._RF.push(e,"66de73uZU9EMYqKPhjEWUNk","LobbyC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("../../cfw/module"),c=t("../../cfw/res"),l=t("../public/loading/LoadingC"),u=t("../item/ItemC"),d=t("../scene/SceneC"),p=t("../game/GameC"),h=t("../task/TaskC"),f=t("../task/model/TaskMgr"),g=t("../level/LevelC"),y=t("../start/StartC"),m=t("../../cfw/model"),v=t("../sound/model/SoundMgr"),_=t("../../config/Config"),S=t("../user/User"),I=t("../activity/ActivityC"),M=t("../weekly/WeeklyC"),w=t("../../extention/gevent/GameEventAdapter"),C=t("../dailytask/model/DailyTaskMgr"),b=t("../activity/model/ActivityMgr"),T=t("../../cfw/tools/LangManager"),A=t("../scene/model/SceneMgr"),D=t("../../sdk/agreement/PrivacyC"),E=t("../../sdk/channel-ts/CMgr"),N=t("../../sdk/sdk/SDKManager"),B=t("../../config/UmengEventID"),k=t("../../cfw/tools/Debug"),R=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.getCurID=function(){return A.default.instance().getCurID()},e.prototype.intoLayer=function(){s.BundleManager.instance().hasBundle(a.ModuleID.PUBLIC)?this.showView():(l.default.instance().addItem("data/game_info",c.ResType.Json,a.ModuleID.RES,"\u52a0\u8f7d\u6e38\u620f\u914d\u7f6e\u4fe1\u606f"),l.default.instance().addItem("data/activity_info",c.ResType.Json,a.ModuleID.RES,"\u52a0\u8f7d\u6d3b\u52a8\u914d\u7f6e\u4fe1\u606f"),l.default.instance().addItem("data/game_lang_zh",c.ResType.Json,a.ModuleID.RES,"\u52a0\u8f7d\u6587\u672c\u914d\u7f6e\u4fe1\u606f"),l.default.instance().addItem(a.ModuleID.PUBLIC,c.ResType.AssetBundle,a.ModuleID.RES,"\u52a0\u8f7d\u516c\u5171\u5206\u5305"),l.default.instance().addItem(a.ModuleID.CRAZY_CLICK,c.ResType.AssetBundle,a.ModuleID.RES,"\u52a0\u8f7d\u7838\u86cb\u5206\u5305"),l.default.instance().addItem(a.ModuleID.GAME,c.ResType.AssetBundle,a.ModuleID.RES,"\u52a0\u8f7d\u6e38\u620f\u5206\u5305"),l.default.instance().addItem(a.ModuleID.AUDIO,c.ResType.AssetBundle,a.ModuleID.RES,"\u52a0\u8f7d\u97f3\u9891\u5206\u5305"),y.default.instance().isState(m.ItemState.NOT_GET)&&l.default.instance().addItem(a.ModuleID.START,c.ResType.AssetBundle,a.ModuleID.RES,"\u52a0\u8f7d\u521d\u59cb\u5206\u5305"),console.log("SDKManager.getChannel().hasNativeAd() ",N.default.getChannel().hasNativeAd()),N.default.getChannel().hasNativeAd()&&l.default.instance().addItem(a.ModuleID.nativeAd,c.ResType.AssetBundle,a.ModuleID.RES,"\u52a0\u8f7dnativeAd\u5206\u5305"),E.default.helper.hasInstallApp()&&l.default.instance().addItem(a.ModuleID.install,c.ResType.AssetBundle,a.ModuleID.RES,"\u52a0\u8f7dinstall\u5206\u5305"),l.default.instance().addItem("public/public",c.ResType.SpriteAtlas,a.ModuleID.PUBLIC,"\u52a0\u8f7d\u5171\u7528\u5927\u56fe"),l.default.instance().addItem("texture/props",c.ResType.SpriteAtlas,a.ModuleID.GAME,"\u52a0\u8f7d\u6e38\u620f\u5927\u56fe"),l.default.instance().addItem("bg/person",c.ResType.SpriteAtlas,a.ModuleID.GAME,"\u52a0\u8f7d\u89d2\u8272\u5934\u50cf\u5927\u56fe"),l.default.instance().intoLayer(function(){var t=s.ModuleManager.dataManager.get("game_lang_zh").getData();T.default.instance().addData(t),E.default.helper.hasAgreement()?D.default.instance().intoLayer(function(){y.default.instance().intoLayer()}):y.default.instance().intoLayer()}))},e.prototype.firstShow=function(){var t=k.default.timeEnd();E.default.helper.trackEvent(B.default.enter_lobby,{time:t}),f.default.instance(),this.showView(),u.default.instance().intoLayer(),g.default.instance().intoLayer(),E.default.helper.sheduleGame()},e.prototype.showView=function(){i.default.pushUIView({path:"prefabs/LobbyView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.ROOT,controller:this,func:function(){}})},e.prototype.init=function(){setTimeout(function(){v.default.instance().getMusicFlag()&&v.default.instance().playMusic(_.SoundID.MusicBg),S.default.instance().getLoginCount()>1&&(w.default.instance().isOpen()||(I.default.instance().showOfflineView(),E.default.helper.firstIntoLobby())),w.default.instance().isOpen()||M.default.instance().intoLayer(),C.default.instance(),b.default.instance()},500)},e.prototype.intoTask=function(){h.default.instance().intoLayer()},e.prototype.intoGame=function(){p.default.instance().intoLayer()},e.prototype.addScene=function(t,e,o){d.default.instance().intoLayer(t,e,o)},e.prototype.leftScene=function(){A.default.instance().left()},e.prototype.rightScene=function(){A.default.instance().right()},e}(n.BaseController);o.default=R,cc._RF.pop()},{"../../cfw/model":"model","../../cfw/module":"module","../../cfw/mvc":"mvc","../../cfw/res":"res","../../cfw/tools/Debug":"Debug","../../cfw/tools/LangManager":"LangManager","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../sdk/agreement/PrivacyC":"PrivacyC","../../sdk/channel-ts/CMgr":"CMgr","../../sdk/sdk/SDKManager":"SDKManager","../activity/ActivityC":"ActivityC","../activity/model/ActivityMgr":"ActivityMgr","../dailytask/model/DailyTaskMgr":"DailyTaskMgr","../game/GameC":"GameC","../item/ItemC":"ItemC","../level/LevelC":"LevelC","../public/loading/LoadingC":"LoadingC","../scene/SceneC":"SceneC","../scene/model/SceneMgr":"SceneMgr","../sound/model/SoundMgr":"SoundMgr","../start/StartC":"StartC","../task/TaskC":"TaskC","../task/model/TaskMgr":"TaskMgr","../user/User":"User","../weekly/WeeklyC":"WeeklyC"}],LobbyView:[function(t,e,o){"use strict";cc._RF.push(e,"03f79qD+4pEL7UD46/lWXUs","LobbyView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../extention/guide/GuideMgr"),a=t("../../../config/Config"),r=t("../../../cfw/widget/ButtonDuration"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentNode=null,e.playBtnSprite=null,e.playBtnButton=null,e.taskBtnSprite=null,e.taskBtnButton=null,e.leftD=new r.default,e.rightD=new r.default,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.controller.addScene(this.contentNode,this.controller.getCurID(),function(){t.controller.init()}),this.gEventProxy.on(a.EventName.CLOSE_GAME_VIEW,this.newBuildOpen,this)},e.prototype.newBuildOpen=function(t){t.getType()!=this.controller.getCurID()&&this.controller.addScene(this.contentNode,t.getType())},e.prototype.changeContent=function(){var t=this.contentNode.children[0];t&&t.destroy(),this.controller.addScene(this.contentNode,this.controller.getCurID())},e.prototype.onDestroy=function(){},e.prototype.onplayBtnButtonClick=function(){i.default.instance().notify("LobbyView_onplayBtnButtonClick"),this.controller.intoGame()},e.prototype.ontaskBtnButtonClick=function(){this.controller.intoTask()},e.prototype.onLeftClick=function(){this.leftD.canClick()&&(this.controller.leftScene(),this.changeContent())},e.prototype.onRightClick=function(){this.rightD.canClick()&&(this.controller.rightScene(),this.changeContent())},__decorate([l({type:cc.Node,displayName:"contentNode"})],e.prototype,"contentNode",void 0),__decorate([l({type:cc.Sprite,displayName:"playBtnSprite"})],e.prototype,"playBtnSprite",void 0),__decorate([l({type:cc.Button,displayName:"playBtnButton"})],e.prototype,"playBtnButton",void 0),__decorate([l({type:cc.Sprite,displayName:"taskBtnSprite"})],e.prototype,"taskBtnSprite",void 0),__decorate([l({type:cc.Button,displayName:"taskBtnButton"})],e.prototype,"taskBtnButton",void 0),__decorate([c],e)}(n.BaseView);o.default=u,cc._RF.pop()},{"../../../cfw/view":"view","../../../cfw/widget/ButtonDuration":"ButtonDuration","../../../config/Config":"Config","../../../extention/guide/GuideMgr":"GuideMgr"}],LocalRW:[function(t,e,o){"use strict";cc._RF.push(e,"87865B+fKNAYZhnqRkd/yN7","LocalRW"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../storage"),i=t("./StorageHelper"),a=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.remove=function(t){i.default.remove(t)},e.prototype.getLength=function(){return i.default.getLength()},e.prototype.read=function(t){try{var e=i.default.getJsonBase64(t);this.emit(t,e)}catch(o){this.emit(t,null)}},e.prototype.write=function(t,e){i.default.setJsonBase64(t,e)},e}(n.StorageRW);o.default=a,cc._RF.pop()},{"../storage":"storage","./StorageHelper":"StorageHelper"}],LoginC:[function(t,e,o){"use strict";cc._RF.push(e,"7fc04cBI99FOZTgR8NDtuIl","LoginC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){i.default.pushUIToast({path:"loading/LoginView",moduleID:a.ModuleID.RES,uiIndex:r.UIIndex.ROOT,controller:this})},e}(n.BaseController);o.default=s,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig"}],LoginView:[function(t,e,o){"use strict";cc._RF.push(e,"47073Xm6ilHzrJLe2r8M1F4","LoginView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("../lobby/LobbyC"),a=t("../../sdk/sdk/SDKManager"),r=t("../../cfw/storage"),s=t("../../sdk/agreement/PrivacyC"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){s.default.instance().intoLayer(function(){a.default.getChannel().showUserAgreement(function(t){console.log("NativeTest showUserAgreement s ",t),a.default.getChannel().initAd()})})},e.prototype.onButtonClick=function(){a.default.getChannel().login(r.BaseStorage.LOCAL_NAME,function(t){t&&i.default.instance().intoLayer()})},__decorate([l],e)}(n.BaseView));o.default=u,cc._RF.pop()},{"../../cfw/storage":"storage","../../cfw/view":"view","../../sdk/agreement/PrivacyC":"PrivacyC","../../sdk/sdk/SDKManager":"SDKManager","../lobby/LobbyC":"LobbyC"}],LuckySpinButton:[function(t,e,o){"use strict";cc._RF.push(e,"f801b4GxxRCvoPlkXunJROz","LuckySpinButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../LuckySpinC"),i=t("../../../cfw/view"),a=t("../model/LuckyspinMgr"),r=t("../../public/tip/TipC"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=t.call(this)||this;return e.backBtn=null,e}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onEnter=function(){a.default.instance()},e.prototype.onBackBtnClick=function(){a.default.instance().isOpen()?n.default.instance().intoLayer():r.default.instance().showToast(a.default.instance().getTip())},__decorate([l(cc.Button)],e.prototype,"backBtn",void 0),__decorate([c],e)}(i.BaseItemView);o.default=u,cc._RF.pop()},{"../../../cfw/view":"view","../../public/tip/TipC":"TipC","../LuckySpinC":"LuckySpinC","../model/LuckyspinMgr":"LuckyspinMgr"}],LuckySpinC:[function(t,e,o){"use strict";cc._RF.push(e,"90d88HLPgxHGqr1g711/IMv","LuckySpinC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./view/LuckySpinView"),c=t("./model/LuckyspinMgr"),l=t("../../sdk/channel-ts/CMgr"),u=t("../../config/UmengEventID"),d=t("../../extention/redtip/RedTipMgr"),p=t("../../config/Config"),h=t("../../engine/EngineHelper"),f=t("../public/bag/BagManager"),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){c.default.instance().isOpen()&&i.default.pushUIView({path:"luckyspin/LuckySpinView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,className:s.default,model:c.default.instance(),controller:this})},e.prototype.addItem=function(t){var e=c.default.instance();e.updateCount(),f.default.instance().updateItem(t.getItem(),h.default.getMidPos()),e.needAd()&&d.default.instance().removeRedTip(p.RedTipType.LUCKY_SPIN)},e.prototype.onOkClick=function(t){l.default.helper.trackEvent(u.default.luckyspin_count),t.needAd()?l.default.helper.showRewardAd(0,function(e){e&&(t.emit(c.default.NOTIFY_RESULT),l.default.helper.trackEvent(u.default.luckyspin_ad_count))}):t.emit(c.default.NOTIFY_RESULT)},e}(n.BaseController);o.default=g,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../engine/EngineHelper":"EngineHelper","../../extention/redtip/RedTipMgr":"RedTipMgr","../../sdk/channel-ts/CMgr":"CMgr","../public/bag/BagManager":"BagManager","./model/LuckyspinMgr":"LuckyspinMgr","./view/LuckySpinView":"LuckySpinView"}],LuckySpinItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"ab91eRrcAZDpJdBypNQi8d4","LuckySpinItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.LuckySpinItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../game/model/FoodMgr");(function(t){t[t.reward=0]="reward",t[t.weight=1]="weight",t[t.count=2]="count"})(n=o.LuckySpinItemModelEnum||(o.LuckySpinItemModelEnum={}));var r=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getReward=function(){return this.getValue(n.reward)},e.prototype.getWeight=function(){return this.getValue(n.weight)},e.prototype.clear=function(){this.item=null},e.prototype.getItem=function(){if(!this.item){var t=this.getReward();this.item=a.default.instance().getItemByRareList(t)}return this.item},e.prototype.getCount=function(){return this.getValue(n.count)},e.CLASS_NAME="LuckySpinItemModel",e}(i.DataModel);o.default=r,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../game/model/FoodMgr":"FoodMgr"}],LuckySpinView:[function(t,e,o){"use strict";cc._RF.push(e,"a35476RQfpN+4a0eLFpQ8g5","LuckySpinView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../model/LuckyspinMgr"),a=t("../../../engine/engine"),r=t("../../item/view/ItemView"),s=t("../../../cocos/lang/UIText"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=t.call(this)||this;return e.backBtn=null,e.content=null,e.okBtn=null,e.angle=null,e.adImg=null,e.itemPrefab=null,e.itemPos=[],e.tip=null,e.state=0,e.pos=0,e}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onEnter=function(){this.model.reset();for(var t=this.model.getLuckySpinItemModelList(),e=0;e<t.length;e++){var o=t[e],n=o.getItem(),i=a.engine.instantiate(this.itemPrefab);i.anchorX=.5,i.anchorY=.5,this.itemPos[e].addChild(i);var s=i.getComponent(r.default);s&&(s.setModel(n),s.draw(),s.label.string=o.getWeight()+"%")}this.updateButton();var c=a.engine.instantiate(this.itemPrefab);this.node.addChild(c),this.rewardItem=c.getComponent(r.default),c.active=!1},e.prototype.addListener=function(){this.eventProxy.on(i.default.NOTIFY_RESULT,this.notifyResult,this)},e.prototype.notifyResult=function(){var t=this,e=this.model.getResult();e&&(this.state=1,this.content.angle=0,cc.tween(this.content).to(3,{angle:2160}).call(function(){t.spinFinish(e)}).start())},e.prototype.spinFinish=function(t){var e=this,o=t.getIndex()+this.itemPos.length,n=360/this.itemPos.length;cc.tween(this.content).to(1,{angle:this.content.angle+n*o}).call(function(){e.spinOver(t)}).start()},e.prototype.spinOver=function(t){this.state=0,this.controller.addItem(t),this.updateButton(),this.showRewardItem(t.getItem())},e.prototype.showRewardItem=function(t){var e=this;this.rewardItem.setModel(t),this.rewardItem.draw(),this.rewardItem.node.active=!0,this.rewardItem.node.scale=0,cc.tween(this.rewardItem.node).to(.5,{scale:2}).delay(1).to(.2,{scale:2.1}).to(.5,{scale:0}).call(function(){e.rewardItem.node.active=!1}).start()},e.prototype.updateButton=function(){var t=this.model.needAd();console.log("updateState flag ",t),this.adImg.node.active=t;var e=this.model.getNextModel();if(e){var o=e.getItem(),n=e.getCount()-this.model.getCount();this.tip.node.active=!0,this.tip.string=s.default.instance().getText(54,{num:n,name:o.getName()})}else this.tip.node.active=!1},e.prototype.onBackBtnClick=function(){this.hide()},e.prototype.onBtnClick=function(){0==this.state&&this.controller.onOkClick(this.model)},__decorate([u(cc.Button)],e.prototype,"backBtn",void 0),__decorate([u(cc.Node)],e.prototype,"content",void 0),__decorate([u(cc.Button)],e.prototype,"okBtn",void 0),__decorate([u(cc.Sprite)],e.prototype,"angle",void 0),__decorate([u(cc.Sprite)],e.prototype,"adImg",void 0),__decorate([u(cc.Prefab)],e.prototype,"itemPrefab",void 0),__decorate([u([cc.Node])],e.prototype,"itemPos",void 0),__decorate([u(cc.Label)],e.prototype,"tip",void 0),__decorate([l],e)}(n.BaseView);o.default=d,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/lang/UIText":"UIText","../../../engine/engine":"engine","../../item/view/ItemView":"ItemView","../model/LuckyspinMgr":"LuckyspinMgr"}],LuckyspinMgr:[function(t,e,o){"use strict";cc._RF.push(e,"2a6f9/jl5tJbYBPOd/vzPCI","LuckyspinMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./LuckySpinItemModel"),r=t("../../../cfw/local"),s=t("../../user/User"),c=t("../../../cfw/tools/Utils"),l=t("../../../extention/redtip/RedTipMgr"),u=t("../../../config/Config"),d=t("../../../config/TestConfig"),p=t("../../../cfw/tools/Debug"),h=t("../../level/model/LevelMgr"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.luckySpinItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){if(this.count=new r.LocalValue("LuckyspinMgrcount",0),this.dayNum=new r.LocalValue("LuckyspinMgrdayNum",0),this.dayNum.getInt()!=s.default.instance().getLoginDayNum()&&(this.count.setValue(0),this.dayNum.setValue(s.default.instance().getLoginDayNum())),this.luckySpinItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),!this.needAd()&&this.isOpen()&&l.default.instance().addRedTip(u.RedTipType.LUCKY_SPIN),d.default.LUCK_SPIN)for(var t=this.getLuckySpinItemModelList(),e=0;e<t.length;e++){var o=t[e].getReward(),n=o.length%2;console.log("LuckyspinMgr data.length ",o.length,n),0!=n&&cc.error(" count is error ",e)}},e.prototype.isOpen=function(){return h.default.instance().getLevel()>=u.LUCKY_SPIN_OPEN_LEVEL},e.prototype.getTip=function(){return u.LUCKY_SPIN_OPEN_LEVEL+"\u7ea7\u4e4b\u540e\u5f00\u542f"},e.prototype.reset=function(){for(var t=this.getLuckySpinItemModelList(),e=0;e<t.length;e++)t[e].clear()},e.prototype.getLuckySpinItemModel=function(t){return this.luckySpinItemModelMgr.getByID(t)},e.prototype.getLuckySpinItemModelList=function(){return this.luckySpinItemModelMgr.getList()},e.prototype.needAd=function(){return this.count.getInt()>=2},e.prototype.updateCount=function(){this.count.updateValue(1)},e.prototype.getCount=function(){return this.count.getInt()},e.prototype.getBitResult=function(){p.default.log("this.getCount()  ",this.getCount());for(var t=this.getLuckySpinItemModelList(),e=0;e<t.length;e++){var o=t[e];if(o.getCount()>0&&this.getCount()==o.getCount())return o}return null},e.prototype.getResult=function(){var t=this.getBitResult();if(t)return t;for(var e=0,o=this.getLuckySpinItemModelList(),n=0;n<o.length;n++){var i=o[n];if(e+=i.getWeight(),c.default.random(0,100)<=e)return p.default.log(" getReuslt index ",n),i}return null},e.prototype.getNextModel=function(){for(var t=this.getCount(),e=this.getLuckySpinItemModelList(),o=0;o<e.length;o++){var n=e[o],i=n.getCount();if(i>0&&t<i)return n}return null},e.NOTIFY_RESULT="LuckyspinMgr_NotifyResult",e}(n.BaseModel);o.default=f,cc._RF.pop()},{"../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/tools/Debug":"Debug","../../../cfw/tools/Utils":"Utils","../../../config/Config":"Config","../../../config/TestConfig":"TestConfig","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../level/model/LevelMgr":"LevelMgr","../../user/User":"User","./LuckySpinItemModel":"LuckySpinItemModel"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"cf377HUIshE5YoqplRaveJS","Main"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./cfw/module"),i=t("./config/ModuleConfig"),a=t("./cfw/ui"),r=t("./config/UIConfig"),s=t("./sdk/sdk/SDKManager"),c=t("./sdk/sdk/SDKConfig"),l=t("./sdk/SDKData"),u=t("./engine/engine"),d=t("./cfw/time"),p=t("./cfw/storage"),h=t("./cfw/tools/LangManager"),f=t("./config/GameText"),g=t("./logic/user/User"),y=t("./sdk/channel-ts/CMgr"),m=t("./config/UmengEventID"),v=t("./cfw/tools/Debug"),_=cc._decorator,S=_.ccclass,I=_.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameInfo=[],e.content=null,e.loading=null,e}return __extends(e,t),e.prototype.onLoad=function(){u.engine.resizeUI(),p.BaseStorage.LOCAL_NAME="LoveAndHouse",g.default.instance().login(),s.default.init(c.ChannelID.DEV,l.SDKData),s.default.getChannel().setVisibleSize(cc.view.getVisibleSize()),y.default.setHelper(s.default.getChannel().channelID),v.default.log("Main initss",20),n.ModuleManager.init(p.BaseStorage.LOCAL_NAME,i.ModuleConfig);for(var t=0;t<this.gameInfo.length;t++){var e=this.gameInfo[t];n.ModuleManager.addFile(e)}h.default.instance().addData(f.GameText.zh),a.default.instance().init(this.content,r.UI_CONFIG),y.default.helper.startGame(),y.default.helper.trackEvent(m.default.enter_game),v.default.timeStart(),console.log("test000012222")},e.prototype.update=function(t){d.TimeManager.instance().update(t)},e.prototype.on=function(t,e){console.log("on",e),console.log(t.caller===this.update),console.log("22"),console.log(t)},e.prototype.off=function(t,e){console.log("off",e),console.log(t)},__decorate([I([cc.JsonAsset])],e.prototype,"gameInfo",void 0),__decorate([I(cc.Node)],e.prototype,"content",void 0),__decorate([I(cc.Prefab)],e.prototype,"loading",void 0),__decorate([S],e)}(cc.Component);o.default=M,cc._RF.pop()},{"./cfw/module":"module","./cfw/storage":"storage","./cfw/time":"time","./cfw/tools/Debug":"Debug","./cfw/tools/LangManager":"LangManager","./cfw/ui":"ui","./config/GameText":"GameText","./config/ModuleConfig":"ModuleConfig","./config/UIConfig":"UIConfig","./config/UmengEventID":"UmengEventID","./engine/engine":"engine","./logic/user/User":"User","./sdk/SDKData":"SDKData","./sdk/channel-ts/CMgr":"CMgr","./sdk/sdk/SDKConfig":"SDKConfig","./sdk/sdk/SDKManager":"SDKManager"}],MarketC:[function(t,e,o){"use strict";cc._RF.push(e,"7e3d16iVRRDD78yJZbeIBtV","MarketC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../config/UIConfig"),a=t("./model/MarketMgr"),r=t("../../config/ModuleConfig"),s=t("../../cfw/tools/ViewManager"),c=t("../public/bag/BagManager"),l=t("../../config/Config"),u=t("../public/tip/TipC"),d=t("../dailytask/model/DailyTaskMgr"),p=t("../../sdk/channel-ts/CMgr"),h=t("../../config/UmengEventID"),f=t("../../extention/gevent/GameEventAdapter"),g=t("../weekly/WeeklyC"),y=t("../../cfw/tools/Debug"),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){s.default.pushUIView({path:"market/prefab/MarketView",moduleID:r.ModuleID.PUBLIC,uiIndex:i.UIIndex.STACK,model:a.default.instance(),controller:this})},e.prototype.buyItem=function(t,e){var o=t.getCount();if(o>0||-1==o){var n=t.getCostItem(),i=t.getItemList();if(n){var a=n.getID();if(y.default.log("costItem id ",a),a==l.ItemID.AD)p.default.helper.showRewardAd(0,function(n){if(n&&(t.setCostNum(t.getCostNum()-1),0==t.getCostNum())){t.resetCostNum(),o>0&&t.setCount(o-1);for(var a=0;a<i.length;a++){var r=i[a];c.default.instance().updateItem(r,e)}11==t.getID()&&d.default.instance().updateTaskCount(l.DailyTaskID.GIFT),p.default.helper.trackEvent(h.default.market_reawrd,{id:t.getID()})}});else if(a==l.ItemID.SHARE)p.default.helper.showShare(0,function(n){if(n&&(t.setCostNum(t.getCostNum()-1),0==t.getCostNum())){t.resetCostNum(),o>0&&t.setCount(o-1);for(var a=0;a<i.length;a++){var r=i[a];c.default.instance().updateItem(r,e)}p.default.helper.trackEvent(h.default.market_reawrd_by_share,{id:t.getID()})}});else if(a==l.ItemID.SCRATCH_CARD){var r=t.getCostNum();if(y.default.log(" num ",r,n.getID(),t.getCostNum()),c.default.instance().isEnough(a,r)){c.default.instance().updateItemNum(a,-r);for(var s=0;s<i.length;s++){var f=i[s];c.default.instance().updateItem(f,e)}o>0&&t.setCount(o-1)}else u.default.instance().showToast(n.getName()+"\u4e0d\u8db3")}else if(r=t.getNum(),c.default.instance().isEnough(a,r)){for(c.default.instance().updateItemNum(a,-r),s=0;s<i.length;s++)f=i[s],c.default.instance().updateItem(f,e);o>0&&t.setCount(o-1),p.default.helper.trackEvent(h.default.buy_item,{itemID:t.getID()})}else u.default.instance().showToast(n.getName()+"\u4e0d\u8db3")}else for(o>0&&t.setCount(o-1),s=0;s<i.length;s++)f=i[s],c.default.instance().updateItem(f,e)}},e.prototype.refreshItem=function(){var t=a.default.instance().getMarketTypeModel(1),e=t.getCost();c.default.instance().isEnough(l.ItemID.TOKEN,e)?(c.default.instance().updateItemNum(l.ItemID.TOKEN,-e),t.setFoodList(),t.resetCount()):u.default.instance().showToast("\u94bb\u77f3\u4e0d\u8db3\uff01")},e.prototype.back=function(){f.default.instance().isOpen()||g.default.instance().intoLayer()},e}(n.BaseController);o.default=m,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/Debug":"Debug","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../sdk/channel-ts/CMgr":"CMgr","../dailytask/model/DailyTaskMgr":"DailyTaskMgr","../public/bag/BagManager":"BagManager","../public/tip/TipC":"TipC","../weekly/WeeklyC":"WeeklyC","./model/MarketMgr":"MarketMgr"}],MarketFoodItemView:[function(t,e,o){"use strict";cc._RF.push(e,"183cc5RaOdDgbbXpERrhR8+","MarketFoodItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconSprite=null,e.numLabel=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.content=function(){this.setSpriteAtlas(this.iconSprite,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame()),this.numLabel.string=""+this.model.getNum(!1)},e.prototype.onDestroy=function(){},e.prototype.onButtonClick=function(){},__decorate([r({type:cc.Sprite,displayName:"iconSprite"})],e.prototype,"iconSprite",void 0),__decorate([r({type:cc.Label,displayName:"numLabel"})],e.prototype,"numLabel",void 0),__decorate([a],e)}(n.BaseItemView);o.default=s,cc._RF.pop()},{"../../../cfw/view":"view"}],MarketItemModel2:[function(t,e,o){"use strict";cc._RF.push(e,"a0d2dSEVoBJC4NBXXU0+gWr","MarketItemModel2"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.CLASS_NAME="MarketItemModel2",e}(t("./BaseMarketItemModel").default);o.default=n,cc._RF.pop()},{"./BaseMarketItemModel":"BaseMarketItemModel"}],MarketItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"d2cc5QK1gZHOoRgATSpBlia","MarketItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.CLASS_NAME="MarketItemModel",e}(t("./BaseMarketItemModel").default);o.default=n,cc._RF.pop()},{"./BaseMarketItemModel":"BaseMarketItemModel"}],MarketItemView0:[function(t,e,o){"use strict";cc._RF.push(e,"bbd7318BFxCEaVmOkixMFoN","MarketItemView0"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../config/Config"),i=t("./MarketItemView"),a=t("../../game/GameC"),r=t("../../../extention/guide/GuidePoint"),s=t("../../../extention/guide/GuideMgr"),c=t("../../../cocos/lang/UIText"),l=t("../../../extention/redtip/RedTipPoint"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.IconSprite=null,e.lockSprite=null,e.playBtnSprite=null,e.playBtnButton=null,e.costIconSprite=null,e.costNumLabel=null,e.leftNumLabel=null,e.tipBtnSprite=null,e.tipBtnButton=null,e.gPoint=null,e.tipPoint=null,e}return __extends(e,t),e.prototype.addListener=function(){this.eventProxy.on(n.EventName.CHANGE_COUNT,this.updateCount,this),this.eventProxy.on(n.EventName.UPDATE_FOOD,this.updateFood,this)},e.prototype.updateFood=function(){var t=this.model.getItemList()[0];this.setSpriteAtlas(this.IconSprite,t.getModuleID(),t.getIcon(),t.getSpriteFrame());for(var e=this.tipPoint.getComponents(l.default),o=0;o<e.length;o++){var n=e[o];n.id=t.getID(),n.upateState()}},e.prototype.updateCount=function(){0==this.model.getType()?(this.leftNumLabel.node.active=!1,this.model.getID()==this.gPoint.itemID&&this.gPoint.init()):this.leftNumLabel.string=c.default.instance().getText(2,{num:this.model.getCount()}),this.model.getCount()>0?(this.playBtnButton.node.active=!0,this.lockSprite.node.active=!1):(this.playBtnButton.node.active=!1,this.lockSprite.node.active=!0)},e.prototype.updateCost=function(){var t=this.model.getCostItem();t?(this.setSpriteAtlas(this.costIconSprite,t.getModuleID(),t.getIcon(),t.getSpriteFrame()),this.costNumLabel.string=""+this.model.getNum()):(this.costIconSprite.node.active=!1,this.costNumLabel.string=c.default.instance().getText(1))},e.prototype.onplayBtnButtonClick=function(){s.default.instance().notify("onplayBtnClick");var t=this.node.parent.convertToWorldSpaceAR(this.node.getPosition());this.controller.buyItem(this.model,t)},e.prototype.ontipBtnButtonClick=function(){var t=this.model.getItemList(),e=t[t.length-1];a.default.instance().showFoodInfo(e)},__decorate([p({type:cc.Sprite,displayName:"IconSprite"})],e.prototype,"IconSprite",void 0),__decorate([p({type:cc.Sprite,displayName:"lockSprite"})],e.prototype,"lockSprite",void 0),__decorate([p({type:cc.Sprite,displayName:"playBtnSprite"})],e.prototype,"playBtnSprite",void 0),__decorate([p({type:cc.Button,displayName:"playBtnButton"})],e.prototype,"playBtnButton",void 0),__decorate([p({type:cc.Sprite,displayName:"costIconSprite"})],e.prototype,"costIconSprite",void 0),__decorate([p({type:cc.Label,displayName:"costNumLabel"})],e.prototype,"costNumLabel",void 0),__decorate([p({type:cc.Label,displayName:"leftNumLabel"})],e.prototype,"leftNumLabel",void 0),__decorate([p({type:cc.Sprite,displayName:"tipBtnSprite"})],e.prototype,"tipBtnSprite",void 0),__decorate([p({type:cc.Button,displayName:"tipBtnButton"})],e.prototype,"tipBtnButton",void 0),__decorate([p(r.default)],e.prototype,"gPoint",void 0),__decorate([p(cc.Node)],e.prototype,"tipPoint",void 0),__decorate([d],e)}(i.default);o.default=h,cc._RF.pop()},{"../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","../../../extention/guide/GuideMgr":"GuideMgr","../../../extention/guide/GuidePoint":"GuidePoint","../../../extention/redtip/RedTipPoint":"RedTipPoint","../../game/GameC":"GameC","./MarketItemView":"MarketItemView"}],MarketItemView1:[function(t,e,o){"use strict";cc._RF.push(e,"8f037IOxSBPxb1THiAkGNPa","MarketItemView1"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./MarketFoodItemView"),i=t("../../../config/Config"),a=t("./MarketItemView"),r=t("../../game/GameC"),s=t("../model/BaseMarketItemModel"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconSprite=null,e.LayoutSprite=null,e.LayoutLayout=null,e.itemPrefab=null,e.lockSprite=null,e.playBtnSprite=null,e.costNumLabel=null,e.nameLabel=null,e.costIcon=null,e}return __extends(e,t),e.prototype.updateFood=function(){for(var t=this.model.getItemList(),e=0;e<t.length;e++){var o=t[e],i=cc.instantiate(this.itemPrefab),a=i.getComponent(n.default);a&&(a.setModel(o),a.content()),this.LayoutLayout.node.addChild(i)}},e.prototype.addListener=function(){this.eventProxy.on(i.EventName.CHANGE_COUNT,this.updateCount,this),this.eventProxy.on(i.EventName.CHANGE_COST_COUNT,this.updateCost,this)},e.prototype.content=function(){t.prototype.content.call(this),this.nameLabel.string=this.model.getName(),this.setSpriteAtlas(this.iconSprite,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame());var e=this.model.getCostItem();e&&this.setSpriteAtlas(this.costIcon,e.getModuleID(),e.getIcon(),e.getSpriteFrame())},e.prototype.updateCount=function(){0==this.model.getCount()?(this.lockSprite.node.active=!0,this.playBtnSprite.node.active=!1):(this.lockSprite.node.active=!1,this.playBtnSprite.node.active=!0)},e.prototype.updateCost=function(){var t=this.model.getCostItem();if(t){var e=this.model.getCfgValue(s.MarketItemModelEnum.costNum);if(t.getID()==i.ItemID.SCRATCH_CARD)this.costNumLabel.string=e;else{var o=e-this.model.getCostNum();this.costNumLabel.string=o+"/"+e}}},e.prototype.onButtonClick=function(){var t=null;this&&this.node&&(t=this.node.parent.convertToWorldSpaceAR(this.node.getPosition())),this.controller.buyItem(this.model,t)},e.prototype.ontipBtnButtonClick=function(){var t=this.model.getItemList(),e=t[t.length-1];r.default.instance().showFoodInfo(e)},__decorate([u({type:cc.Sprite,displayName:"iconSprite"})],e.prototype,"iconSprite",void 0),__decorate([u({type:cc.Sprite,displayName:"LayoutSprite"})],e.prototype,"LayoutSprite",void 0),__decorate([u({type:cc.Layout,displayName:"LayoutLayout"})],e.prototype,"LayoutLayout",void 0),__decorate([u(cc.Prefab)],e.prototype,"itemPrefab",void 0),__decorate([u({type:cc.Sprite,displayName:"lockSprite"})],e.prototype,"lockSprite",void 0),__decorate([u({type:cc.Sprite,displayName:"playBtnSprite"})],e.prototype,"playBtnSprite",void 0),__decorate([u({type:cc.Label,displayName:"costNumLabel"})],e.prototype,"costNumLabel",void 0),__decorate([u({type:cc.Label,displayName:"nameLabel"})],e.prototype,"nameLabel",void 0),__decorate([u(cc.Sprite)],e.prototype,"costIcon",void 0),__decorate([l],e)}(a.default);o.default=d,cc._RF.pop()},{"../../../config/Config":"Config","../../game/GameC":"GameC","../model/BaseMarketItemModel":"BaseMarketItemModel","./MarketFoodItemView":"MarketFoodItemView","./MarketItemView":"MarketItemView"}],MarketItemView2:[function(t,e,o){"use strict";cc._RF.push(e,"ef9e2SMXT5M/JXT7+93tm/U","MarketItemView2"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../config/Config"),i=t("./MarketItemView"),a=t("../model/BaseMarketItemModel"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.IconSprite=null,e.lockSprite=null,e.playBtnSprite=null,e.playBtnButton=null,e.costIconSprite=null,e.costNumLabel=null,e.leftNumLabel=null,e}return __extends(e,t),e.prototype.addListener=function(){this.eventProxy.on(n.EventName.CHANGE_COST_COUNT,this.updateCost,this)},e.prototype.updateFood=function(){var t=this.model.getItemList()[0];this.leftNumLabel.string=""+t.getNum(!1)},e.prototype.content=function(){t.prototype.content.call(this),this.setSpriteAtlas(this.IconSprite,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame())},e.prototype.updateCount=function(){},e.prototype.updateCost=function(){var t=this.model.getCostItem();if(t){var e=this.model.getCfgValue(a.MarketItemModelEnum.costNum);if(t.getID()==n.ItemID.SCRATCH_CARD)this.costNumLabel.string=e;else{var o=e-this.model.getCostNum();this.costNumLabel.string=o+"/"+e}this.setSpriteAtlas(this.costIconSprite,t.getModuleID(),t.getIcon(),t.getSpriteFrame())}},e.prototype.onplayBtnButtonClick=function(){var t=this.node.parent.convertToWorldSpaceAR(this.node.getPosition());this.controller.buyItem(this.model,t)},__decorate([c({type:cc.Sprite,displayName:"IconSprite"})],e.prototype,"IconSprite",void 0),__decorate([c({type:cc.Sprite,displayName:"lockSprite"})],e.prototype,"lockSprite",void 0),__decorate([c({type:cc.Sprite,displayName:"playBtnSprite"})],e.prototype,"playBtnSprite",void 0),__decorate([c({type:cc.Button,displayName:"playBtnButton"})],e.prototype,"playBtnButton",void 0),__decorate([c({type:cc.Sprite,displayName:"costIconSprite"})],e.prototype,"costIconSprite",void 0),__decorate([c({type:cc.Label,displayName:"costNumLabel"})],e.prototype,"costNumLabel",void 0),__decorate([c({type:cc.Label,displayName:"leftNumLabel"})],e.prototype,"leftNumLabel",void 0),__decorate([s],e)}(i.default);o.default=l,cc._RF.pop()},{"../../../config/Config":"Config","../model/BaseMarketItemModel":"BaseMarketItemModel","./MarketItemView":"MarketItemView"}],MarketItemView:[function(t,e,o){"use strict";cc._RF.push(e,"01cf0tTsqdB9aLf/+rObDKN","MarketItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.content=function(){this.updateFood(),this.updateCost(),this.updateCount()},e}(t("../../../cfw/view").BaseItemView);o.default=n,cc._RF.pop()},{"../../../cfw/view":"view"}],MarketMgr:[function(t,e,o){"use strict";cc._RF.push(e,"20854MPywROyJollhB54UD0","MarketMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./MarketItemModel"),r=t("./MarketTypeModel"),s=t("./MarketItemModel2"),c=t("../../../sdk/channel-ts/CMgr"),l=t("./BaseMarketItemModel"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.marketItemModelMgr=new n.ModelManager,e.marketTypeModelMgr=new n.ModelManager,e.marketItemModel2Mgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.marketItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),this.marketItemModel2Mgr.initWithData(i.ModuleManager.dataManager.get(s.default.CLASS_NAME),s.default),this.marketTypeModelMgr.initWithData(i.ModuleManager.dataManager.get(r.default.CLASS_NAME),r.default)},e.prototype.getMarketItemModel=function(t){return c.default.helper.canMultyAd()?this.marketItemModelMgr.getByID(t):this.marketItemModel2Mgr.getByID(t)},e.prototype.getMarketItemModelList=function(){return c.default.helper.canMultyAd()?this.marketItemModelMgr.getList():this.marketItemModel2Mgr.getList()},e.prototype.getMarketTypeModel=function(t){return this.marketTypeModelMgr.getByID(t)},e.prototype.getMarketTypeModelList=function(){return this.marketTypeModelMgr.getList()},e.prototype.getMarketList=function(t){return c.default.helper.canMultyAd()?this.marketItemModelMgr.getIndexData(l.MarketItemModelEnum.type,t):this.marketItemModel2Mgr.getIndexData(l.MarketItemModelEnum.type,t)},e.prototype.hasFood=function(t){var e=this.getMarketTypeModel(1);return!!e&&e.hasFood(t)},e}(n.BaseModel);o.default=u,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","../../../sdk/channel-ts/CMgr":"CMgr","./BaseMarketItemModel":"BaseMarketItemModel","./MarketItemModel":"MarketItemModel","./MarketItemModel2":"MarketItemModel2","./MarketTypeModel":"MarketTypeModel"}],MarketTypeModel:[function(t,e,o){"use strict";cc._RF.push(e,"78f47TURbBE/LkqE46IF+96","MarketTypeModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.MarketTypeModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../../cfw/local"),r=t("../../../config/Config"),s=t("../../../cfw/time"),c=t("./MarketMgr"),l=t("../../game/model/FoodMgr"),u=t("../../../cfw/tools/Utils"),d=t("../../../cfw/tools/LangManager");(function(t){t[t.name=0]="name",t[t.refreshTime=1]="refreshTime",t[t.cost=2]="cost",t[t.state=3]="state",t[t.prefab=4]="prefab"})(n=o.MarketTypeModelEnum||(o.MarketTypeModelEnum={}));var p=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.init=function(e,o){t.prototype.init.call(this,e,o),this.getCost()>0&&(this.foodIDList=new a.LocalList("MarketMgr_FoodIDList"+this.ID,0),this.foodIDList.isHaveData()||this.setFoodList()),this.getRefreshTime()>0&&(this.time=new a.LocalValue("MarketTypeModel"+this.ID,0),s.TimeHelper.leftTime(this.time.getInt())<=0&&this.resetTime())},e.prototype.setFoodList=function(){for(var t=l.default.instance().getRandomFoodID(),e=0;e<6;e++){var o=u.default.random(0,t.length),n=t[o];this.foodIDList.set(e,n.getID()),t.splice(o,1)}var i=c.default.instance().getMarketList(this.getID());for(e=0;e<i.length;e++)i[e].clearItem();this.emit(r.EventName.UPDATE_FOOD_LIST)},e.prototype.hasFood=function(t){for(var e=c.default.instance().getMarketList(this.getID()),o=0;o<e.length;o++){var n=e[o];if(n.getCount()>0)for(var i=n.getItemList(),a=0;a<i.length;a++)if(t==i[a].getID())return!0}return!1},e.prototype.getFoodID=function(t){return this.foodIDList?this.foodIDList.get(t):0},e.prototype.resetTime=function(){var t=6e4*this.getRefreshTime();this.time.setValue(Date.now()+t),this.foodIDList&&this.setFoodList(),this.resetCount()},e.prototype.resetCount=function(){for(var t=c.default.instance().getMarketList(this.getID()),e=0;e<t.length;e++)t[e].resetCount()},e.prototype.getMarketItems=function(){return c.default.instance().getMarketList(this.getID())},e.prototype.getTime=function(){return this.time.getInt()},e.prototype.getName=function(){var t=this.getValue(n.name);return d.default.instance().getLocalString(t)},e.prototype.getRefreshTime=function(){return this.getValue(n.refreshTime)},e.prototype.setRefreshTime=function(t){this.setValue(n.refreshTime,t)},e.prototype.getCost=function(){return this.getValue(n.cost)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t)},e.prototype.getPrefab=function(){return this.getValue(n.prefab)},e.CLASS_NAME="MarketTypeModel",e}(i.DataModel);o.default=p,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/local":"local","../../../cfw/time":"time","../../../cfw/tools/LangManager":"LangManager","../../../cfw/tools/Utils":"Utils","../../../config/Config":"Config","../../game/model/FoodMgr":"FoodMgr","./MarketMgr":"MarketMgr"}],MarketTypeView:[function(t,e,o){"use strict";cc._RF.push(e,"e8f48gADi5H9IqQDUQV3tS4","MarketTypeView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../model/MarketMgr"),a=t("../MarketC"),r=t("../../../cfw/time"),s=t("../../../config/Config"),c=t("../../../sdk/channel-ts/CMgr"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=0,e.typeTitleLabel=null,e.typeLayoutLayout=null,e.typeRefreshTimeLabel=null,e.prefabs=null,e.itemList=[],e}return __extends(e,t),e.prototype.onLoad=function(){c.default.helper.marketHasType(this.type)?(this.setModel(i.default.instance().getMarketTypeModel(this.type)),this.setController(a.default.instance()),this.updateTime(),this.updateItems()):this.node.active=!1},e.prototype.addListener=function(){this.eventProxy.on(s.EventName.UPDATE_FOOD_LIST,this.updateItems,this)},e.prototype.updateItems=function(){var t=i.default.instance().getMarketList(this.type);if(t)for(var e=0;e<t.length;e++){var o=t[e],n=this.prefabs;if(n){var a=this.itemList[e];if(!a){var r=cc.instantiate(n);a=r.getComponent(r.name),this.itemList[e]=a,this.typeLayoutLayout.node.addChild(r)}a&&(a.setModel(o),a.setController(this.controller),a.content())}}},e.prototype.updateTime=function(){if(this.typeRefreshTimeLabel){var t=this.model;if(t&&t.getRefreshTime()>0){var e=r.TimeHelper.leftTime(t.getTime());e<=0&&(t.resetTime(),e=t.getTime());var o=r.TimeDisplay.getFontString(Math.floor(e/1e3));this.typeRefreshTimeLabel.string=o}}},__decorate([d],e.prototype,"type",void 0),__decorate([d({type:cc.Label,displayName:"typeTitleLabel"})],e.prototype,"typeTitleLabel",void 0),__decorate([d({type:cc.Layout,displayName:"typeLayoutLayout"})],e.prototype,"typeLayoutLayout",void 0),__decorate([d({type:cc.Label,displayName:"typeRefreshTimeLabel"})],e.prototype,"typeRefreshTimeLabel",void 0),__decorate([d(cc.Prefab)],e.prototype,"prefabs",void 0),__decorate([u],e)}(n.BaseView);o.default=p,cc._RF.pop()},{"../../../cfw/time":"time","../../../cfw/view":"view","../../../config/Config":"Config","../../../sdk/channel-ts/CMgr":"CMgr","../MarketC":"MarketC","../model/MarketMgr":"MarketMgr"}],MarketView:[function(t,e,o){"use strict";cc._RF.push(e,"497adSClgpI8Z303KrbuQGI","MarketView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/event"),a=t("../../../config/Config"),r=t("../../../cfw/time"),s=t("./MarketTypeView"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refreshTokenNumLabel=null,e.backBtnSprite=null,e.backBtnButton=null,e.typeList=[],e.timeObsevers=new r.SheduleTimer(function(){e.updateTime()},1),e}return __extends(e,t),e.prototype.updateTime=function(){for(var t=0;t<this.typeList.length;t++){var e=this.typeList[t];e.node.active&&e.updateTime()}},e.prototype.onLoad=function(){i.GEvent.instance().emit(a.EventName.OPEN_MAKET,!1),r.TimeManager.instance().add(this.timeObsevers)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),r.TimeManager.instance().remove(this.timeObsevers),i.GEvent.instance().emit(a.EventName.OPEN_MAKET,!0)},e.prototype.onbackBtnButtonClick=function(){this.hide(),this.controller.back()},e.prototype.onRefreshButtonClick=function(){this.controller.refreshItem()},__decorate([u({type:cc.Label,displayName:"refreshTokenNumLabel"})],e.prototype,"refreshTokenNumLabel",void 0),__decorate([u({type:cc.Sprite,displayName:"backBtnSprite"})],e.prototype,"backBtnSprite",void 0),__decorate([u({type:cc.Button,displayName:"backBtnButton"})],e.prototype,"backBtnButton",void 0),__decorate([u([s.default])],e.prototype,"typeList",void 0),__decorate([l],e)}(n.BaseView);o.default=d,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/time":"time","../../../cfw/view":"view","../../../config/Config":"Config","./MarketTypeView":"MarketTypeView"}],MergeEngin:[function(t,e,o){"use strict";cc._RF.push(e,"b0c65oo1GdB3Km5GOmOsmbp","MergeEngin"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemModuleData=o.ItemModule=o.PlotMgr=void 0;var n=t("../cfw/event"),i=t("../cfw/local"),a=t("../cfw/tools/Utils"),r=t("../config/Config"),s=t("../extention/gevent/operate/OperateObserver"),c=t("../extention/guide/GuideMgr"),l=t("../logic/game/GameC"),u=t("../logic/SceneNew/NewSceneC"),d=t("../logic/start/Combat/CombatC"),p=t("../logic/start/SwitchChapter/SCC"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isOnItem=!1,e._plot=new f,e._checkPlot=new f,e.talk_data_list=[],e.item_data_list=[],e.itemModule=new g,e}return __extends(e,t),e.prototype.initData=function(){var t=this;this.plotID=new i.LocalValue("PlotID",1e3),this.chapterID=new i.LocalValue("ChapterID",0),this.plotData=new i.LocalList("PlotData",[]),this.plotItemData=new i.LocalList("PlotItemData",[]),this.searchItemData=new i.LocalList("SearchItemData",[]),this.plotInit(),cc.loader.loadRes("condition",cc.Prefab,function(e,o){e?console.error(e):t.conditionPrefab=o})},e.prototype.plotInit=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(o){switch(o.label){case 0:return t=this,[4,a.default.loadXML("xml/merge_talk")];case 1:return t.talk_data_list=o.sent(),e=this,[4,a.default.loadXML("xml/plot_Item")];case 2:return e.item_data_list=o.sent(),this.setcurrPlot(this.plotID.getInt()),[2]}})})},e.prototype.addPlot=function(t,o){void 0===o&&(o=-1);var n=!1;-1==o&&(this.getCurrPlot().hasNextTalk()?(o=10*Math.floor(this.plotID.getInt()/10)+10,n=!0):(o=100*Math.floor(this.plotID.getInt()/100)+100,n=!0,this.chapterID.setValue(this.chapterID.getInt()+1),this.chapterID.saveValue(),p.default.instance().SwitchChapter(this.chapterID.getInt(),e.chapterTitle[this.chapterID.getInt()]),d.default.instance().setCombatNumber(100),d.default.instance().setHp(20),d.default.instance().setPt(100))),this._currPlot!=o&&(1==o&&(o=this.plotID.getInt(),n=!0),this.checkCondition(o)&&(this.setcurrPlot(o),n&&(this.emit(e.AddMainPlot,this.getCurrPlot()),this.plotID.setValue(o),this.plotID.saveValue(),u.default.instance().intoLayer(t,o))))},e.prototype.setcurrPlot=function(t){if(this.checkCondition(t)){if(!this.checkItem(t)&&!this.checkUnlock(t))return c.default.instance().notify("LobbyView_onplayBtnButtonClick"),void l.default.instance().intoLayer();this._plot.start(this.talk_data_list,t),this._currPlot=t,this.setSaveData(t.toString()),this.emit(e.AddPlot,this.getCurrPlot()),1012==t&&this.searchItem(30031)}else this.getCurrPlot().hasNextSceneTalk()&&this.setcurrPlot(this._currPlot++)},e.prototype.checkUnlock=function(t){var o=e.instance().getCondition(t),n=!0;return o.forEach(function(t){var e=Math.floor(t.type/1e4),o=t.type-1e4*e;switch(e){case 1:d.default.instance().getHp()<o&&(n=!1);break;case 2:d.default.instance().getCombatNumber()<o&&(n=!1);break;case 3:return n=!1,!1}}),!!n&&(o.forEach(function(t){var e=Math.floor(t.type/1e4),o=t.type-1e4*e;switch(e){case 1:d.default.instance().hpDoDelta(-o);break;case 2:d.default.instance().combatNumberDoDelta(-o)}}),this.setItemCondition(t),!0)},e.prototype.getCurrPlot=function(){return this._plot},e.prototype.notify=function(t){this.setcurrPlot(t)},e.prototype.getSaveData=function(){return this.plotData},e.prototype.setSaveData=function(t){console.log("\u4fdd\u5b58",t),this.plotData.has(t)||(this.plotData.push(t),this.plotData.saveValue())},e.prototype.checkCondition=function(t){var e=this;this._checkPlot.start(this.talk_data_list,t);var o=this._checkPlot.getCondition().split("-"),n=!0;return o.forEach(function(t){console.log(t,e.plotData),e.plotData.has(t)||""==t||(n=!1)}),n},e.prototype.checkItem=function(t){return!!this.plotItemData.has(t)||(this.itemModule.start(this.item_data_list,t),0==this.itemModule.item_data.length)},e.prototype.getTotalCondition=function(){for(var t=[],e=this.plotID.getInt();e-this.plotID.getInt()<10;)this.checkItem(e),this.itemModule.item_data.forEach(function(e){-1==t.indexOf(e)&&t.push(e)}),e++;return t},e.prototype.getCondition=function(t){var e=[];return this.checkItem(t),this.itemModule.item_data.forEach(function(t){-1==e.indexOf(t)&&e.push(t)}),e},e.prototype.setItemCondition=function(t){console.log("\u9053\u5177\u6761\u4ef6\u89e3\u9501",t),this.plotItemData.push(t),this.plotItemData.saveValue(),this.setcurrPlot(t),n.GEvent.instance().emit(r.EventName.UNLOCKPLOT,t)},e.prototype.searchItem=function(t){this.searchItemData.push(t),this.searchItemData.saveValue()},e.prototype.getSearchItem=function(){return this.searchItemData.getValue()},e.prototype.hasPlot=function(t){return console.log(this.plotData),this.plotData.has(t)},e.AddPlot="AddPlot",e.AddMainPlot="AddMainPlot",e.chapterTitle=["\u6211\u662f\u6c49\u514b\uff08\uff1f\uff09","\u7978\u4e0d\u5355\u884c","\u522b\u6709\u6d1e\u5929","\u98ce\u8d77\u4e91\u6d8c","\u9f99\u6f6d\u864e\u7a74","\u7834\u6653\u524d\u5915","\u9003\u51fa\u751f\u5929"],e}(s.default);o.PlotMgr=h;var f=function(){function t(){this.cur_scene_talk_id=0,this.talk_data_list=[],this.cur_talk_scene_datas=[]}return t.prototype.start=function(t,e){e!=this.cur_scene_talk_id&&(this.talk_data_list=t,this.module_id=e,this.getSceneTalk(e))},t.prototype.getSceneTalk=function(t){this.cur_scene_talk_id=t,this.cur_talk_scene_datas=[];for(var e=0;e<this.talk_data_list.length;e++)this.talk_data_list[e]["@scene_id"]==t&&this.cur_talk_scene_datas.push(this.talk_data_list[e]);this.updateStep()},t.prototype.hasNextSceneTalk=function(){var t=[],e=this.cur_scene_talk_id;do{e++}while(h.instance().hasPlot(e.toString()));for(var o=0;o<this.talk_data_list.length;o++)this.talk_data_list[o]["@scene_id"]==e&&t.push(this.talk_data_list[o]);return t.length>0&&(console.log("???????????????"),""==t.shift()["@tip"]&&h.instance().setcurrPlot(e),!0)},t.prototype.hasNextTalk=function(){var t=[],e=this.cur_scene_talk_id;e=10*Math.floor(this.cur_scene_talk_id/10)+10;for(var o=0;o<this.talk_data_list.length;o++)this.talk_data_list[o]["@scene_id"]==e&&t.push(this.talk_data_list[o]);return t.length>0},t.prototype.updateStep=function(){var t=this.cur_talk_scene_datas.shift();return null==t?(this.talk_data="",this.map_data="",this.tip_data="",this.condition_data="",!0):(this.talk_data=t["@talk"],this.tip_data=t["@tip"],this.condition_data=t["@condition"],this.map_data=t["@map"].replace(/-/g,"/"),!1)},t.prototype.getCurTalkDes=function(){return this.talk_data},t.prototype.getCurMap=function(){return this.map_data},t.prototype.getTip=function(){return this.tip_data},t.prototype.getCondition=function(){return this.condition_data},t}();o.default=f;var g=function(){function t(){this.xml_dataList=[],this.item_data=[]}return t.prototype.start=function(t,e){var o=this;this.xml_dataList=t,this.item_data=[];for(var n=[],i=0;i<this.xml_dataList.length;i++)this.xml_dataList[i]["@scene_id"]==e&&n.push(this.xml_dataList[i]);n.forEach(function(t){var e=new y;e.type=t["@type"],e.level=t["@level"],e.scene_Id=t["@scene_id"],o.item_data.push(e)})},t}();o.ItemModule=g;var y=function(){};o.ItemModuleData=y,cc._RF.pop()},{"../cfw/event":"event","../cfw/local":"local","../cfw/tools/Utils":"Utils","../config/Config":"Config","../extention/gevent/operate/OperateObserver":"OperateObserver","../extention/guide/GuideMgr":"GuideMgr","../logic/SceneNew/NewSceneC":"NewSceneC","../logic/game/GameC":"GameC","../logic/start/Combat/CombatC":"CombatC","../logic/start/SwitchChapter/SCC":"SCC"}],MiMoBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"58663I7ArBFH65BUVvJCLOt","MiMoBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseBannerAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.bannerAd||(this.bannerAd=this.sdk.createBannerAd({adUnitId:this.adUnitID,layout:1,width:300,height:100}),this.bannerAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.bannerAd.onError(this.getFunc(i.FunctionType.onError)))},e.prototype.updateSize=function(){},e.prototype.hide=function(){t.prototype.hide.call(this),this.setState(i.SDKState.close)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseBannerAd":"BaseBannerAd"}],MiMoChannel:[function(t,e,o){"use strict";cc._RF.push(e,"10928ap6XFOxZZBiSOwdfjH","MiMoChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("../SDKConfig"),a=t("./MiMoBannerAd"),r=t("./MiMoRewardAd"),s=t("./MiMoInsertAd"),c=t("./MiMoCustomAd"),l=t("./MiMoSelfRenderAd"),u=t("./MiMoLogin"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this.cfg,e=t[i.ADName.reward];if(e)for(var o=0;o<e.length;o++){var n=e[o];this.rewardAd.push(new r.default(this,n))}if(e=t[i.ADName.banner])for(o=0;o<e.length;o++)n=e[o],this.bannerAd.push(new a.default(this,n));if(e=t[i.ADName.insert])for(o=0;o<e.length;o++)n=e[o],this.insertAd.push(new s.default(this,n));if(e=t[i.ADName.customAd])for(o=0;o<e.length;o++)n=e[o],this.customAd.push(new c.default(this,n));if(e=t[i.ADName.selfrender])for(o=0;o<e.length;o++)n=e[o],this.selfRender.push(new l.default(this,n));this.loginMgr=new u.default(this)},e.prototype.exitApplication=function(){this.sdk.exitApplication()},e.prototype.initAd=function(){this.sdk.initAd()},e}(n.default);o.default=d,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","./MiMoBannerAd":"MiMoBannerAd","./MiMoCustomAd":"MiMoCustomAd","./MiMoInsertAd":"MiMoInsertAd","./MiMoLogin":"MiMoLogin","./MiMoRewardAd":"MiMoRewardAd","./MiMoSelfRenderAd":"MiMoSelfRenderAd"}],MiMoCustomAd:[function(t,e,o){"use strict";cc._RF.push(e,"73860jDjrtE640Ny+ZWWNcj","MiMoCustomAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseCustomAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){var t=this.channel.getVisibleSize();this.customAd||(this.customAd=this.sdk.createTemplateAd({adUnitId:this.adUnitID,sizeIndex:1,width:t.width,height:t.height}),this.customAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.customAd.onError(this.getFunc(i.FunctionType.onError)))},e.prototype.open=function(t){this.callback=t,this.destroy(),this.create(),this.load()},e.prototype.onLoad=function(){this.show()},e.prototype.onError=function(){},e.prototype.load=function(){this.customAd&&this.customAd.load()},e.prototype.show=function(){this.customAd&&this.customAd.show()},e.prototype.destroy=function(){this.customAd&&(this.customAd.destroy(),this.customAd=null)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseCustomAd":"BaseCustomAd"}],MiMoHelper:[function(t,e,o){"use strict";cc._RF.push(e,"1a803rJXidDqZuchZQ5XcRz","MiMoHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseHelper"),i=t("../sdk/SDKManager"),a=t("../sdk/SDKConfig"),r=t("./ChannelEvent"),s=t("../../extention/gevent/GameEventAdapter"),c=t("../../logic/boxpop/BoxPopC"),l=t("../../logic/luckyspin/LuckySpinC"),u=t("../../logic/login/LoginC"),d=t("../lib/zs_xm_sdk"),p=t("../../cfw/tools/Utils"),h=t("../../logic/dailytask/model/DailyTaskMgr"),f=t("../../config/Config"),g=t("../../engine/EngineHelper"),y=t("../../logic/public/bag/BagManager"),m=t("./ChannelUtils"),v=t("../../logic/public/tip/TipC"),_=function(t){function e(){var e=t.call(this)||this;return e.openID="",e.zsConfig={zs_version:"1.0",zs_switch:0,zs_banner_city:0,zs_full_screen_gap_num:1,zs_full_screen_gap_time:20,zs_native_close_num:[1,3,5],zs_native_fake_time:30,zs_native_click_switch:1,zs_process_time:0,zs_game_star_jump_switch:0,zs_banner_game_time:30,zs_text_message:30,zs_banner_time:2,zs_click_award_prompt:0,zs_click_award_num:1,zs_begin_click_switch:0,zs_start_video_switch:0,zs_begin_click__since:3,zs_banner_vertical_enable:0,zs_banner_system:""},e.count=0,e.adCount=0,e.sdk=new d.default,e.sdk.initSdkByConf({channel:"xm",appId:"2882303761520139307",secret:"=="}),e.login(),e.loadConfig(),e}return __extends(e,t),e.prototype.login=function(t){var e=this;void 0===t&&(t=!0);var o=this.sdk;o.login(function(n){console.log(" msg ",n),e.openID=n,t&&o.init(e.openID)},function(o){console.log("login error ",o),setTimeout(function(){e.login(t)},3e3)})},e.prototype.loadConfig=function(){var t=this;this.sdk.loadCfg(function(e){var o="string"==typeof e?JSON.parse(e):e;t.zsConfig=o.data,t.zsConfig.zs_click_award_num,r.default.instance().emit(r.default.LOAD_CONFIG),console.log("loadConfig result === ",""+t.zsConfig)},function(e){console.log(" err === ",e),setTimeout(function(){t.loadConfig()},3e3)})},e.prototype.showRewardAd=function(t,e){var o=this;i.default.getChannel().showRewardAd(this.getAdIndex(),function(t){e(t),t?(h.default.instance().updateTaskCount(f.DailyTaskID.AD),o.canMultyAd()||y.default.instance().updateItemNum(f.ItemID.SCRATCH_CARD,1,g.default.getMidPos())):v.default.instance().showToast("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25")})},e.prototype.rewardOpen=function(){},e.prototype.rewardClose=function(){},e.prototype.getAdIndex=function(){return p.default.random(0,2)},e.prototype.showFuncInsertAd=function(){this.isVersion()&&i.default.getChannel().showInsertAd(this.getAdIndex())},e.prototype.showBannerAd=function(t,e){this.isVersion()&&i.default.getChannel().showBanner(t,e)},e.prototype.showInsertAd=function(t){var e=this;if(this.isVersion()){this.adCount++;var o=this.getNativeCloseNum();console.log("NativeTest MiMoHelper showInsertAd num ",o,"this.adCount ",this.adCount);var n=0;-1==o?n=1:0==o?n=0:(console.log("NativeTest num.indexOf(this.count) >= 0 ",o.indexOf(this.adCount)>=0),o.indexOf(this.adCount)>=0&&(n=1)),i.default.getChannel().showSelfRender({index:this.getAdIndex(),click_switch:this.getzs_native_click_switch(),close_num:n,callback:function(o){o==a.ResultState.NO&&e.showFuncInsertAd(t)}})}},e.prototype.hasLight=function(){return!0},e.prototype.isSwtichOpen=function(){return!1},e.prototype.getzs_video_box=function(){return 5},e.prototype.getzs_box_switch=function(){return!1},e.prototype.getzs_box_show_delay=function(){return 1e3},e.prototype.isVersion=function(){return 1==m.default.compareVersion(this.verson,this.zsConfig.zs_version)},e.prototype.getEmail=function(){return""},e.prototype.getAppName=function(){return"\u86cb\u7cd5\u6d88\u6d88\u4e50"},e.prototype.getCompany=function(){return"\u53f8"},e.prototype.hasAgreement=function(){return!1},e.prototype.hasInstallApp=function(){return!1},e.prototype.getzs_native_show_delay=function(){return 1e3},e.prototype.marketHasType=function(t){return 4!=t||i.default.getChannel().hasShare()},e.prototype.canMultyAd=function(){return!0},e.prototype.getzs_full_screen_gap_num=function(){return this.zsConfig.zs_full_screen_gap_num?this.zsConfig.zs_full_screen_gap_num:0},e.prototype.getzs_native_click_switch=function(){return this.zsConfig.zs_native_click_switch?this.zsConfig.zs_native_click_switch:0},e.prototype.intoGame=function(){var t=this.getzs_full_screen_gap_num();console.log("intoGame num ",t,"  this.count ",this.count),t>0&&(this.count++,this.count%(t+1)==0&&this.showInsertAd(this.getAdIndex()))},e.prototype.getzs_full_screen_gap_time=function(){return this.zsConfig.zs_full_screen_gap_time?this.zsConfig.zs_full_screen_gap_time:0},e.prototype.getzs_native_fake_time=function(){return this.zsConfig.zs_native_fake_time?this.zsConfig.zs_native_fake_time:0},e.prototype.sheduleGame=function(){this.showAd(),this.showAd2()},e.prototype.showAd2=function(){var t=this,e=this.getzs_full_screen_gap_time();e>0&&setTimeout(function(){console.log(" showAd num ",e),t.showInsertAd(t.getAdIndex()),t.showAd2()},1e3*e)},e.prototype.showAd=function(){var t=this,e=this.getzs_native_fake_time();e>0&&setTimeout(function(){console.log(" showAd time ",e),i.default.getChannel().loadSelfRender({index:t.getAdIndex(),logicState:a.SDKState.close}),t.showAd()},1e3*e)},e.prototype.leaveGame=function(){s.default.instance().isOpen()||c.default.instance().intoLayer()},e.prototype.firstIntoLobby=function(){s.default.instance().isOpen()||l.default.instance().intoLayer()},e.prototype.startGame=function(){u.default.instance().intoLayer()},e.prototype.getNativeCloseNum=function(){return this.zsConfig.zs_native_close_num?this.zsConfig.zs_native_close_num:0},e}(n.default);o.default=_,cc._RF.pop()},{"../../cfw/tools/Utils":"Utils","../../config/Config":"Config","../../engine/EngineHelper":"EngineHelper","../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../logic/boxpop/BoxPopC":"BoxPopC","../../logic/dailytask/model/DailyTaskMgr":"DailyTaskMgr","../../logic/login/LoginC":"LoginC","../../logic/luckyspin/LuckySpinC":"LuckySpinC","../../logic/public/bag/BagManager":"BagManager","../../logic/public/tip/TipC":"TipC","../lib/zs_xm_sdk":"zs_xm_sdk","../sdk/SDKConfig":"SDKConfig","../sdk/SDKManager":"SDKManager","./BaseHelper":"BaseHelper","./ChannelEvent":"ChannelEvent","./ChannelUtils":"ChannelUtils"}],MiMoInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"f9462mxAwtO/pGdFtVKRdkt","MiMoInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseInsertAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(t){this.callback=t,this.preload(i.SDKState.open)},e.prototype.create=function(){this.insertAd||(this.insertAd=this.sdk.createInterstitialAd({adUnitId:this.adUnitID}),this.insertAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.insertAd.onError(this.getFunc(i.FunctionType.onError)))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseInsertAd":"BaseInsertAd"}],MiMoLogin:[function(t,e,o){"use strict";cc._RF.push(e,"cb685dxE5dHgJSkiqJNbL8c","MiMoLogin"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseLogin"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.login=function(t,e){this.sdk.login({account:t,success:function(t){console.log("login\u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e(i.ResultState.YES,t)},fail:function(){e(i.ResultState.NO,null)}})},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseLogin":"BaseLogin"}],MiMoNativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"983fcoAIu1JD4szxMn9F3Yo","MiMoNativeAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseNativeAd"),i=t("../oppo/OppoNativeAdItemModel"),a=t("../SDKConfig"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.instances=[],e}return __extends(e,t),e.prototype.getItemModel=function(){return new i.default},e.prototype.create=function(){console.log(" OppoNativeAd create",this.adUnitID),this.nativeAd=this.instances[this.adUnitID],this.nativeAd||(this.nativeAd=this.sdk.createNativeAd({adUnitId:this.adUnitID}),this.nativeAd.onLoad(this.getFunc(a.FunctionType.onLoad)),this.nativeAd.onError(this.getFunc(a.FunctionType.onError)),this.instances[this.adUnitID]=this.nativeAd)},e}(n.default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseNativeAd":"BaseNativeAd","../oppo/OppoNativeAdItemModel":"OppoNativeAdItemModel"}],MiMoRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"a1b846tuOBKtLY2Q8vTT72K","MiMoRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRewardAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){cc.log("NativeTest MiMoRewardAd create  ",this.adUnitID),this.rewardAd?this.rewardAd.load():(this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.rewardAd.onError(this.getFunc(i.FunctionType.onError)),this.rewardAd.onClose(this.getFunc(i.FunctionType.onClose)),this.rewardAd.load())},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],MiMoSelfRenderAd:[function(t,e,o){"use strict";cc._RF.push(e,"39d3fTKDnpOOp0ZeokXcwSx","MiMoSelfRenderAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseAd"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click_switch=0,e.close_num=0,e}return __extends(e,t),e.prototype.open=function(t){this.callback=t.callback,this.click_switch=t.click_switch,this.close_num=t.close_num,this.destroy(),this.create(),this.load()},e.prototype.create=function(){this.instance||(this.instance=this.sdk.createSelfRenderAd({adUnitId:this.adUnitID,click_switch:this.click_switch,close_num:this.close_num}),this.instance.onLoad(this.getFunc(i.FunctionType.onLoad)),this.instance.onError(this.getFunc(i.FunctionType.onError)))},e.prototype.load=function(t){void 0===t&&(t=i.SDKState.open),this.logicState=t,this.instance&&this.instance.load()},e.prototype.onLoad=function(){this.logicState==i.SDKState.open&&this.instance.show(),this.callback&&(this.callback(i.ResultState.YES),this.callback=null)},e.prototype.onError=function(){this.callback&&(this.callback(i.ResultState.NO),this.callback=null)},e.prototype.destroy=function(){this.instance&&(this.instance.destroy(),this.instance=null)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],ModuleConfig:[function(t,e,o){"use strict";cc._RF.push(e,"943ec5RNJVIcJ5Lgxcx9C7y","ModuleConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.ModuleConfig=o.ModuleID=void 0;var n=function(){function t(){}return t.RES="res",t.PUBLIC="public",t.LOGIN="login",t.GAME="game",t.LOBBY="lobby",t.AUDIO="audio",t.LOADING="loading",t.START="start",t.BUILD1="build1",t.BUILD2="build2",t.BUILD3="build3",t.BUILD4="build4",t.BUILD5="build5",t.BUILD6="build6",t.nativeAd="nativeAd",t.CRAZY_CLICK="crazyClick",t.install="install",t}();o.ModuleID=n,o.ModuleConfig=[{name:n.RES,isBundle:!1,bundleName:""},{name:n.PUBLIC,isBundle:!0,bundleName:n.PUBLIC},{name:n.LOGIN,isBundle:!1,bundleName:""},{name:n.LOBBY,isBundle:!1,bundleName:""},{name:n.GAME,isBundle:!0,bundleName:n.GAME},{name:n.AUDIO,isBundle:!0,bundleName:n.AUDIO},{name:n.LOADING,isBundle:!1,bundleName:""},{name:n.BUILD1,isBundle:!0,bundleName:n.BUILD1},{name:n.BUILD2,isBundle:!0,bundleName:n.BUILD2},{name:n.BUILD3,isBundle:!0,bundleName:n.BUILD3},{name:n.BUILD4,isBundle:!0,bundleName:n.BUILD4},{name:n.BUILD5,isBundle:!0,bundleName:n.BUILD5},{name:n.BUILD6,isBundle:!0,bundleName:n.BUILD6},{name:n.START,isBundle:!0,bundleName:n.START},{name:n.nativeAd,isBundle:!0,bundleName:n.nativeAd},{name:n.CRAZY_CLICK,isBundle:!0,bundleName:n.CRAZY_CLICK},{name:n.install,isBundle:!0,bundleName:n.install}],cc._RF.pop()},{}],MoneyView:[function(t,e,o){"use strict";cc._RF.push(e,"44fe3wkHFpOtLmPI+cmWprn","MoneyView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../config/Config"),a=t("../../market/MarketC"),r=t("../../../extention/guide/GuideMgr"),s=t("../../sound/SoundC"),c=t("../../market/model/MarketMgr"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lvLabel=null,e.cdLabel=null,e.coinLabel=null,e.energyLabel=null,e.tokenLabel=null,e.shopNode=null,e.lvNode=null,e.goldNode=null,e.energyNode=null,e.tokenNode=null,e.lvProgress=null,e.setNode=null,e.move1=.5,e.move2=1,e}return __extends(e,t),e.prototype.onLoad=function(){c.default.instance()},e.prototype.start=function(){this.gEventProxy.on(i.EventName.OPEN_MAKET,this.setShopNodeVisible,this)},e.prototype.onEnergyButtonClick=function(){r.default.instance().notify("onEnergyButtonClick"),this.controller.showBuyEnergyView()},e.prototype.onTokenButtonClick=function(){this.controller.showBuyTokenView(0)},e.prototype.onShopBtnClick=function(){a.default.instance().intoLayer(),r.default.instance().notify("onShopBtnClick")},e.prototype.setShopNodeVisible=function(){},e.prototype.onSettingBtnClick=function(){s.default.instance().intoLayer()},__decorate([d(cc.Label)],e.prototype,"lvLabel",void 0),__decorate([d(cc.Label)],e.prototype,"cdLabel",void 0),__decorate([d(cc.Label)],e.prototype,"coinLabel",void 0),__decorate([d(cc.Label)],e.prototype,"energyLabel",void 0),__decorate([d(cc.Label)],e.prototype,"tokenLabel",void 0),__decorate([d(cc.Node)],e.prototype,"shopNode",void 0),__decorate([d(cc.Node)],e.prototype,"lvNode",void 0),__decorate([d(cc.Node)],e.prototype,"goldNode",void 0),__decorate([d(cc.Node)],e.prototype,"energyNode",void 0),__decorate([d(cc.Node)],e.prototype,"tokenNode",void 0),__decorate([d(cc.ProgressBar)],e.prototype,"lvProgress",void 0),__decorate([d(cc.Node)],e.prototype,"setNode",void 0),__decorate([u],e)}(n.BaseView);o.default=p,cc._RF.pop()},{"../../../cfw/view":"view","../../../config/Config":"Config","../../../extention/guide/GuideMgr":"GuideMgr","../../market/MarketC":"MarketC","../../market/model/MarketMgr":"MarketMgr","../../sound/SoundC":"SoundC"}],MoreGameButton:[function(t,e,o){"use strict";cc._RF.push(e,"7758b4K+xpHu7tMEhCFSDiT","MoreGameButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../channel-ts/CMgr"),i=cc._decorator,a=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=n.default.helper.hasMoreGame();this.node.active=t},e.prototype.touchEnd=function(){n.default.helper.openMoreGameView(0,0,.3)},__decorate([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{"../channel-ts/CMgr":"CMgr"}],MoreGameC:[function(t,e,o){"use strict";cc._RF.push(e,"c93cfetOa9AJ7hvnNz+Gq5W","MoreGameC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./MoreGameView"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){i.default.pushUIView({path:"prefabs/MoreGameView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,className:s.default,controller:this,model:null,func:function(){}})},e}(n.BaseController);o.default=c,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","./MoreGameView":"MoreGameView"}],MoreGameView:[function(t,e,o){"use strict";cc._RF.push(e,"70d77BcBO1HppaEk6m5ZEG/","MoreGameView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=cc._decorator,a=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},__decorate([a],e)}(n.BaseView));o.default=r,cc._RF.pop()},{"../../cfw/view":"view"}],MoveCamera:[function(t,e,o){"use strict";cc._RF.push(e,"454b4Z+jIFMW6JiqsD2Azqi","MoveCamera"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../tools/Utils"),i=function(){function t(){this.OFFSET=[-5,5,4,-4],this.x=0,this.y=0,this.z=0,this.ox=0,this.oy=0,this.oz=0,this.width=0,this.height=0,this.depth=0,this.hmw=0,this.hmh=0,this.percentH=0,this.percentW=0,this.isCheck=!1,this.scale=1}return t.prototype.setMap=function(t){this.map=t},t.prototype.setPercentW=function(t){this.percentW=t},t.prototype.setPercentH=function(t){this.percentH=t},t.prototype.init=function(t,e,o){void 0===o&&(o=0),console.log(" MoveCamera w ",t," h ",e," r ",o),this.width=t,this.height=e,this.depth=o,this.hmw=this.width/2,this.hmh=this.height/2,this.x=0,this.y=0,this.setZ(0),this.percentW=this.hmw,this.percentH=this.height/3*1},t.prototype.getPercentH=function(){return this.percentH},t.prototype.getHMW=function(){return this.hmw},t.prototype.getHMH=function(){return this.hmh},t.prototype.getTail=function(){return this.x+this.width},t.prototype.scroll=function(t,e,o){void 0===o&&(o=0);var n=t-this.x,i=this.y+this.height-e,a=this.percentH-i,r=n-this.percentW;this.move(r,a,0!=o)},t.prototype.checkBound=function(t,e,o){void 0===o&&(o=!1);var i=this.map.getMapWidth(),a=this.map.getMapHeight(),r=i-i*this.getScale(),s=a-a*this.getScale(),c=this.map,l=c.getRangeX();t<l&&(t=l);var u=c.getRangeY();e<u&&(e=u);var d=l+i-this.width-r;t>d&&(t=d);var p=u+a-this.height-s;e>p&&(e=p),o&&(this.ox=t,this.oy=e,t=this.ox+this.OFFSET[n.default.random(this.OFFSET.length)],e=this.oy+this.OFFSET[n.default.random(this.OFFSET.length)]),this.setX(t),this.setY(e)},t.prototype.move=function(t,e,o){void 0===o&&(o=!1);var n=this.getX(),i=this.getY();n+=t,i+=e,this.checkBound(n,i,o)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getZ=function(){return this.z},t.prototype.setX=function(t){this.x=t},t.prototype.setY=function(t){this.y=t},t.prototype.setZ=function(t){this.z=t,this.scale=1+this.z},t.prototype.getScale=function(){return this.scale},t.prototype.adjustPosition=function(t){var e=this.getX(),o=this.getY(),n=t.getY()+t.getZ();if(t.isUpdatePos()?(t.node.setX(t.getX()-e),t.node.setY(n-o)):(t.node.setX(t.getX()),t.node.setY(n)),t.isScale()&&t.node.setScale(this.getScale()),this.isCheck){var i=t.getX(),a=t.getY(),r=t.node.getWidth(),s=t.node.getHeight();this.isInCamera(i,a,r,s)?t.node.isVisible()||t.node.setVisible(!0):t.node.isVisible()&&t.node.setVisible(!1)}},t.prototype.isInCamera=function(t,e,o,i,a,r){void 0===a&&(a=.5),void 0===r&&(r=0);var s=this.getX(),c=(this.getY(),t-o*a);return!!n.default.isRectCollideRect2(c,o,s,this.width)},t.prototype.updateCameraZ=function(t){var e=this.getZ(),o=this.scale+t;this.map.getMapWidth()*o<=this.getWidth()||this.map.getMapHeight()*o<=this.getHeight()||(e+=t,this.setZ(e),this.checkBound(this.getX(),this.getY()))},t}();o.default=i,cc._RF.pop()},{"../tools/Utils":"Utils"}],MoveCollide:[function(t,e,o){"use strict";cc._RF.push(e,"9ae15EppZBM65pHi3bPhbMY","MoveCollide"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],MoveConfig:[function(t,e,o){"use strict";cc._RF.push(e,"617e5KxE41K1oEEHEvya5NC","MoveConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.SCREEN_X=o.SCREEN_Y=o.G=void 0,o.G=1,o.SCREEN_Y=-1,o.SCREEN_X=1,cc._RF.pop()},{}],MoveLayer:[function(t,e,o){"use strict";cc._RF.push(e,"05b4bTIFQZFRZmB2FwWFSpB","MoveLayer"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],MoveMap:[function(t,e,o){"use strict";cc._RF.push(e,"c16e5z20i1Bf6FhDb9ohym/","MoveMap"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../engine/unity"),i=t("../../engine/engine"),a=function(){function t(){this.moveScale=1,this.initScale=1,this.worldRect_=new n.ISize(0,0),this.cameraPoint_=new n.Vector2,this.cameraRect_=new n.ISize(0,0),this.minScale=1,this.maxScale=2,this.cameraScaleSpeed_=.02,this.cameraLayerScale_=1,this.distance=0,this.bgLayer=null,this.touchPoints=[]}return t.prototype.start=function(t){this.cameraLayerScale_=this.initScale,this.bgLayer=t,this.bgLayer.setAnchorPoint(0,0);var e=i.engine.getVisibleSize();this.distance=0,this.cameraScaleSpeed_=.02,this.worldRect_=new n.ISize(this.bgLayer.getWidth(),this.bgLayer.getHeight()),this.cameraRect_=new n.ISize(e.width,e.height),this.minScale=this.cameraRect_.width/this.worldRect_.width,this.minScale=Math.max(this.minScale,this.cameraRect_.height/this.worldRect_.height),this.cameraLayerScale_<this.minScale&&(this.cameraLayerScale_=this.minScale),this.bgLayer.setScale(this.cameraLayerScale_);var o=(this.cameraRect_.width-this.worldRect_.width*this.cameraLayerScale_)/2;this.cameraRect_.height,this.worldRect_.height,this.cameraLayerScale_,this.cameraPoint_=new n.Vector2(o,0),this.bgLayer.setPosition(this.cameraPoint_)},t.prototype.isFull=function(){return this.touchPoints.length>=2},t.prototype.count=function(){return this.touchPoints.length},t.prototype.setBgLayer=function(){},t.prototype.updateMultiPoint=function(t,e,o){for(var n=0;n<this.touchPoints.length;n++){var i=this.touchPoints[n];i[0]==o&&(i[1]=Math.floor(t),i[2]=Math.floor(e))}},t.prototype.setMultiPointDistance=function(){if(2==this.touchPoints.length){var t=this.touchPoints[0],e=new n.Vector2(t[1],t[2]),o=this.touchPoints[1],i=new n.Vector2(o[1],o[2]),a=this.distance;if(this.distance=(m=t[1],v=t[2],_=m-o[1],S=v-o[2],Math.sqrt(_*_+S*S)),Math.abs(this.distance-a)<=10)return;if(0!=a){var r=this.cameraLayerScale_,s=this.worldRect_.width*this.cameraLayerScale_,c=this.worldRect_.height*this.cameraLayerScale_;if(a>this.distance?(this.cameraLayerScale_-=this.cameraScaleSpeed_,this.cameraLayerScale_=this.cameraLayerScale_<this.minScale?this.minScale:this.cameraLayerScale_):a<this.distance&&(this.cameraLayerScale_+=this.cameraScaleSpeed_,this.cameraLayerScale_=this.cameraLayerScale_>this.maxScale?this.maxScale:this.cameraLayerScale_),this.cameraLayerScale_==r)return;var l=this.worldRect_.width*this.cameraLayerScale_-s,u=this.worldRect_.height*this.cameraLayerScale_-c;this.bgLayer.setScale(this.cameraLayerScale_);var d,p=this.getWorldPos(e),h=this.getWorldPos(i),f=(d=p.x>h.x?this.getMidPoint(h,p):this.getMidPoint(p,h)).x/this.worldRect_.width,g=d.y/this.worldRect_.height,y=this.bgLayer.getPosition();y.x-=l*f,y.y-=u*g,this.bgLayer.setPosition(this.setCameraMoveRange(y))}}var m,v,_,S},t.prototype.getWorldPoint=function(t,e){return t.convertToNodeSpaceAR(e)},t.prototype.getMidPoint=function(t,e){var o=e.x-t.x,i=e.y-t.y,a=t.x+o/2,r=t.y+i/2;return new n.Vector2(a,r)},t.prototype.setCameraMoveRange=function(t){var e=this.cameraLayerScale_,o=-(this.worldRect_.width*e-this.cameraRect_.width-0),n=-(this.worldRect_.height*e-this.cameraRect_.height-0);return t.x=Math.min(0,t.x),t.x=Math.max(o,t.x),t.y=Math.min(0,t.y),t.y=Math.max(n,t.y),t},t.prototype.setCameraMove=function(t){var e=this.bgLayer.getPosition();n.Vector2.add(e,e,t);var o=this.setCameraMoveRange(e);this.bgLayer.setPosition(o)},t.prototype.onTouchBegan=function(t,e){this.touchPoints.length>2||this.touchPoints.push([e,t.x,t.y])},t.prototype.moveDouble=function(t,e){if(!(this.touchPoints.length>2)){var o=t.x,n=t.y;this.updateMultiPoint(o,n,e),this.setMultiPointDistance()}},t.prototype.getWorldPos=function(t){return this.bgLayer.convertToNodeSpaceAR(t)},t.prototype.moveSingle=function(t,e,o){1==this.touchPoints.length&&this.touchPoints[0][0]==e&&(o.x*=this.moveScale,o.y*=this.moveScale,this.setCameraMove(o),this.updateMultiPoint(t.x,t.y,e))},t.prototype.onTouchEnd=function(t,e){var o=this.touchPoints.length;1==o?this.touchPoints[0][0]:2==o&&(this.distance=0),this.removeTouchPoint(e)},t.prototype.removeTouchPoint=function(t){for(var e=0;e<this.touchPoints.length;e++)if(t==this.touchPoints[e][0]){this.touchPoints.splice(e,1);break}},t.prototype.onTouchCancelled=function(){this.touchPoints.length=0,this.distance=0},t}();o.default=a,cc._RF.pop()},{"../../engine/engine":"engine","../../engine/unity":"unity"}],MoveObject:[function(t,e,o){"use strict";cc._RF.push(e,"1d873wvC9JHPaA0Qp5S77wk","MoveObject"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],MoveOut:[function(t,e,o){"use strict";cc._RF.push(e,"00050QNa39KhJWUqJgCNMTu","MoveOut"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../TweenMgr"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=new cc.Component.EventHandler,e}return __extends(e,t),e.prototype.onBackClick=function(){var t=this,e=cc.view.getVisibleSize();n.default.moveRight(this.node,.2,e.width,function(){t.handler&&t.handler.emit([t.handler.customEventData])})},__decorate([r(cc.Component.EventHandler)],e.prototype,"handler",void 0),__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../TweenMgr":"TweenMgr"}],MoveRight:[function(t,e,o){"use strict";cc._RF.push(e,"ccf34GnVuFBJbr1TnvCI9pg","MoveRight"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../TweenMgr"),i=cc._decorator,a=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.view.getVisibleSize();this.node.x=-t.width,n.default.moveRight(this.node,.2,0)},__decorate([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{"../TweenMgr":"TweenMgr"}],MoveSystem:[function(t,e,o){"use strict";cc._RF.push(e,"936aeR5PqBOXIeQ9738+VEs","MoveSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../event"),i=t("../tools/Define"),a=t("./PhysicalManager"),r=t("../tools/Utils"),s=t("./MoveConfig"),c=function(t){function e(e){var o=t.call(this)||this;return o.b=[],o.g=!0,o.enable=!0,o.scale=!0,o.updatePos=!0,o.speedX=0,o.speedY=0,o.speedZ=0,o.x=0,o.y=0,o.z=0,o.width=0,o.height=0,o.depth=0,o.elasticity=0,o.frictional=0,o.jumpHigh=350,o.moveXDir=i.DIR.RIGHT,o.moveZDir=i.DIR.UP,o.isPlane=!1,o.maxY=-1,o.minY=-1,o.onGroundFlag=!0,o._node=e,o}return __extends(e,t),Object.defineProperty(e.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0}),e.prototype.getLeft=function(){return this.x-this.node.getAnchorX()*this.width},e.prototype.getRight=function(){return this.x+(1-this.node.getAnchorX())*this.width},e.prototype.getMidY=function(){return this.y+s.SCREEN_Y*this.node.getAnchorY()*this.height/2},e.prototype.getMidX=function(){return this.x+(1-this.node.getAnchorX())*this.width/2},e.prototype.getTop=function(){return this.y+s.SCREEN_Y*this.node.getAnchorY()*this.height},e.prototype.getBottom=function(){return this.y-s.SCREEN_Y*(1-this.node.getAnchorY())*this.height},e.prototype.setCollide=function(t){this.collide=t},e.prototype.getCollide=function(){return this.collide},e.prototype.onGround=function(t,e){this.on("onGround",t,e)},e.prototype.offGround=function(t,e){this.off("onGround",t,e)},e.prototype.emitGround=function(){this.emit("onGround",this.onGroundFlag)},e.prototype.isScale=function(){return this.scale},e.prototype.isUpdatePos=function(){return this.updatePos},e.prototype.start=function(){this.enable&&this.setEnable(!0)},e.prototype.onDestroy=function(){this.enable&&this.setEnable(!1)},e.prototype.getDir=function(t){var e=this.height/3,o=this.width/3;return Math.abs(t.getTop()-this.getBottom())<=e?i.DIR.DOWN:Math.abs(t.getLeft()-this.getRight())<=o?i.DIR.RIGHT:Math.abs(t.getRight()-this.getLeft())<=o?i.DIR.LEFT:Math.abs(t.getBottom()-this.getTop())<=e?i.DIR.UP:i.DIR.NONE},e.prototype.setEnable=function(t){this.enable=t,this.enable?this.isPlane?a.PhysicalManager.instance().addPlane(this):a.PhysicalManager.instance().add(this):this.isPlane?a.PhysicalManager.instance().removePlane(this):a.PhysicalManager.instance().remove(this)},e.prototype.isEnable=function(){return this.enable},e.prototype.setMoveXDir=function(t){this.moveXDir=t},e.prototype.getMoveXDir=function(){return this.moveXDir},e.prototype.setMoveZDir=function(t){this.moveZDir=t},e.prototype.getMoveZDir=function(){return this.moveZDir},e.prototype.getFrictional=function(){return this.frictional},e.prototype.setGrictional=function(t){this.frictional=t},e.prototype.setElasticity=function(t){this.elasticity=t},e.prototype.getElasticity=function(){return this.elasticity},e.prototype.isG=function(){return this.g},e.prototype.setG=function(t){this.g=t},e.prototype.getJumpHigh=function(){return this.jumpHigh},e.prototype.setJumpHight=function(t){this.jumpHigh=t},e.prototype.addJumpHigh=function(t){this.jumpHigh+=t},e.prototype.jump=function(t){this.jumpHigh=t;var e=r.default.getVy(s.G,t);console.log(" jump spy ",e),this.onGroundFlag=!1,this.setSpeedY(e)},e.prototype.setX=function(t){this.x=t},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.setY=function(t){this.y=t,-1==this.minY?this.minY=t:t<this.minY&&(this.minY=t),-1==this.maxY?this.maxY=t:t>this.maxY&&(this.maxY=t)},e.prototype.getZ=function(){return this.z},e.prototype.setZ=function(t){this.z=t},e.prototype.updateZIndex=function(){this.node.setZIndex(-this.getZ())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.getSpeedX=function(){return this.speedX},e.prototype.setSpeedX=function(t){this.speedX=t},e.prototype.setSpeedY=function(t){this.speedY=t},e.prototype.getSpeedY=function(){return this.speedY},e.prototype.setSpeedZ=function(t){this.speedZ=t},e.prototype.getSpeedZ=function(){return this.speedZ},e.prototype.isOnGround=function(){return this.onGroundFlag},e.prototype.setOnGroundFlag=function(t){this.onGroundFlag=t,this.emitGround()},e.prototype.setSpeed=function(t,e,o){this.setSpeedX(t),this.setSpeedY(e),this.setSpeedZ(o)},e.prototype.setPosition=function(t,e,o){this.setX(t),this.setZ(o);var n=e-o;n<0&&(n=0),this.setY(n)},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getDepth=function(){return this.depth},e.prototype.setWidth=function(t){this.width=t},e.prototype.setHeight=function(t){this.height=t},e}(n.EventDispatcher);o.default=c,cc._RF.pop()},{"../event":"event","../tools/Define":"Define","../tools/Utils":"Utils","./MoveConfig":"MoveConfig","./PhysicalManager":"PhysicalManager"}],MusicManager:[function(t,e,o){"use strict";cc._RF.push(e,"32a06iCaZ1MYq3+y9n0N5uR","MusicManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./engine"),i=function(){function t(){}return t.prototype.getMaxNum=function(){return n.engine.audioEngine.getMaxAudioInstance()},t.prototype.play=function(t,e,o){if(this.tempName!=t){this.stop(),this.tempName=t;var i=n.engine.audioEngine.playMusic(e,o);o||n.engine.audioEngine.setFinishCallback(i,this.stop.bind(this,t))}},t.prototype.pause=function(){n.engine.audioEngine.pauseMusic()},t.prototype.resume=function(){n.engine.audioEngine.resumeMusic()},t.prototype.stop=function(){this.tempName&&(n.engine.audioEngine.stopMusic(),this.tempName=null)},t.prototype.setVolume=function(t){n.engine.audioEngine.setMusicVolume(t)},t.prototype.isPlaying=function(){return n.engine.audioEngine.isMusicPlaying()},t.prototype.clear=function(){this.stop()},t}();o.default=i,cc._RF.pop()},{"./engine":"engine"}],NativeAdItemView:[function(t,e,o){"use strict";cc._RF.push(e,"70cdci/aQRCGKhVIfWpkRmJ","NativeAdItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../sdk/SDKManager"),i=t("../../channel-ts/CMgr"),a=t("../OVNativeAdMgr"),r=t("../../../cfw/view"),s=t("../../../cfw/tools/Utils"),c=t("../../../config/ModuleConfig"),l=t("../../../cfw/res"),u=t("../../../cfw/module"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adImage=null,e.title=null,e.button=null,e.callback1=new cc.Component.EventHandler,e}return __extends(e,t),e.prototype.start=function(){var t=this;if(n.default.getChannel().hasNativeAd()){if(!i.default.helper.isVersion())return!1;n.default.getChannel().showNativeAd(0,function(e){console.log("NativeAdItemView list.length 111111111111111111 ",e.length),e.length>0?t.setModel(e[s.default.random(0,e.length)]):n.default.getChannel().showNativeAd(1,function(e){console.log("NativeAdItemView list.length 222222222222222222222 ",e.length),e.length>0?t.setModel(e[s.default.random(0,e.length)]):t.callback1?t.callback1.emit([]):t.node.active=!1})})}else this.callback1?this.callback1.emit([]):this.node.active=!1},e.prototype.setModel=function(t){var e=this;this.model=t,this.node.active=!0,this.title.string=this.model.getDesc();var o=this.model.getRandomImage();o&&u.ModuleManager.loadRes(c.ModuleID.RES,o,l.ResType.Remote,function(t,o){!t&&cc.isValid(e.node)?e.adImage&&(e.adImage.spriteFrame=new cc.SpriteFrame(o.getRes())):console.log(" err ",t)})},e.prototype.onButtonClick=function(){this.callback1&&this.callback1.emit([]),this.model&&n.default.getChannel().reportAdClick(this.model.getID())},e.prototype.onBackClick=function(){if(this.model){var t=i.default.helper.getNativeCloseNum();if(console.log(" onback$VButtonClick num ",t),t>0){var e=a.default.instance().getCloseAdCount();console.log(" onback$VButtonClick curNum ",e),e<t?(this.onButtonClick(),a.default.instance().updateCloseAdCount(1)):this.callback1&&this.callback1.emit([])}else this.callback1&&this.callback1.emit([])}else this.callback1&&this.callback1.emit([])},__decorate([h(cc.Sprite)],e.prototype,"adImage",void 0),__decorate([h(cc.Label)],e.prototype,"title",void 0),__decorate([h(cc.Node)],e.prototype,"button",void 0),__decorate([h({type:cc.Component.EventHandler,displayName:"\u56de\u8c03\u51fd\u6570"})],e.prototype,"callback1",void 0),__decorate([p],e)}(r.BaseItemView);o.default=f,cc._RF.pop()},{"../../../cfw/module":"module","../../../cfw/res":"res","../../../cfw/tools/Utils":"Utils","../../../cfw/view":"view","../../../config/ModuleConfig":"ModuleConfig","../../channel-ts/CMgr":"CMgr","../../sdk/SDKManager":"SDKManager","../OVNativeAdMgr":"OVNativeAdMgr"}],NativeAdState:[function(t,e,o){"use strict";cc._RF.push(e,"f49acq1mh5FWZIY8KmPDtuU","NativeAdState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../sdk/SDKManager"),i=cc._decorator,a=i.ccclass,r=(i.property,i.requireComponent,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.node.active=n.default.getChannel().hasNativeAd()},__decorate([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{"../../sdk/SDKManager":"SDKManager"}],NativeAdView:[function(t,e,o){"use strict";cc._RF.push(e,"6da71UkzBxCUYaasp9MMgaY","NativeAdView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=cc._decorator,a=i.ccclass,r=(i.property,i.requireComponent,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),__decorate([a],e)}(n.BaseView));o.default=r,cc._RF.pop()},{"../../../cfw/view":"view"}],NativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"61e99fXnv1AUr3xNjszJq3U","NativeAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../tools/SdkEventList"),i=function(){function t(){this.adUnitId="",this.data={},this.loadListener=new n.default,this.errorListener=new n.default}return t.prototype.getAdUnitId=function(){return this.data.adUnitId},t.prototype.onLoad=function(t){this.loadListener.on(t)},t.prototype.offLoad=function(t){this.loadListener.off(t)},t.prototype.emitLoad=function(t){this.loadListener.emit(t)},t.prototype.onError=function(t){this.errorListener.on(t)},t.prototype.offError=function(t){this.errorListener.off(t)},t.prototype.emitError=function(t){this.errorListener.emit(t)},t}();o.default=i,cc._RF.pop()},{"../../tools/SdkEventList":"SdkEventList"}],NativeAgreement:[function(t,e,o){"use strict";cc._RF.push(e,"61e6bhOxPZNM6rVs+Hqtz49","NativeAgreement"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./JsNativeBridge"),i=function(){function t(){}return t.showUserAgreement=function(t){this.loginSuccess=t.success,this.loginFail=t.fail,n.default.callStaticMethod("sdk/bridge/SystemBridge","showAgreement",JSON.stringify(t))},t.userAgreementCallback=function(t){cc.log("NativeTest JsNativeBridge userAgreementCallback result ",t),1==t?this.loginSuccess&&this.loginSuccess():this.loginFail&&this.loginFail()},t.loginSuccess=null,t.loginFail=null,t}();o.default=i,cc._RF.pop()},{"./JsNativeBridge":"JsNativeBridge"}],NativeBannerAdView:[function(t,e,o){"use strict";cc._RF.push(e,"ca6b75Q7cBI/pOhsCoVYCCx","NativeBannerAdView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NativeAdItemView"),i=t("../../channel-ts/CMgr"),a=t("../../../cfw/view"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nativeAd=null,e}return __extends(e,t),e.prototype.start=function(){this.refresh()},e.prototype.refresh=function(){var t=this,e=i.default.helper.getNativeBannerRefreshTime();e>0&&cc.tween(this.node).delay(e).call(function(){t.nativeAd.start(),t.refresh()}).start()},__decorate([c(n.default)],e.prototype,"nativeAd",void 0),__decorate([s],e)}(a.BaseView);o.default=l,cc._RF.pop()},{"../../../cfw/view":"view","../../channel-ts/CMgr":"CMgr","./NativeAdItemView":"NativeAdItemView"}],NativeBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"c46665b7gFNP6TNQTKhOgnk","NativeBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NativeAd"),i=t("../../tools/SdkEventList"),a=t("../../tools/SDKEvent"),r=t("../JsNativeBridge"),s=t("../NativeName"),c="sdk/bridge/BannerAdBridge",l=function(t){function e(){var e=t.call(this)||this;return e.resizeListener=new i.default,e.layout=0,e.width=0,e.height=0,a.default.instance().on(s.default.bannerAdCallback,e.bannerAdCallback,e),a.default.instance().on(s.default.bannerResize,e.bannerResize,e),e}return __extends(e,t),e.prototype.bannerResize=function(t,e){t==this.getAdUnitId()&&this.emitLoad(e)},e.prototype.bannerAdCallback=function(t,e){console.log("NativeTest bannerAdCallback result ",e),t==this.getAdUnitId()&&(1==e?this.emitLoad(null):this.emitError("\u52a0\u8f7d\u5931\u8d25"))},e.prototype.create=function(t){r.default.callStaticMethod(c,s.default.create,JSON.stringify(t))},e.prototype.load=function(){r.default.callStaticMethod(c,s.default.load,this.getAdUnitId())},e.prototype.hide=function(){r.default.callStaticMethod(c,s.default.hide,this.getAdUnitId())},e.prototype.show=function(){r.default.callStaticMethod(c,s.default.show,this.getAdUnitId())},e.prototype.destroy=function(){a.default.instance().off(s.default.bannerAdCallback,this.bannerAdCallback,this),a.default.instance().off(s.default.bannerResize,this.bannerResize,this),r.default.callStaticMethod(c,s.default.destroy,this.getAdUnitId())},e.prototype.onResize=function(t){this.resizeListener.on(t)},e.prototype.offResize=function(t){this.resizeListener.off(t)},e.prototype.emitResize=function(t){this.resizeListener.emit(t)},e}(n.default);o.default=l,cc._RF.pop()},{"../../tools/SDKEvent":"SDKEvent","../../tools/SdkEventList":"SdkEventList","../JsNativeBridge":"JsNativeBridge","../NativeName":"NativeName","./NativeAd":"NativeAd"}],NativeButtonJump:[function(t,e,o){"use strict";cc._RF.push(e,"398260ci+tIVJV87RpLmE+D","NativeButtonJump"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../channel-ts/CMgr"),i=t("../../../cfw/view"),a=cc._decorator,r=a.ccclass,s=a.property;(0,a.requireComponent)(cc.Button);var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.callback1=new cc.Component.EventHandler,e.callback2=new cc.Component.EventHandler,e}return __extends(e,t),e.prototype.start=function(){n.default.helper.isOpenNativeErrorClick()?this.label.string="\u67e5\u770b\u5e7f\u544a":this.label.string="\u70b9\u51fb\u8df3\u8fc7"},e.prototype.onButtonClick=function(){n.default.helper.isOpenNativeErrorClick()?this.callback1.emit([]):this.callback2.emit([])},__decorate([s(cc.Label)],e.prototype,"label",void 0),__decorate([s({type:cc.Component.EventHandler,displayName:"\u56de\u8c03\u51fd\u6570"})],e.prototype,"callback1",void 0),__decorate([s({type:cc.Component.EventHandler,displayName:"\u56de\u8c03\u51fd\u6570"})],e.prototype,"callback2",void 0),__decorate([r],e)}(i.BaseView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","../../channel-ts/CMgr":"CMgr"}],NativeButtonNext:[function(t,e,o){"use strict";cc._RF.push(e,"a5c1crNHYVGXLI3eQrcrX1i","NativeButtonNext"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../channel-ts/CMgr"),i=t("../../../cfw/view"),a=cc._decorator,r=a.ccclass,s=a.property;(0,a.requireComponent)(cc.Button);var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.callback1=new cc.Component.EventHandler,e}return __extends(e,t),e.prototype.start=function(){this.node.active=n.default.helper.hasNativeNextLimit()},e.prototype.onNextClick=function(){this.callback1.emit([])},__decorate([s({type:cc.Component.EventHandler,displayName:"\u56de\u8c03\u51fd\u6570"})],e.prototype,"callback1",void 0),__decorate([r],e)}(i.BaseView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","../../channel-ts/CMgr":"CMgr"}],NativeButtonX:[function(t,e,o){"use strict";cc._RF.push(e,"ec2ddVDJ71NMLynh434fTle","NativeButtonX"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../channel-ts/CMgr"),i=t("../../../cfw/view"),a=cc._decorator,r=a.ccclass;a.property,(0,a.requireComponent)(cc.Button);var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.node.active=!1;var e=n.default.helper.getJumpTime();this.setTimeout(function(){t.node.active=!0},e),n.default.helper.hasNativeTouchSwitch()?(this.node.width=50,this.node.height=50):(this.node.width=60,this.node.height=60)},__decorate([r],e)}(i.BaseView);o.default=s,cc._RF.pop()},{"../../../cfw/view":"view","../../channel-ts/CMgr":"CMgr"}],NativeFileSystem:[function(t,e,o){"use strict";cc._RF.push(e,"87e1czHBdJDc5gfRuGEu+XE","NativeFileSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/SDKFileSystemManager"),i=t("../SDKConfig"),a=t("../SDKHelper"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){this.fs=this.sdk.getFileSystemManager(),this.sysPath=this.sdk.env.USER_DATA_PATH},e.prototype.writeFileSync=function(t,e,o){var n=this.sysPath+t;return o==i.FileEncoding.BINARY&&(e=a.default.uint8ArrayToString(e)),this.sdk.writeFileSync(e,n),!0},e.prototype.readFileSync=function(t,e){var o=this.sysPath+t,n=this.sdk.readFileSync(o,e);return e==i.FileEncoding.BINARY&&(n=a.default.stringToUint8Array(n)),n},e.prototype.writeFile=function(t,e,o,n){this.writeFileSync(t,e,o),n(i.ResultState.YES)},e.prototype.readFile=function(t,e,o){var n=this.readFileSync(t,e);n?o(i.ResultState.YES,n):o(i.ResultState.NO,null)},e}(n.default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKHelper":"SDKHelper","../base/SDKFileSystemManager":"SDKFileSystemManager"}],NativeHideBanner:[function(t,e,o){"use strict";cc._RF.push(e,"0daea3GGlxLNrNDYzc2Oujp","NativeHideBanner"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../comp/InsertAdMgr"),i=cc._decorator,a=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){n.default.setBannerState(!1)},e.prototype.onDestroy=function(){n.default.setBannerState(!0)},__decorate([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{"../../comp/InsertAdMgr":"InsertAdMgr"}],NativeInterstitialAd:[function(t,e,o){"use strict";cc._RF.push(e,"87b36ErNGJJWpqJ9ir/irP8","NativeInterstitialAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NativeAd"),i=t("../../tools/SDKEvent"),a=t("../JsNativeBridge"),r=t("../NativeName"),s="sdk/bridge/InsertAdBridge",c=function(t){function e(){var e=t.call(this)||this;return i.default.instance().on(r.default.insertAdCallback,e.insertAdCallback,e),e}return __extends(e,t),e.prototype.insertAdCallback=function(t,e){t==this.getAdUnitId()&&(1==e?this.emitLoad(null):this.emitError("\u52a0\u8f7d\u5931\u8d25"))},e.prototype.create=function(t){a.default.callStaticMethod(s,r.default.create,JSON.stringify(t))},e.prototype.show=function(){a.default.callStaticMethod(s,r.default.show,this.getAdUnitId())},e.prototype.load=function(){a.default.callStaticMethod(s,r.default.load,this.getAdUnitId())},e.prototype.destroy=function(){i.default.instance().off(r.default.insertAdCallback,this.insertAdCallback,this),a.default.callStaticMethod(s,r.default.destroy,this.getAdUnitId())},e}(n.default);o.default=c,cc._RF.pop()},{"../../tools/SDKEvent":"SDKEvent","../JsNativeBridge":"JsNativeBridge","../NativeName":"NativeName","./NativeAd":"NativeAd"}],NativeName:[function(t,e,o){"use strict";cc._RF.push(e,"7818beitVJFu6XzCqjxq4hL","NativeName"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.bannerAdCallback="bannerAdCallback",t.rewardAdCallback="rewardAdCallback",t.insertAdCallback="insertAdCallback",t.rewardAdClose="rewardAdClose",t.bannerResize="bannerResize",t.templateAdCallback="templateAdCallback",t.nativeAdCallback="nativeAdCallback",t.selfRenderAdCallback="selfRenderAdCallback",t.create="create",t.load="load",t.show="show",t.destroy="destroy",t.hide="hide",t.login="login",t}();o.default=n,cc._RF.pop()},{}],NativeNativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"5252feZ4yNMyYK+bLTZPexh","NativeNativeAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NativeAd"),i=t("../../tools/SDKEvent"),a=t("../JsNativeBridge"),r=t("../NativeName"),s=function(t){function e(){var e=t.call(this)||this;return i.default.instance().on(r.default.nativeAdCallback,e.nativeAdCallback,e),e}return __extends(e,t),e.prototype.nativeAdCallback=function(t,e){t==this.getAdUnitId()&&(1==e?this.emitLoad(null):this.emitError("\u52a0\u8f7d\u5931\u8d25"))},e.prototype.create=function(t){a.default.callStaticMethod("",r.default.create,JSON.stringify(t))},e.prototype.reportAdShow=function(t){a.default.callStaticMethod("","reportAdShow",JSON.stringify(t))},e.prototype.reportAdClick=function(t){a.default.callStaticMethod("","reportAdClick",JSON.stringify(t))},e.prototype.load=function(){a.default.callStaticMethod("",r.default.load,this.getAdUnitId())},e.prototype.destroy=function(){i.default.instance().off(r.default.nativeAdCallback,this.nativeAdCallback,this),a.default.callStaticMethod("",r.default.destroy,this.getAdUnitId())},e}(n.default);o.default=s,cc._RF.pop()},{"../../tools/SDKEvent":"SDKEvent","../JsNativeBridge":"JsNativeBridge","../NativeName":"NativeName","./NativeAd":"NativeAd"}],NativeRewardedVideoAd:[function(t,e,o){"use strict";cc._RF.push(e,"3685bd3Jd1Ip780WZgKuS2n","NativeRewardedVideoAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NativeAd"),i=t("../../tools/SdkEventList"),a=t("../../tools/SDKEvent"),r=t("../JsNativeBridge"),s=t("../NativeName"),c="sdk/bridge/RewardAdBridge",l=function(t){function e(){var e=t.call(this)||this;return e.closeListener=new i.default,a.default.instance().on(s.default.rewardAdCallback,e.rewardAdCallback,e),a.default.instance().on(s.default.rewardAdClose,e.rewardAdClose,e),e}return __extends(e,t),e.prototype.create=function(t){r.default.callStaticMethod(c,s.default.create,JSON.stringify(t))},e.prototype.load=function(){r.default.callStaticMethod(c,s.default.load,this.getAdUnitId())},e.prototype.show=function(){r.default.callStaticMethod(c,s.default.show,this.getAdUnitId())},e.prototype.destroy=function(){r.default.callStaticMethod(c,s.default.destroy,this.getAdUnitId()),a.default.instance().off(s.default.rewardAdCallback,this.rewardAdCallback,this),a.default.instance().off(s.default.rewardAdClose,this.rewardAdClose,this)},e.prototype.onClose=function(t){this.closeListener.on(t)},e.prototype.offClose=function(t){this.closeListener.off(t)},e.prototype.emitClose=function(t){this.closeListener.emit(t)},e.prototype.rewardAdCallback=function(t,e){t==this.getAdUnitId()&&(console.log(" rewardAdCallback result ",e),1==e?this.emitLoad(null):this.emitError("\u52a0\u8f7d\u5931\u8d25"))},e.prototype.rewardAdClose=function(t,e){t==this.getAdUnitId()&&this.emitClose({isEnded:e})},e}(n.default);o.default=l,cc._RF.pop()},{"../../tools/SDKEvent":"SDKEvent","../../tools/SdkEventList":"SdkEventList","../JsNativeBridge":"JsNativeBridge","../NativeName":"NativeName","./NativeAd":"NativeAd"}],NativeSelftRenderAd:[function(t,e,o){"use strict";cc._RF.push(e,"d1ba3hRSzdChbUcDf7ImhtJ","NativeSelftRenderAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NativeAd"),i=t("../../tools/SDKEvent"),a=t("../JsNativeBridge"),r=t("../NativeName"),s="sdk/bridge/SelfRenderAdBridge",c=function(t){function e(){var e=t.call(this)||this;return i.default.instance().on(r.default.selfRenderAdCallback,e.selfRenderAdCallback,e),e}return __extends(e,t),e.prototype.selfRenderAdCallback=function(t,e){t==this.getAdUnitId()&&(1==e?this.emitLoad(null):this.emitError("\u52a0\u8f7d\u5931\u8d25"))},e.prototype.create=function(t){a.default.callStaticMethod(s,r.default.create,JSON.stringify(t))},e.prototype.load=function(){a.default.callStaticMethod(s,r.default.load,this.getAdUnitId())},e.prototype.show=function(){a.default.callStaticMethod(s,r.default.show,this.getAdUnitId())},e.prototype.destroy=function(){i.default.instance().off(r.default.selfRenderAdCallback,this.selfRenderAdCallback,this),a.default.callStaticMethod(s,r.default.destroy,this.getAdUnitId())},e}(n.default);o.default=c,cc._RF.pop()},{"../../tools/SDKEvent":"SDKEvent","../JsNativeBridge":"JsNativeBridge","../NativeName":"NativeName","./NativeAd":"NativeAd"}],NativeSlideError:[function(t,e,o){"use strict";cc._RF.push(e,"3c24dk94HxOyqGXKNXRO+i2","NativeSlideError"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NativeAdItemView"),i=t("../../channel-ts/CMgr"),a=t("../../../engine/EngineHelper"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nativeAd=null,e.isHitTest=!1,e}return __extends(e,t),e.prototype.start=function(){i.default.helper.getNativeSlide()&&(this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.isHitTest&&(this.node._hitTest=this.hitTest.bind(this)))},e.prototype.hitTest=function(t){if(this.nativeAd){var e=this.nativeAd.node;return!(!e.active||!a.default.isPositionInRect(t,e.getBoundingBoxToWorld()))}},e.prototype.touchMove=function(t){if(this.nativeAd){var e=t.getLocationInView(),o=this.nativeAd.node.getBoundingBoxToWorld(),n=a.default.isPositionInRect(e,o);console.log("OVNativeAdView touchMove  flag ",n),n&&this.nativeAd.onButtonClick()}},__decorate([c(n.default)],e.prototype,"nativeAd",void 0),__decorate([c],e.prototype,"isHitTest",void 0),__decorate([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../engine/EngineHelper":"EngineHelper","../../channel-ts/CMgr":"CMgr","./NativeAdItemView":"NativeAdItemView"}],NativeSystem:[function(t,e,o){"use strict";cc._RF.push(e,"d28d2hj3ndHKr6t0GVn7Se0","NativeSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./JsNativeBridge"),i=t("./NativeName"),a="sdk/bridge/SystemBridge",r=function(){function t(){}return t.login=function(t){this.loginSuccess=t.success,this.loginFail=t.fail,n.default.callStaticMethod(a,i.default.login,JSON.stringify(t))},t.loginCallback=function(t){var e=t.split("$$"),o=e[0];1==parseInt(e[1])?this.loginSuccess&&this.loginSuccess(o):this.loginFail&&this.loginFail(o)},t.exitApp=function(){n.default.callStaticMethod(a,"exitApp","")},t.initAd=function(){n.default.callStaticMethod(a,"initAd","")},t.loginSuccess=null,t.loginFail=null,t}();o.default=r,cc._RF.pop()},{"./JsNativeBridge":"JsNativeBridge","./NativeName":"NativeName"}],NativeTemplateAd:[function(t,e,o){"use strict";cc._RF.push(e,"862a3r0+1JAVpGabIpommvr","NativeTemplateAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NativeAd"),i=t("../../tools/SDKEvent"),a=t("../JsNativeBridge"),r=t("../NativeName"),s="sdk/bridge/TemplateAdBridge",c=function(t){function e(){var e=t.call(this)||this;return i.default.instance().on(r.default.templateAdCallback,e.templateAdCallback,e),e}return __extends(e,t),e.prototype.templateAdCallback=function(t,e){t==this.getAdUnitId()&&(1==e?this.emitLoad(null):this.emitError("\u52a0\u8f7d\u5931\u8d25"))},e.prototype.create=function(t){a.default.callStaticMethod(s,r.default.create,JSON.stringify(t))},e.prototype.show=function(){a.default.callStaticMethod(s,r.default.show,this.getAdUnitId())},e.prototype.load=function(){a.default.callStaticMethod(s,r.default.load,this.getAdUnitId())},e.prototype.destroy=function(){i.default.instance().off(r.default.templateAdCallback,this.templateAdCallback,this),a.default.callStaticMethod(s,r.default.destroy,this.getAdUnitId())},e}(n.default);o.default=c,cc._RF.pop()},{"../../tools/SDKEvent":"SDKEvent","../JsNativeBridge":"JsNativeBridge","../NativeName":"NativeName","./NativeAd":"NativeAd"}],NewBuildItem:[function(t,e,o){"use strict";cc._RF.push(e,"174c5ASVkJAapvXwJL38Wi/","NewBuildItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../extention/UI/CustomButton"),i=t("../../merge/MergeEngin"),a=t("./ItemCondition"),r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=parseInt(this.node.name);this.img=this.node.children[0],i.PlotMgr.instance().hasPlot(t.toString())?this.img.active=!1:(this.addButton(this.node,t),this.addItem(t),i.PlotMgr.instance().on(i.PlotMgr.AddPlot,this.clearImg,this))},e.prototype.addButton=function(t,e){console.log("\u6dfb\u52a0\u6309\u94ae");var o=t.addComponent(n.CustomButton);o.transition=cc.Button.Transition.SCALE;var i=new cc.Component.EventHandler;i.target=this.node,i.component="NewBuildItem",i.handler="onBuildClick",i.customEventData=""+e,o.clickEvents.push(i)},e.prototype.addItem=function(t){var e=this;i.PlotMgr.instance().getCondition(t).forEach(function(t){console.log("\u6dfb\u52a0\u6761\u4ef6",t.type);var o=cc.instantiate(i.PlotMgr.instance().conditionPrefab);o.setParent(e.img),o.getComponent(a.default).Init(t.type)})},e.prototype.onDestroy=function(){i.PlotMgr.instance().off(i.PlotMgr.AddPlot,this.clearImg,this)},e.prototype.getWorldPos=function(){return this.node.parent.convertToWorldSpaceAR(this.node.getPosition())},e.prototype.clearImg=function(t){t.cur_scene_talk_id==parseInt(this.node.name)&&(this.img.active=!1,this.node.getComponent(n.CustomButton).enabled=!1,this.node.destroy())},e.prototype.onBuildClick=function(t,e){i.PlotMgr.instance().isOnItem||(i.PlotMgr.instance().notify(e),console.log(" onBuildClick ",e))},__decorate([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../../extention/UI/CustomButton":"CustomButton","../../merge/MergeEngin":"MergeEngin","./ItemCondition":"ItemCondition"}],NewSceneC:[function(t,e,o){"use strict";cc._RF.push(e,"456ff31teNOZ6SSMpGIabkG","NewSceneC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/module"),i=t("../../cfw/mvc"),a=t("../../cfw/res"),r=t("../../cfw/tools/ViewManager"),s=t("../../cfw/ui"),c=t("../../config/ModuleConfig"),l=t("../../config/UIConfig"),u=t("../public/loading/LoadingC"),d=t("../scene/model/SceneMgr"),p=function(t){function e(){var e=t.call(this)||this;return e.curID=0,e}return __extends(e,t),e.prototype.intoLayer=function(t,e,o){var i=this;if(void 0===e&&(e=d.default.instance().getCurID()),this.curID!=e){this.callback=o,this.curID=e;var r=Math.floor(e%100/10)+1,s=d.default.instance().getSceneItemModel(r%6+1);this.model=s,this.model.setID(r),console.log("\u5305\u540d","build"+(Math.floor(e/100)%10+1),e),this.bundleName="build"+(Math.floor(e/100)%10+1),this.bundleName&&(n.BundleManager.instance().hasBundle(this.bundleName)?this.showView(this.model,t):(u.default.instance().addItem(this.bundleName,a.ResType.AssetBundle,c.ModuleID.RES,"\u52a0\u8f7d"+this.bundleName+"\u5206\u5305"),u.default.instance().intoLayer(function(){i.showView(i.model,t)},l.UIIndex.AD_LAYER)))}},e.prototype.showView=function(t,e){var o=this;r.default.pushUIToast({path:"prefabs/SceneView"+t.getID(),moduleID:this.bundleName,uiIndex:l.UIIndex.ROOT,model:null,controller:this,className:"NewSceneView",parent:e,func:function(){s.default.instance().popView(),o.callback&&(o.callback(),o.callback=null)}})},e}(i.BaseController);o.default=p,cc._RF.pop()},{"../../cfw/module":"module","../../cfw/mvc":"mvc","../../cfw/res":"res","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../public/loading/LoadingC":"LoadingC","../scene/model/SceneMgr":"SceneMgr"}],NewSceneView:[function(t,e,o){"use strict";cc._RF.push(e,"689daJ1iXlMOIfhiblLVGlw","NewSceneView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("../../engine/engine"),a=t("../../merge/MergeEngin"),r=t("./NewBuildItem"),s=t("./NewSceneC"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgImg=null,e}return __extends(e,t),e.prototype.start=function(){this.node.children[0].getComponent(cc.Sprite).enabled=!1,this.setController(s.default.instance()),this.contentSize(),a.PlotMgr.instance().on(a.PlotMgr.AddMainPlot,this.release,this)},e.prototype.contentSize=function(){this.bgImg=i.engine.findChild("bgImg",this.node);var t=this.bgImg.height;i.engine.setNodeWH(this.bgImg);for(var e=this.bgImg.height/t,o=this.bgImg.childrenCount,n=0;n<o;n++){var a=this.bgImg.children[n];a.y*=e;var s=a.getComponent(r.default);s||(s=a.addComponent(r.default))}},e.prototype.release=function(){a.PlotMgr.instance().off(a.PlotMgr.AddMainPlot,this.release,this),this.node.destroy()},__decorate([l],e)}(n.BaseView));o.default=u,cc._RF.pop()},{"../../cfw/view":"view","../../engine/engine":"engine","../../merge/MergeEngin":"MergeEngin","./NewBuildItem":"NewBuildItem","./NewSceneC":"NewSceneC"}],NodeInterface:[function(t,e,o){"use strict";cc._RF.push(e,"a3acbH+fVJC2osi/K+TjVuu","NodeInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],NormalShareC:[function(t,e,o){"use strict";cc._RF.push(e,"7103bzASjlCM6eJOuZoIO9T","NormalShareC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ShareController"),i=t("../../config/UmengEventID"),a=t("../channel-ts/CMgr"),r=t("../../logic/public/bag/BagManager"),s=t("../../engine/EngineHelper"),c=t("../../logic/public/tip/TipC"),l=t("../../cfw/ui"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.stopRecorder=function(t){var e=this;a.default.helper.showShare(0,function(o){o?(a.default.helper.trackEvent(i.default.buy_energy_use_share),r.default.instance().updateItem(e.getItem(),s.default.getMidPos())):c.default.instance().showToast("\u5206\u4eab\u5931\u8d25"),l.default.instance().popView(t)},null)},e}(n.default);o.default=u,cc._RF.pop()},{"../../cfw/ui":"ui","../../config/UmengEventID":"UmengEventID","../../engine/EngineHelper":"EngineHelper","../../logic/public/bag/BagManager":"BagManager","../../logic/public/tip/TipC":"TipC","../channel-ts/CMgr":"CMgr","./ShareController":"ShareController"}],OVNativeAdC:[function(t,e,o){"use strict";cc._RF.push(e,"d6043MsSxhOsoMfzWMPB/Ez","OVNativeAdC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../sdk/SDKManager"),i=t("../channel-ts/CMgr"),a=t("../../cfw/mvc"),r=t("../../cfw/ui"),s=t("../../config/UIConfig"),c=t("../../config/ModuleConfig"),l=t("../../cfw/tools/ViewManager"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(t){void 0===t&&(t=!1),!t||i.default.helper.hasNativeLimit()?n.default.getChannel().hasNativeAd()?i.default.helper.isVersion()&&l.default.pushUIView({path:"prefabs/NativeAdView",uiIndex:s.UIIndex.AD_LAYER,moduleID:c.ModuleID.nativeAd,model:null,controller:this}):console.log("OVNativeAdC \u6ca1\u6709\u5e7f\u544a  "):console.log(" CMgr.helper.hasNativeLimit() ",i.default.helper.hasNativeLimit())},e.prototype.showBanner=function(){n.default.getChannel().hasNativeAd()?i.default.helper.isVersion()&&l.default.pushUIView({path:"prefabs/NativeBannerAdView",uiIndex:s.UIIndex.AD_LAYER,moduleID:c.ModuleID.nativeAd,model:null,controller:this}):console.log("OVNativeAdC showBanner \u6ca1\u6709\u5e7f\u544a  ")},e.prototype.hideBanner=function(){i.default.helper.isVersion()&&(n.default.getChannel().hasNativeAd()?r.default.instance().removeView("NativeBannerAdView",s.UIIndex.AD_LAYER):console.log("OVNativeAdC showBanner \u6ca1\u6709\u5e7f\u544a  "))},e.FORCE_CLOSE=!1,e}(a.BaseController);o.default=u,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../channel-ts/CMgr":"CMgr","../sdk/SDKManager":"SDKManager"}],OVNativeAdMgr:[function(t,e,o){"use strict";cc._RF.push(e,"1c523sYh4RLZ4ltmgIapKB6","OVNativeAdMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/model"),i=t("../../cfw/local"),a=t("../../cfw/time"),r="KittyTown",s=function(t){function e(){var e=t.call(this)||this;e.isSameDay=!1,e.loginNum=new i.LocalValue(r+"loginNum",0),e.loginTime=new i.LocalValue(r+"loginTime",0),e.closeNativeAdCount=new i.LocalValue(r+"closeNativeAdCount",0),0==e.loginTime.getValue()&&e.loginTime.setValue(a.TimeHelper.now());var o=a.TimeHelper.getLoginDayNum(e.loginTime.getValue(),5);return o!=e.loginNum.getValue()?(e.loginNum.setValue(o),e.closeNativeAdCount.setValue(0),e.isSameDay=!1):e.isSameDay=!0,e}return __extends(e,t),e.prototype.updateCloseAdCount=function(t){this.closeNativeAdCount.updateValue(t)},e.prototype.getCloseAdCount=function(){return this.closeNativeAdCount.getValue()},e.prototype.setLoginNum=function(t){return this.loginNum.setValue(t)},e.prototype.getLoginNum=function(){return this.loginNum.getValue()},e.prototype.checkLoginNum=function(){return!this.isSameDay},e}(n.BaseModel);o.default=s,cc._RF.pop()},{"../../cfw/local":"local","../../cfw/model":"model","../../cfw/time":"time"}],OfflineView:[function(t,e,o){"use strict";cc._RF.push(e,"ba155MMj/FIUpg/9APsPdWF","OfflineView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/time"),a=t("../../../cocos/lang/UIText"),r=t("../../../cfw/model"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normal=null,e.double=null,e.title=null,e.desc=null,e.tokenNum=null,e.goldNum=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.model.setState(r.ItemState.CAN_GET),this.title.string=this.model.getName();var t=this.model.getPassTime();this.desc.string=a.default.instance().getText(24,{num:i.TimeDisplay.getFontString(t)}),this.goldNum.string=""+this.model.getGoldNum(),this.tokenNum.string=""+this.model.getTokenNum()},e.prototype.onNormalBtnClick=function(){this.hide(),this.controller.getOfflineReward(this.model,1)},e.prototype.noDoubleBtnClick=function(){this.controller.getOfflineReward(this.model,2)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.model&&this.model.setState(r.ItemState.NOT_GET)},__decorate([l(cc.Button)],e.prototype,"normal",void 0),__decorate([l(cc.Button)],e.prototype,"double",void 0),__decorate([l(cc.Label)],e.prototype,"title",void 0),__decorate([l(cc.Label)],e.prototype,"desc",void 0),__decorate([l(cc.Label)],e.prototype,"tokenNum",void 0),__decorate([l(cc.Label)],e.prototype,"goldNum",void 0),__decorate([c],e)}(n.BaseView);o.default=u,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/time":"time","../../../cfw/view":"view","../../../cocos/lang/UIText":"UIText"}],OnlineButton:[function(t,e,o){"use strict";cc._RF.push(e,"50cf7gcoklC1Ix/G1OCpscl","OnlineButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../sdk/channel-ts/CMgr"),i=t("../ActivityC"),a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.active=n.default.helper.hasOnline()},e.prototype.onButtonClick=function(){i.default.instance().showOnlineView()},__decorate([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../../sdk/channel-ts/CMgr":"CMgr","../ActivityC":"ActivityC"}],OnlineLightEffect:[function(t,e,o){"use strict";cc._RF.push(e,"235f06reQRH7rQADGmNnYNJ","OnlineLightEffect"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/event"),i=t("../../../config/Config"),a=t("../../../cfw/view"),r=t("../../../cocos/comp/Rotation360"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onEnter=function(){this.setVisible(!1),n.GEvent.instance().on(i.EventName.ONLINE_LIGHT_EFFECT,this.updateState,this)},e.prototype.updateState=function(t){var e=this.node;this.setVisible(t),t&&(e.getComponent(r.default)||e.addComponent(r.default))},e.prototype.onDestroy=function(){n.GEvent.instance().off(i.EventName.ONLINE_LIGHT_EFFECT,this.updateState,this)},__decorate([c],e)}(a.BaseItemView));o.default=l,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/view":"view","../../../cocos/comp/Rotation360":"Rotation360","../../../config/Config":"Config"}],OnlineView:[function(t,e,o){"use strict";cc._RF.push(e,"e701fDNWpNMGpqFt1bZa3AL","OnlineView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/time"),a=t("../../../config/Config"),r=t("../../../cocos/lang/UIText"),s=t("../../../sdk/installapp/InstallAppC"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normal=null,e.double=null,e.title=null,e.desc=null,e.tokenNum=null,e.goldNum=null,e.hideBtn=null,e.doubleText=null,e.itemIcon=null,e.timer=new i.CountDownTimer(function(t){0==t?e.updateState():e.desc.string=r.default.instance().getText(26,{num:i.TimeDisplay.getFontString(t)})},1),e}return __extends(e,t),e.prototype.onEnter=function(){this.title.string=this.model.getName(),i.TimeManager.instance().add(this.timer),this.goldNum.string=""+this.model.getOnLineGold();var t=this.model.getItem();t&&(this.setSpriteAtlas(this.itemIcon,t.getModuleID(),t.getIcon(),t.getSpriteFrame()),this.tokenNum.string=""+this.model.getOnlineToken(),this.itemIcon.node.scale=t.getScale()),this.updateState(),this.gEventProxy.on(a.EventName.CLOSE_GAME_VIEW,this.hide,this)},e.prototype.addListener=function(){this.eventProxy.on(a.EventName.UPDATE_ONLINE_TIME,this.updateState,this)},e.prototype.updateState=function(){var t=this.model.getTime();this.timer.setTime(t),console.log("this.timer.getTime() ",this.timer.getTime()),this.timer.getTime()<=0?(this.doubleText.string=r.default.instance().getText(36),this.normal.node.active=!0,this.desc.string=r.default.instance().getText(42)):(this.normal.node.active=!1,this.doubleText.string=r.default.instance().getText(41),this.desc.string=r.default.instance().getText(26,{num:this.timer.getTime()}))},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),i.TimeManager.instance().remove(this.timer),s.default.instance().intoLayer()},e.prototype.onNormalBtnClick=function(){this.hide(),this.controller.getOnlineReward(this.model,1)},e.prototype.noDoubleBtnClick=function(){this.controller.getOnlineReward(this.model,2)},__decorate([u(cc.Button)],e.prototype,"normal",void 0),__decorate([u(cc.Button)],e.prototype,"double",void 0),__decorate([u(cc.Label)],e.prototype,"title",void 0),__decorate([u(cc.Label)],e.prototype,"desc",void 0),__decorate([u(cc.Label)],e.prototype,"tokenNum",void 0),__decorate([u(cc.Label)],e.prototype,"goldNum",void 0),__decorate([u(cc.Button)],e.prototype,"hideBtn",void 0),__decorate([u(cc.Label)],e.prototype,"doubleText",void 0),__decorate([u(cc.Sprite)],e.prototype,"itemIcon",void 0),__decorate([l],e)}(n.BaseView);o.default=d,cc._RF.pop()},{"../../../cfw/time":"time","../../../cfw/view":"view","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","../../../sdk/installapp/InstallAppC":"InstallAppC"}],OperateFactory:[function(t,e,o){"use strict";cc._RF.push(e,"ace47ubud5JLbdaPAkyra/W","OperateFactory"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GameEventConfig"),i=t("../../guide/GuideMgr"),a=t("../../gameTip/model/GameTipMgr"),r=t("../../gameTip/model/CloseGameTip"),s=t("../../dialog/model/DialogMgr"),c=function(){function t(){}return t.build=function(t,e){var o=this.ins[t];if(!o){switch(t){case n.OperateType.OPEN_GUIDE:o=i.default.instance();break;case n.OperateType.OPEN_TIP:o=a.default.instance();break;case n.OperateType.CLOSE_TIP:o=r.default.instance();break;case n.OperateType.OPEN_DIALOG:o=s.default.instance()}o&&(this.ins[t]=o,o.setEvent(e),o.setType(t))}return o},t.ins={},t}();o.default=c,cc._RF.pop()},{"../../dialog/model/DialogMgr":"DialogMgr","../../gameTip/model/CloseGameTip":"CloseGameTip","../../gameTip/model/GameTipMgr":"GameTipMgr","../../guide/GuideMgr":"GuideMgr","../GameEventConfig":"GameEventConfig"}],OperateObserver:[function(t,e,o){"use strict";cc._RF.push(e,"ec2edo29PdF972XkWwMHC+M","OperateObserver"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../GameEventConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=i.OperateType.CLOSE_TIP,e}return __extends(e,t),e.prototype.setType=function(t){this.type=t},e.prototype.setEvent=function(t){this.event=t},e.prototype.start=function(){},e.prototype.finish=function(){this.event&&this.event.eventFinish(this.type)},e}(n.BaseModel);o.default=a,cc._RF.pop()},{"../../../cfw/model":"model","../GameEventConfig":"GameEventConfig"}],OppoBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"80f8akCXZxJbbTANCFjN1TZ","OppoBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.preload=function(t){this.logicState=t,this.destroy(),this.create(),this.show()},e.prototype.load=function(){},e.prototype.getStyle=function(){return{}},e.prototype.create=function(){console.log("OppoBannerAd this.adUnitID ",this.adUnitID),this.bannerAd||(this.bannerAd=this.sdk.createBannerAd({adUnitId:this.adUnitID,style:this.getStyle()}),this.bannerAd.onLoad(this.onLoad.bind(this)),this.bannerAd.onError(this.onError.bind(this)),this.bannerAd.onResize(this.onResize.bind(this)))},e}(t("../base/BaseBannerAd").default);o.default=n,cc._RF.pop()},{"../base/BaseBannerAd":"BaseBannerAd"}],OppoChannel:[function(t,e,o){"use strict";cc._RF.push(e,"0154eNsvYBIM6pk/mf35USH","OppoChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("../SDKConfig"),a=t("./OppoRewardAd"),r=t("./OppoBannerAd"),s=t("./OppoNativeAd"),c=t("./OppoScreenshot"),l=t("./OppoFileSystem"),u=t("../base/BaseSubPackage"),d=t("./GamePortalAd"),p=t("../SDKHelper"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.hasAd=function(t){var e=this.cfg,o=this.sdk.getSystemInfoSync().platformVersionCode,n=e[t];if(!n)return-1;var a=n[i.ADName.version];return a?o>=a:0},e.prototype.init=function(){var t,e=this.cfg;if(console.log("OppoChannel  constructor "),this.sdk.onShow(function(){console.log("OppoChannel  onShow ")}),this.sdk.onHide(function(){console.log("OppoChannel  onHide ")}),this.hasAd(i.ADName.reward)&&(t=e[i.ADName.reward][i.ADName.adUnitIdList]))for(var o=0;o<t.length;o++){var n=t[o];this.rewardAd.push(new a.default(this,n))}if(this.hasAd(i.ADName.banner)){if(t=e[i.ADName.banner][i.ADName.adUnitIdList])for(o=0;o<t.length;o++)n=t[o],this.bannerAd.push(new r.default(this,n))}else console.warn(" \u6ca1\u6709banner\u5e7f\u544a");if(this.hasAd(i.ADName.native)&&(t=e[i.ADName.native][i.ADName.adUnitIdList])&&(this.nativeAd=new s.default(this,t)),this.hasAd(i.ADName.portal)&&(t=e[i.ADName.portal][i.ADName.adUnitIdList]))for(o=0;o<t.length;o++)n=t[o],this.appBoxAd.push(new d.default(this,n));console.log("OppoChannel  constructor  222222"),this.subPackage=new u.default(this),this.screenshot=new c.default(this),this.fileSystem=new l.default(this)},e.prototype.hasMoreGame=function(){return this.hasAppBox()},e.prototype.showToast=function(t){this.sdk.showToast({title:t})},e.prototype.vibrateShort=function(){this.sdk.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},e.prototype.canInstallShortcut=function(t){this.sdk.hasShortcutInstalled({success:function(e){console.log("canInstallShortcut res  ",e),t(0==e?i.ResultState.YES:i.ResultState.NO)},fail:function(){t(i.ResultState.NO)},complete:function(){}})},e.prototype.installShortcut=function(t){this.sdk.installShortcut({success:function(e){console.log(" \u5b89\u88c5\u6210\u529f ",e),t(i.ResultState.YES)},fail:function(e){console.log(" \u5b89\u88c5\u5931\u8d25 ",e),t(i.ResultState.NO)},complete:function(){}})},e.prototype.setLoadingProgress=function(t){this.sdk.setLoadingProgress({progress:t})},e.prototype.loadingComplete=function(){this.sdk.loadingComplete({complete:function(){}})},e.prototype.navigateToMiniGame=function(t){this.sdk.navigateToMiniGame({pkgName:t,success:function(){},fail:function(){}})},e.prototype.previewImage=function(t){this.sdk.previewImage({urls:[t],success:function(){console.log("Preview image success.")}})},e.prototype.exitApplication=function(){this.sdk.exitApplication({success:function(){console.log("\u9000\u51fa\u6210\u529f")},fail:function(){console.log("\u9000\u51fa\u5931\u8d25")}})},e.prototype.request=function(t,e){p.default.sendHttpRequest(t,"",function(t,o){e(t,o)})},e}(n.default);o.default=h,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKHelper":"SDKHelper","../base/BaseChannel":"BaseChannel","../base/BaseSubPackage":"BaseSubPackage","./GamePortalAd":"GamePortalAd","./OppoBannerAd":"OppoBannerAd","./OppoFileSystem":"OppoFileSystem","./OppoNativeAd":"OppoNativeAd","./OppoRewardAd":"OppoRewardAd","./OppoScreenshot":"OppoScreenshot"}],OppoFileSystem:[function(t,e,o){"use strict";cc._RF.push(e,"4d241X9Da9OHopN2yA+OzSt","OppoFileSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/SDKFileSystemManager"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){this.fs=this.sdk.getFileSystemManager(),this.sysPath=this.sdk.env.USER_DATA_PATH},e.prototype.writeFile=function(t,e,o,n){var a=this.sysPath+t;o==i.FileEncoding.BINARY&&(e=e.buffer),this.fs.writeFile({filePath:a,data:e,encoding:o,success:function(){console.log(" writeFile ok"),n(i.ResultState.YES)},fail:function(){console.log(" writeFile fail"),n(i.ResultState.NO)},complete:function(){console.log(" writeFile complete")}})},e.prototype.readFile=function(t,e,o){var n=this.sysPath+t;this.fs.readFile({filePath:n,encoding:e,success:function(t){if(console.log(" readFile ok"),e==i.FileEncoding.BINARY){var n=new Uint8Array(t.data);o(i.ResultState.YES,n)}else o(i.ResultState.YES,t.data)},fail:function(){console.log(" readFile fail"),o(i.ResultState.NO,null)},complete:function(){console.log(" writeFile complete")}})},e.prototype.writeFileSync=function(t,e,o){var n=this.sysPath+t;console.log("writeFileSync  filePath ",n," encoding ",o),o==i.FileEncoding.BINARY&&(e=e.buffer);var a=this.fs.writeFileSync(n,e,o);return console.log(" result ",a),a},e.prototype.readFileSync=function(t,e){var o=this.sysPath+t;return console.log("readFileSync  filePath ",o),this.fs.readFileSync(o,e)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/SDKFileSystemManager":"SDKFileSystemManager"}],OppoHelper:[function(t,e,o){"use strict";cc._RF.push(e,"7fd12FSMUBEloIztTMbNkzM","OppoHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseHelper"),i=t("./ChannelEvent"),a=t("./ChannelUtils"),r=t("../sdk/tools/SDKEvent"),s=t("../../logic/sound/model/SoundMgr"),c=t("../sdk/SDKManager"),l=t("../nativeAd/OVNativeAdC"),u=t("../sdk/SDKConfig"),d=t("../comp/InsertAdMgr"),p=t("../lib/lc_sdk"),h=function(t){function e(){var e=t.call(this)||this;return e.zsConfig={zs_version:"1.0",zs_jump_switch:1,zs_switch:0,zs_banner_city:0,zs_banner_system:"",zs_start_turntable:1,zs_native_btn_text:"\u67e5\u770b\u5e7f\u544a",zs_native_gap_time:30,zs_banner_native_time:30,zs_native_click_switch:0,zs_banner_native_switch:0,zs_native_touch_switch:0,zs_native_next_limit:0,zs_native_close_num:0,zs_native_show_delay:0,zs_native_limit:1,zs_jump_time:0,zs_native_slide_switch:0,zs_onemin_show_ad_switch:1},e.sdk=new p.default,e.setVersion("15.0"),e.sdk.initSdkByConf({channel:"oppo",appId:"30738473",secret:"A6aEDBdD3d78dD385a0A159814609b81"}),e.login(),e.loadConfig(),r.default.instance().on(r.default.REWARD_AD_CLOSE,e.rewardClose,e),r.default.instance().on(r.default.REWARD_AD_OPEN,e.rewardOpen,e),e}return __extends(e,t),e.prototype.rewardOpen=function(){console.log("rewardOpen "),s.default.instance().rewardOpen()},e.prototype.rewardClose=function(){s.default.instance().rewardClose()},e.prototype.isSwtichOpen=function(){return 1==this.zsConfig.zs_switch},e.prototype.login=function(t){var e=this;void 0===t&&(t=!0),this.sdk.login(function(t){e.sdk.init(t)},function(){setTimeout(function(){e.login(t)},3e3)})},e.prototype.getzs_native_btn_text=function(){return this.zsConfig.zs_native_btn_text?this.zsConfig.zs_native_btn_text:""},e.prototype.loadConfig=function(){var t=this;this.sdk.loadCfg(function(e){t.zsConfig="string"==typeof e?JSON.parse(e):e,console.log("result type ",typeof e),console.log(" result === ",t.zsConfig),1==t.zsConfig.zs_onemin_show_ad_switch&&setTimeout(function(){t.zsConfig.zs_onemin_show_ad_switch=0},6e4),i.default.instance().emit(i.default.LOAD_CONFIG)},function(e){console.log(" err === ",e),setTimeout(function(){t.loadConfig()},3e3)})},e.prototype.hasEmail=function(){return!1},e.prototype.getzs_native_gap_time=function(){return this.zsConfig.zs_native_gap_time?this.zsConfig.zs_native_gap_time:0},e.prototype.getBannerWitch=function(){return this.zsConfig.zs_banner_native_switch?this.zsConfig.zs_banner_native_switch:0},e.prototype.hasNativeTouchSwitch=function(){return 1==this.zsConfig.zs_native_touch_switch},e.prototype.getNativeBannerRefreshTime=function(){return this.zsConfig.zs_banner_native_time?this.zsConfig.zs_banner_native_time:30},e.prototype.getNativeCloseNum=function(){return this.zsConfig.zs_native_close_num?this.zsConfig.zs_native_close_num:0},e.prototype.isVersion=function(){var t=1==a.default.compareVersion(this.verson,this.zsConfig.zs_version);return this.isSwtichOpen()&&t},e.prototype.isJumpSwitchOpen=function(){return this.isVersion()&&1==this.zsConfig.zs_jump_switch},e.prototype.hasNativeLimit=function(){return this.isVersion()&&1==this.zsConfig.zs_native_limit&&this.noOneMinAdLimit()},e.prototype.noOneMinAdLimit=function(){return 0==this.zsConfig.zs_onemin_show_ad_switch},e.prototype.getJumpTime=function(){return this.zsConfig.zs_jump_time?this.zsConfig.zs_jump_time:0},e.prototype.hasAgreement=function(){return!0},e.prototype.isOpenNativeErrorClick=function(){return this.isVersion()&&1==this.zsConfig.zs_native_click_switch},e.prototype.getNativeSlide=function(){return!!this.zsConfig.zs_native_slide_switch&&1==this.zsConfig.zs_native_slide_switch},e.prototype.hasMoreGame=function(){return!0},e.prototype.openMoreGameView=function(t){c.default.getChannel().showAppBoxAd(t)},e.prototype.showFuncInsertAd=function(){l.default.instance().intoLayer(!0),d.default.setBannerState(!1)},e.prototype.showInsertAd=function(){l.default.instance().intoLayer(!0),d.default.setBannerState(!1)},e.prototype.hideFuncInsertAd=function(){d.default.setBannerState(!0)},e.prototype.showBannerAd=function(t){this.noOneMinAdLimit()&&(0==this.getBannerWitch()?c.default.getChannel().showBanner(t,u.SDKDir.BOTTOM_MID):(l.default.instance().showBanner(),c.default.getChannel().hideBanner()))},e.prototype.hideBannerAd=function(t){this.noOneMinAdLimit()&&(0==this.getBannerWitch()?c.default.getChannel().hideBanner(t):l.default.instance().hideBanner())},e.prototype.hasInstallApp=function(){return!0},e.prototype.getzs_native_show_delay=function(){return this.zsConfig.zs_native_show_delay?this.zsConfig.zs_native_show_delay:0},e}(n.default);o.default=h,cc._RF.pop()},{"../../logic/sound/model/SoundMgr":"SoundMgr","../comp/InsertAdMgr":"InsertAdMgr","../lib/lc_sdk":"lc_sdk","../nativeAd/OVNativeAdC":"OVNativeAdC","../sdk/SDKConfig":"SDKConfig","../sdk/SDKManager":"SDKManager","../sdk/tools/SDKEvent":"SDKEvent","./BaseHelper":"BaseHelper","./ChannelEvent":"ChannelEvent","./ChannelUtils":"ChannelUtils"}],OppoInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"43a218j3ipIh6Vb9kHyjxn0","OppoInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){console.log(" show insert ad "),this.insertAd||(this.insertAd=this.sdk.createInsertAd({adUnitId:this.adUnitID}),this.insertAd.onLoad(this.onLoad.bind(this)),this.insertAd.onError(this.onError.bind(this)))},e}(t("../base/BaseInsertAd").default);o.default=n,cc._RF.pop()},{"../base/BaseInsertAd":"BaseInsertAd"}],OppoNativeAdItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"83068Q9lBFKAIltD0kIBk76","OppoNativeAdItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getShowImageList=function(){return this.getImgList()},e.prototype.getID=function(){return this.data.adId},e.prototype.getTitle=function(){return this.data.title},e.prototype.getDesc=function(){return this.data.desc},e.prototype.getIconList=function(){return this.data.iconUrlList},e.prototype.getImgList=function(){return this.data.imgUrlList},e.prototype.getButtonText=function(){return this.data.clickBtnTxt},e}(t("../base/BaseNativeAdItemModel").default);o.default=n,cc._RF.pop()},{"../base/BaseNativeAdItemModel":"BaseNativeAdItemModel"}],OppoNativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"fc17cWnvgtEipRxjAFTKow2","OppoNativeAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./OppoNativeAdItemModel"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.instances=[],e}return __extends(e,t),e.prototype.getItemModel=function(){return new n.default},e.prototype.create=function(){console.log(" OppoNativeAd create",this.adUnitID),this.nativeAd=this.instances[this.adUnitID],this.nativeAd||(this.nativeAd=this.sdk.createNativeAd({adUnitId:this.adUnitID}),this.nativeAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.nativeAd.onError(this.getFunc(i.FunctionType.onError)),this.instances[this.adUnitID]=this.nativeAd)},e}(t("../base/BaseNativeAd").default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseNativeAd":"BaseNativeAd","./OppoNativeAdItemModel":"OppoNativeAdItemModel"}],OppoRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"17fd3OhUntMXYsama00nIYl","OppoRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRewardAd"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.reload(i.SDKState.close),n}return __extends(e,t),e.prototype.create=function(){this.rewardAd?this.rewardAd.load():(this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.rewardAd.onError(this.getFunc(i.FunctionType.onError)),this.rewardAd.onClose(this.getFunc(i.FunctionType.onClose)),console.log(" \u521b\u5efa\u6210\u529f"))},e.prototype.reload=function(t){this.logicState=t,this.setState(i.SDKState.loading),this.create()},e.prototype.show=function(){this.rewardAd.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})},e.prototype.destroy=function(){},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],OppoScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"482964c5D5FJbbXbK19/P4Z","OppoScreenshot"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(t){console.log(" createImage ");var e=this.getCanvas(),o=t.width,n=t.height,i=new Uint8Array(o*n*4);return t.readPixels(i),{data:i,width:e.width,height:e.height,fileType:"png",reverse:!0}},e.prototype.saveFile=function(t,e){var o=this;if(this.sdk.saveImageTempSync){var n=this.sdk.saveImageTempSync(t);console.log("_tempFilePath ",n),this.sdk.saveImageToPhotosAlbum({filePath:n,success:function(){console.log("save success"+n),e&&o.showImage(n)},fail:function(t,e){console.log("handling fail, code = "+e)}})}},e}(t("../base/BaseScreenshot").default);o.default=n,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],PersonItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"1292arxGR1LB6FqhZN35BMY","PersonItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.PersonItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../../config/ModuleConfig"),r=t("../../../cfw/tools/LangManager");(function(t){t[t.name=0]="name",t[t.icon=1]="icon",t[t.emoji=2]="emoji"})(n=o.PersonItemModelEnum||(o.PersonItemModelEnum={}));var s=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getIcon=function(){return"bg/person"},e.prototype.getSpriteFrame=function(){return this.getValue(n.icon)},e.prototype.getModuleID=function(){return a.ModuleID.GAME},e.prototype.getName=function(){var t=this.getValue(n.name);return r.default.instance().getLocalString(t)},e.prototype.getEmoji=function(t){var e=this.getValue(n.emoji);return t>=0&&t<=e.length-1?e[t]:""},e.CLASS_NAME="PersonItemModel",e}(i.DataModel);o.default=s,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/tools/LangManager":"LangManager","../../../config/ModuleConfig":"ModuleConfig"}],PersonItemView:[function(t,e,o){"use strict";cc._RF.push(e,"d49db8NqA1EO4OnxZe9znBx","PersonItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/tools/Utils"),a=t("../../../config/Config"),r=t("../../../cocos/ccpool"),s=[.1,.2,.3,.15,.25],c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.personIcon=null,e.state=a.PersonState.BOEN,e.duration=0,e.eye=null,e}return __extends(e,t),e.prototype.onEnter=function(){for(var t=this.personIcon.node.children,e=0;e<t.length;e++){var o=t[e];255==o.opacity&&(o.opacity=0)}},e.prototype.content=function(){this.eye&&(cc.Tween.stopAllByTarget(this.eye),255==this.eye.opacity&&(this.eye.opacity=0),this.eye=null);var t=this.model;this.setSpriteAtlas(this.personIcon,t.getModuleID(),t.getIcon(),t.getSpriteFrame()),this.personIcon.node.scaleY=0,this.changeState(a.PersonState.BOEN);var e=this.personIcon.node.getChildByName(this.model.getID());e&&(this.eye=e,this.eye.active=!0,this.blind(e))},e.prototype.blind=function(t){var e=this;cc.tween(t).delay(i.default.random(2,5)).call(function(){t.opacity=255}).delay(.2).call(function(){t.opacity=0,e.blind(t)}).start()},e.prototype.changeState=function(t){var e=this;this.state=t;var o=0;switch(cc.Tween.stopAllByTarget(this.personIcon.node),this.personIcon.node.scale=1,this.personIcon.node.angle=0,this.state){case a.PersonState.BOEN:o=s[i.default.random(0,s.length)],cc.tween(this.personIcon.node).by(o,{scaleY:.3}).by(o,{scaleY:-.3}).call(function(){e.next()}).start(),this.duration=2*o;break;case a.PersonState.OUT:this.duration=.2,cc.tween(this.personIcon.node).to(this.duration,{scaleY:0}).call(function(){}).start();break;case a.PersonState.TIP:o=.15,cc.tween(this.personIcon.node).by(o,{angle:20,scaleY:.1}).by(o,{angle:-20,scaleY:-.1}).call(function(){e.next()}).start(),this.duration=2*o;break;case a.PersonState.STAND:o=i.default.random(1,4)/2,cc.tween(this.personIcon.node).by(o,{scaleY:.1}).by(o,{scaleY:-.1}).call(function(){e.next()}).start(),this.duration=2*o}},e.prototype.getDuration=function(){return this.duration},e.prototype.next=function(){var t=this;this.callback&&this.callback(this.state),cc.tween(this.personIcon.node).to(.1,{scale:1}).call(function(){t.changeState(a.PersonState.STAND)}).start()},e.prototype.recover=function(){r.CCPoolManager.instance().put(this.node),cc.Tween.stopAllByTarget(this.personIcon.node),this.eye&&(cc.Tween.stopAllByTarget(this.eye),255==this.eye.opacity&&(this.eye.opacity=0),this.eye=null)},__decorate([u(cc.Sprite)],e.prototype,"personIcon",void 0),__decorate([l],e)}(n.BaseItemView);o.default=d,cc._RF.pop()},{"../../../cfw/tools/Utils":"Utils","../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../../../config/Config":"Config"}],PersonMgr:[function(t,e,o){"use strict";cc._RF.push(e,"7bf79uQcJZKa5Rfz4gYcnD7","PersonMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./PersonItemModel"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.personItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.personItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default)},e.prototype.getPersonItemModel=function(t){return this.personItemModelMgr.getByID(t)},e.prototype.getPersonItemModelList=function(){return this.personItemModelMgr.getList()},e}(n.BaseModel);o.default=r,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","./PersonItemModel":"PersonItemModel"}],PhysicalManager:[function(t,e,o){"use strict";cc._RF.push(e,"0805aEkTipD14A879UOCJjV","PhysicalManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.PhysicalManager=void 0;var n=t("../event"),i=t("./MoveCamera"),a=t("../tools/Define"),r=t("./MoveConfig"),s=t("../tools/Utils"),c=t("../../engine/unity"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.objects=[],e.planes=[],e.camera=new i.default,e}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this),this.ins},e.prototype.addGround=function(){},e.prototype.setMap=function(t){this.map=t,this.camera.setMap(this.map)},e.prototype.setCameraLeftTop=function(){this.setCameraPosition(0,0)},e.prototype.setCamerLeftBottom=function(){this.setCameraPosition(0,this.map.getMapHeight()-this.camera.getHeight())},e.prototype.setCameraPosition=function(t,e){this.camera.setX(t),this.camera.setY(e),console.log(" this.camera.x ",this.camera.getX()),console.log(" this.camera.y ",this.camera.getY())},e.prototype.init=function(t,e,o,n,i,a){void 0===o&&(o=0),this.map.init(t,e,o),this.camera.init(n,i,a)},e.prototype.size=function(){return this.objects.length},e.prototype.getCamera=function(){return this.camera},e.prototype.getMap=function(){return this.map},e.prototype.addPlane=function(t){this.planes.indexOf(t)<0&&this.planes.push(t)},e.prototype.removePlane=function(t){var e=this.planes.indexOf(t);e>=0&&this.planes.splice(e,1)},e.prototype.add=function(t){this.objects.indexOf(t)<0&&this.objects.push(t)},e.prototype.remove=function(t){var e=this.objects.indexOf(t);e>=0&&this.objects.splice(e,1)},e.prototype.clear=function(){this.objects.length=0,this.planes.length=0},e.prototype.update=function(){for(var t=0;t<this.planes.length;t++){var e=this.planes[t];this.updatePosition(e),this.camera.adjustPosition(e)}for(t=0;t<this.objects.length;t++)e=this.objects[t],this.updatePosition(e),this.camera.adjustPosition(e)},e.prototype.getWorldPosition=function(t){var e=new c.Vector2;return e.x=this.camera.getX()+t.x,e.y=this.camera.getY()+t.y,e},e.prototype.updatePosition=function(t){var e=this.map,o=t.getSpeedX(),n=t.getElasticity();if(o>0){var i=t.getX();i+=a.OPPSITE[t.getMoveXDir()]*o,t.setX(i)}var s=t.getSpeedZ();if(s>0){var c=t.getZ(),l=a.OPPSITE[t.getMoveZDir()];c+=l*s;var u=e.getRangeZ(),d=e.getTop();c<u?(c=u,0!=n?(s*=n,t.setMoveZDir(a.OPPSITE_DIR[l]),t.setSpeedZ(s)):t.setSpeedZ(0)):c>d&&(c=d,0!=n?(s*=n,t.setMoveZDir(a.OPPSITE_DIR[l]),t.setSpeedZ(s)):t.setSpeedZ(0)),t.setZ(c)}if(t.isG()){var p=t.getY(),h=t.getSpeedY(),f=p;p+=r.SCREEN_Y*h,t.setY(p);var g=this.getPlane(t);if(g){var y=t.getCollide();if(y&&t.b.indexOf(g)<0&&(t.b.push(g),y.onCollideEnter(t,g)),h<=0&&g.getDir(t)==a.DIR.UP){if(f!=(p=g.getTop())&&t.setOnGroundFlag(!0),0!=n){if(0!=h){var m=n*-h;m<=1?t.setSpeedY(0):t.setSpeedY(m)}}else t.setSpeedY(0);if(0==t.getSpeedY()){var v=t.getFrictional();0!=v&&(o>0&&((o-=v)<0&&(o=0),t.setSpeedX(o)),s>0&&((s-=v)<0&&(s=0),t.setSpeedZ(s)))}}}else p>0&&(t.setSpeedY(h-r.G),t.isOnGround&&t.setOnGroundFlag(!1));t.setY(p)}},e.prototype.getPlane=function(t){for(var e=this.planes.length-1;e>=0;e--){var o=this.planes[e];if(t!=o){if(s.default.isRecctCollideRect3(t.getLeft(),t.getRight(),t.getTop(),t.getBottom(),o.getLeft(),o.getRight(),o.getTop(),o.getBottom()))return o;var n=t.b.indexOf(o);n>=0&&t.b.splice(n,1)}}return null},e}(n.EventDispatcher);o.PhysicalManager=l,cc._RF.pop()},{"../../engine/unity":"unity","../event":"event","../tools/Define":"Define","../tools/Utils":"Utils","./MoveCamera":"MoveCamera","./MoveConfig":"MoveConfig"}],PrivacyButton:[function(t,e,o){"use strict";cc._RF.push(e,"5b55cuIJxZJAYuJcNuF/WrU","PrivacyButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../PrivacyC"),i=t("../../channel-ts/CMgr"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=t.call(this)||this;return e.backBtn=null,e}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onLoad=function(){var t=i.default.helper.hasSinglePrivicy();this.backBtn.node.active=t},e.prototype.onBackBtnClick=function(){n.default.instance().intoLayer()},__decorate([s(cc.Button)],e.prototype,"backBtn",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../channel-ts/CMgr":"CMgr","../PrivacyC":"PrivacyC"}],PrivacyC:[function(t,e,o){"use strict";cc._RF.push(e,"646a6yrLDZOBpBrAREwa9KN","PrivacyC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("./PrivacyMgr"),a=t("../../cfw/tools/ViewManager"),r=t("../../config/ModuleConfig"),s=t("../../config/UIConfig"),c=t("./view/PrivacyView"),l=t("./view/PrivacyPopView"),u=t("../channel-ts/CMgr"),d=t("../channel-ts/ChannelEvent"),p=t("../../engine/engine"),h="PrivacyViewState",f=function(t){function e(){var e=t.call(this)||this;return d.default.instance().on(d.default.LOAD_CONFIG,e.onDataFinish,e),e.onDataFinish(),e}return __extends(e,t),e.prototype.onDataFinish=function(){i.default.instance().init(u.default.helper.getAppName(),u.default.helper.getCompany(),u.default.helper.getEmail(),u.default.helper.getAddress())},e.prototype.intoLayer=function(t){if(console.log("PrivacyC intoLayer "),this.callback=t,t){var e=p.engine.localStorage.getItem(h);if(console.log("PrivacyC v ",e),"1"==e)return void t()}a.default.pushUIView({path:"agreement/PrivacyView",moduleID:r.ModuleID.RES,uiIndex:s.UIIndex.STACK,className:c.default,model:i.default.instance(),controller:this})},e.prototype.ok=function(){p.engine.localStorage.setItem(h,"1"),this.callback&&this.callback()},e.prototype.openAgreementView=function(){i.default.instance().setIndex(0),this.showPrivacyPopView()},e.prototype.openEmailView=function(){i.default.instance().setIndex(1),this.showPrivacyPopView()},e.prototype.showPrivacyPopView=function(){a.default.pushUIView({path:"agreement/PrivacyPopView",moduleID:r.ModuleID.RES,uiIndex:s.UIIndex.STACK,className:l.default,model:i.default.instance(),controller:this})},e}(n.BaseController);o.default=f,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../engine/engine":"engine","../channel-ts/CMgr":"CMgr","../channel-ts/ChannelEvent":"ChannelEvent","./PrivacyMgr":"PrivacyMgr","./view/PrivacyPopView":"PrivacyPopView","./view/PrivacyView":"PrivacyView"}],PrivacyItemView:[function(t,e,o){"use strict";cc._RF.push(e,"10823uIZ3JCKIBp+VBxfDaC","PrivacyItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../PrivacyC"),i=t("../../channel-ts/CMgr"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=t.call(this)||this;return e.intType=0,e.useBtn=null,e.text="",e}return __extends(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onLoad=function(){var t=i.default.helper.hasSinglePrivicy();this.node.active=t},e.prototype.onButtonClick=function(){switch(this.intType){case 0:n.default.instance().openAgreementView();break;case 1:n.default.instance().openEmailView()}},__decorate([s],e.prototype,"intType",void 0),__decorate([s(cc.Button)],e.prototype,"useBtn",void 0),__decorate([s],e.prototype,"text",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../channel-ts/CMgr":"CMgr","../PrivacyC":"PrivacyC"}],PrivacyMgr:[function(t,e,o){"use strict";cc._RF.push(e,"8c302iY1dFIdLmY93NcW6ZK","PrivacyMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/model"),i=t("./data/Agreement"),a=t("./data/TestEmail"),r=t("../channel-ts/CMgr"),s=function(t){function e(){var e=t.call(this)||this;return e.text=[],e.index=0,e.textList=[],e}return __extends(e,t),e.prototype.setIndex=function(t){this.index=t},e.prototype.getText=function(){return this.text[this.index]},e.prototype.getTextList=function(){return this.textList[this.index]},e.prototype.init=function(t,e,o,n){0==this.text.length&&(this.text[0]=this.setText(i.Agreement,t,e,o,n,0),this.text[1]=this.setText(a.TestEmail,t,e,o,n,1))},e.prototype.setText=function(t,e,o,n,i,a){void 0===a&&(a=0);var s="";this.textList[a]=[];var c=this.textList[a];for(var l in t)if(t.hasOwnProperty(l)){var u=t[l].text;if(u)if("string"==typeof u)("21"!=l&&"20"!=l||r.default.helper.hasEmail())&&(s+=u=(u=(u=(u=u.replace(/app_name/g,e)).replace(/company/g,o)).replace(/email/g,n)).replace(/address/g,i),c.push(u));else{for(var d="",p=0;p<u.length;p++){var h=u[p];s+=h=(h=(h=(h=h.replace(/app_name/g,e)).replace(/company/g,o)).replace(/email/g,n)).replace(/address/g,i),d+=h}c.push(d)}}return s},e}(n.BaseModel);o.default=s,cc._RF.pop()},{"../../cfw/model":"model","../channel-ts/CMgr":"CMgr","./data/Agreement":"Agreement","./data/TestEmail":"TestEmail"}],PrivacyPopView:[function(t,e,o){"use strict";cc._RF.push(e,"6df6eC9jgtD7aKdFpCQZ6Yt","PrivacyPopView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=t.call(this)||this;return e.backBtn=null,e.content=null,e.labelTemplate=null,e.layout=null,e.prevX=0,e.prevY=0,e}return __extends(e,t),e.prototype.onEnter=function(){this.addList(this.model.getTextList())},e.prototype.addList=function(t){console.log("addList text ",t);for(var e=0;e<t.length;e++){var o=t[e],n=cc.instantiate(this.labelTemplate);n.getComponent(cc.Label).string=o,this.layout.node.addChild(n)}},e.prototype.loadFinish=function(t){this.content.string=t},e.prototype.onEnable=function(){},e.prototype.onBackBtnClick=function(){this.hide()},e.prototype.onDisable=function(){},e.text="",__decorate([r(cc.Button)],e.prototype,"backBtn",void 0),__decorate([r(cc.Label)],e.prototype,"content",void 0),__decorate([r(cc.Node)],e.prototype,"labelTemplate",void 0),__decorate([r(cc.Layout)],e.prototype,"layout",void 0),__decorate([a],e)}(n.BaseView);o.default=s,cc._RF.pop()},{"../../../cfw/view":"view"}],PrivacyView:[function(t,e,o){"use strict";cc._RF.push(e,"3a3e3uuLyJPxYIbZcsmWSVY","PrivacyView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../sdk/SDKManager"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=t.call(this)||this;return e.cancel=null,e.ok=null,e.useBtn=null,e.yinsiBtn=null,e}return __extends(e,t),e.prototype.onEnter=function(){console.log(" PrivacyView ")},e.prototype.onCancelClick=function(){console.log(" onCancelClick"),i.default.getChannel().exitApplication()},e.prototype.onDisable=function(){},e.prototype.onUserBtn=function(){this.controller.openAgreementView()},e.prototype.onYinsiBtn=function(){this.controller.openEmailView()},e.prototype.onOkClick=function(){console.log(" onOKClick"),this.hide(),this.controller.ok()},__decorate([s(cc.Button)],e.prototype,"cancel",void 0),__decorate([s(cc.Button)],e.prototype,"ok",void 0),__decorate([s(cc.Button)],e.prototype,"useBtn",void 0),__decorate([s(cc.Button)],e.prototype,"yinsiBtn",void 0),__decorate([r],e)}(n.BaseView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","../../sdk/SDKManager":"SDKManager"}],QQAppBoxAd:[function(t,e,o){"use strict";cc._RF.push(e,"e9961ZWm+NEprejvmEGCUCj","QQAppBoxAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseAd"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.preload(i.SDKState.close),n}return __extends(e,t),e.prototype.preload=function(t){this.logicState=t,console.log("QQAppBoxAd preload ===================="),this.destroy(),this.create(),this.load()},e.prototype.open=function(t){this.callback=t,console.log("QQAppBoxAd open "),this.state==i.SDKState.loadSucess?this.show():(this.logicState=i.SDKState.open,this.load())},e.prototype.onClose=function(){console.log(" AppBox onClose "),this.setState(i.SDKState.close),this.callback&&this.callback(),this.load()},e.prototype.create=function(){this.appBoxAd||(this.appBoxAd=this.sdk.createAppBox({adUnitId:this.adUnitID}),this.appBoxAd.onClose(this.getFunc(i.FunctionType.onClose)))},e.prototype.load=function(){var t=this;console.log("QQAppBoxAd  load 1111"),this.appBoxAd?(console.log("QQAppBoxAd  load "),this.appBoxAd.load().then(function(){console.log("QQAppBoxAd  load 2222 "),t.setState(i.SDKState.loadSucess)}).catch(function(t){console.log("QQAppBoxAd  load err",t)})):console.log(" instance is null ")},e.prototype.show=function(){var t=this;console.log("QQAppBoxAd  show 1111"),this.appBoxAd&&this.appBoxAd.show().then(function(){console.log("QQAppBoxAd  show ")}).catch(function(e){console.log("QQAppBoxAd  show ",e),t.load()})},e.prototype.destroy=function(){this.appBoxAd&&(this.appBoxAd.destroy(),this.appBoxAd=null)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],QQBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"973e2aq1NxItK3qsjNx3mlp","QQBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseBannerAd"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.setFunc(i.FunctionType.onRefresh,n.onRefresh.bind(n)),n}return __extends(e,t),e.prototype.onRefresh=function(){},e.prototype.load=function(){},e.prototype.show=function(){var t=this;this.logicState=i.SDKState.close,console.log(" QQBannerAd show 11111111111111111111"),this.bannerAd&&this.bannerAd.show().then(function(){t.setVisible(!0),console.log(" QQBannerAd show true"),t.callback&&(t.callback(i.SDKState.open),t.callback=null)}).catch(function(){t.callback&&(t.callback(i.SDKState.close),t.callback=null),console.log(" QQBannerAd show error"),t.error=!0})},e.prototype.destroy=function(){this.bannerAd&&(this.bannerAd.offLoad(this.getFunc(i.FunctionType.onLoad)),this.bannerAd.offError(this.getFunc(i.FunctionType.onError)),this.bannerAd.offResize(this.getFunc(i.FunctionType.onResize)),this.bannerAd=null)},e.prototype.create=function(){this.bannerAd||(this.bannerAd=this.sdk.createBannerAd({adUnitId:this.adUnitID,style:this.getStyle()}),this.createTime(),this.bannerAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.bannerAd.onError(this.getFunc(i.FunctionType.onError)),this.bannerAd.onResize(this.getFunc(i.FunctionType.onResize)))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseBannerAd":"BaseBannerAd"}],QQBlockAd:[function(t,e,o){"use strict";cc._RF.push(e,"651c2uwVVVKLardvSnILmo+","QQBlockAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.preload=function(t){this.logicState=t,this.setState(n.SDKState.loading),this.destroy(),this.create()},e.prototype.open=function(t){this.callback=t,this.logicState=n.SDKState.open,console.log("QQBlockAd  open state ",this.state),this.state==n.SDKState.loadSucess?this.show():this.preload(n.SDKState.open)},e.prototype.onResize=function(t){this.sdk.getSystemInfoSync(),console.log(t.width,t.height),0!=t.width&&0!=t.height&&this.updateSize()},e.prototype.updateSize=function(){var t=this.sdk.getSystemInfoSync();console.log("QQBlockAd updateSize ",this._x,this._y);var e=t.windowWidth*this._x,o=t.windowHeight*this._y;this.blackAd.style.left=e,this.blackAd.style.top=o},e.prototype.getStyle=function(){var t=this.sdk.getSystemInfoSync();return{left:t.windowWidth*this._x,top:t.windowHeight*this._y}},e.prototype.onError=function(t){console.log("QQBlockAd onError  ",t),this.setState(n.SDKState.loadFail)},e.prototype.onLoad=function(){console.log("QQBlockAd onLoad  "),this.setState(n.SDKState.loadSucess),this.logicState==n.SDKState.open&&(this.show(),this.logicState=n.SDKState.close)},e.prototype.create=function(){this.blackAd||(this.blackAd=this.sdk.createBlockAd({adUnitId:this.adUnitID,style:this.getStyle(),size:this.count,orientation:this._dir}),this.blackAd.onResize(this.getFunc(n.FunctionType.onResize)),this.blackAd.onLoad(this.getFunc(n.FunctionType.onLoad)),this.blackAd.onError(this.getFunc(n.FunctionType.onError)))},e.prototype.show=function(){this.setState(n.SDKState.open),this.blackAd&&this.blackAd.show()},e.prototype.close=function(){console.log(" \u79ef\u6728\u5e7f\u544a close  ok ",this.state),this.logicState=n.SDKState.close,this.hide()},e.prototype.hide=function(){this.blackAd&&(console.log(" blckad hide "),this.blackAd.hide())},e.prototype.destroy=function(){this.blackAd&&(this.blackAd.destroy(),this.blackAd=null)},e}(t("../base/BaseBlockAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseBlockAd":"BaseBlockAd"}],QQChannel2:[function(t,e,o){"use strict";cc._RF.push(e,"bab44NhgCVLmpRMGqoBMYAL","QQChannel2"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./QQChannel"),i=t("../SDKConfig"),a=t("./QQBannerAd"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pos=0,e.curBanner=0,e.max=3,e.logicState=i.SDKState.open,e}return __extends(e,t),e.prototype.add=function(){var t=this.cfg[i.ADName.banner][this.pos++],e=new a.default(this,t);this.bannerAd.push(e),this.pos>=this.max&&(this.pos=0)},e.prototype.refreshBanner=function(){this.curBanner>=0&&this.bannerAd.length>this.curBanner&&this.bannerAd[this.curBanner].setVisible(!1),this.bannerAd.length<=5&&this.add(),this.clear(),this.logicState==i.SDKState.open&&this.showBanner()},e.prototype.clear=function(){for(var t=[],e=0;e<this.bannerAd.length;e++)(o=this.bannerAd[e]).isError()&&t.push(o);if(this.bannerAd.length>5)for(e=0;e<this.bannerAd.length;e++){var o;((o=this.bannerAd[e]).getAliveTime()>30||o.getShowTime()>5||o.isError())&&t.push(o)}if(t.length>0)for(;t.length>0;){var n=t.shift(),i=this.bannerAd.indexOf(n);i>=0&&(this.bannerAd[i].close(),this.bannerAd[i].destroy(),this.bannerAd.splice(i,1))}},e.prototype.hideBanners=function(){for(var t=0;t<this.bannerAd.length;t++)this.bannerAd[t].hide()},e.prototype.getIndex=function(){var t=-1,e=0;console.log("getIndex this.list.length ",this.bannerAd.length);for(var o=0;o<this.bannerAd.length;o++){var n=this.bannerAd[o],i=n.getShowTime();console.log("getAliveTime   ",n.getAliveTime(),"ttime   ",i),-1==t?(t=o,e=i):i<e&&(t=o,e=i)}return t},e.prototype.showBanner=function(e,o,n){void 0===e&&(e=0),void 0===o&&(o=i.SDKDir.BOTTOM_MID);var a=this.getIndex();console.log("showBanner i ",a,this.curBanner),this.hideBanners(),this.curBanner=a,this.logicState=e,a>=0?t.prototype.showBanner.call(this,a,o,n):console.warn("showBanner i < 0")},e.prototype.setLogicState=function(t){this.logicState=t},e.prototype.showBannerByXY=function(e,o,n,i){void 0===e&&(e=0);var a=this.getIndex();this.hideBanners(),console.log("showBannerByXY i ",a),this.curBanner=a,this.logicState=e,a>=0?t.prototype.showBannerByXY.call(this,a,o,n,i):console.warn("showBannerByXY i < 0")},e.prototype.hideBanner=function(t){void 0===t&&(t=0),this.logicState=i.SDKState.close,this.hideBanners()},e}(n.default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","./QQBannerAd":"QQBannerAd","./QQChannel":"QQChannel"}],QQChannel:[function(t,e,o){"use strict";cc._RF.push(e,"d0555jihDxGv4NJM5AJoCeD","QQChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("./QQRewardAd"),a=t("./QQBannerAd"),r=t("./QQShare"),s=t("./QQInsertAd"),c=t("./QQAppBoxAd"),l=t("./QQScreenshot"),u=t("../SDKConfig"),d=t("../base/BaseSubPackage"),p=t("./QQBlockAd"),h=t("../third/uma/UmaEvent"),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t,e=this.cfg;if(this.sdk.onShow(function(){}),this.sdk.onHide(function(){}),this.share=new r.default(this,e[u.ADName.share]),this.sdk.createInterstitialAd&&(t=e[u.ADName.insert]))for(var o=0;o<t.length;o++){var n=t[o];this.insertAd.push(new s.default(this,n))}if(this.sdk.createRewardedVideoAd&&(t=e[u.ADName.reward]))for(o=0;o<t.length;o++)n=t[o],this.rewardAd.push(new i.default(this,n));if(this.sdk.createBannerAd&&(t=e[u.ADName.banner]))for(o=0;o<t.length;o++)n=t[o],this.bannerAd.push(new a.default(this,n));if(this.sdk.createAppBox&&(t=e[u.ADName.appbox]))for(o=0;o<t.length;o++)n=t[o],this.appBoxAd.push(new c.default(this,n));if(this.sdk.createBlockAd&&(t=e[u.ADName.blockAd]))for(o=0;o<t.length;o++)n=t[o],this.blockAd.push(new p.default(this,n));this.screenshot=new l.default(this),this.subPackage=new d.default(this),this.event=new h.default},e.prototype.exitApplication=function(){this.sdk.exitMiniProgram({success:function(){},fail:function(){},complete:function(){}})},e.prototype.showToast=function(t){this.sdk.showToast({title:t})},e.prototype.vibrateShort=function(){this.sdk.vibrateShort()},e.prototype.postMessage=function(){},e.prototype.previewImage=function(t){this.sdk.previewImage({current:t,urls:[t]})},e.prototype.navigateToMiniProgram=function(t){this.sdk.navigateToMiniProgram({appId:t,success:function(){}})},e}(n.default);o.default=f,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","../base/BaseSubPackage":"BaseSubPackage","../third/uma/UmaEvent":"UmaEvent","./QQAppBoxAd":"QQAppBoxAd","./QQBannerAd":"QQBannerAd","./QQBlockAd":"QQBlockAd","./QQInsertAd":"QQInsertAd","./QQRewardAd":"QQRewardAd","./QQScreenshot":"QQScreenshot","./QQShare":"QQShare"}],QQHelper:[function(t,e,o){"use strict";cc._RF.push(e,"00f1352i7NAJqLbzbaCp4jS","QQHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseHelper"),i=t("../sdk/SDKManager"),a=t("../sdk/tools/SDKEvent"),r=t("../../cfw/event"),s=t("../../logic/sound/model/SoundMgr"),c=t("./ChannelEvent"),l=t("./ChannelUtils"),u=t("../lib/lc_sdk"),d=function(t){function e(){var e=t.call(this)||this;return e.zsConfig={zs_version:"1.0",zs_switch:0,zs_banner_city:0,zs_native_click_switch:1,zs_process_time:0,zs_game_star_jump_switch:0,zs_banner_game_time:30,zs_text_message:30,zs_banner_time:2,zs_click_award_prompt:0,zs_click_award_num:1,zs_begin_click_switch:0,zs_start_video_switch:0,zs_begin_click__since:3,zs_banner_vertical_enable:0,zs_banner_system:""},e.sdk=new u.default,a.default.instance().on(a.default.REWARD_AD_CLOSE,e.rewardClose,e),a.default.instance().on(a.default.REWARD_AD_OPEN,e.rewardOpen,e),i.default.getChannel().getSDK().onShow(function(){console.log("VivoChannel  onShow "),r.GEvent.instance().emit(r.GEvent.EVENT_SHOW)}),i.default.getChannel().getSDK().onHide(function(){console.log("VivoChannel  onHide "),r.GEvent.instance().emit(r.GEvent.EVENT_HIDE)}),e.sdk.initSdkByConf({channel:"qq",appId:"1563",secret:"05a5facc43646d2"}),e.login(),e.loadConfig(),e}return __extends(e,t),e.prototype.login=function(t){var e=this;void 0===t&&(t=!0),this.sdk.login(function(t){console.log(" msg ",t)},function(o){console.log("login error ",o),setTimeout(function(){e.login(t)},3e3)})},e.prototype.loadConfig=function(){var t=this;this.sdk.loadCfg(function(e){t.zsConfig="string"==typeof e?JSON.parse(e):e,t.zsConfig.zs_click_award_num,c.default.instance().emit(c.default.LOAD_CONFIG),console.log("result type ",typeof e),console.log("loadConfig result === ",e)},function(e){console.log(" err === ",e),setTimeout(function(){t.loadConfig()},3e3)})},e.prototype.getAddress=function(){return"\u5317\u4eac\u5e02 \u623f\u5c71\u533a \u826f\u4e61\u51ef\u65cb\u5927\u8857 \u5efa\u8bbe\u8def18\u53f7-D15052"},e.prototype.rewardOpen=function(){console.log("rewardOpen "),s.default.instance().rewardOpen()},e.prototype.rewardClose=function(){s.default.instance().rewardClose()},e.prototype.isVersion=function(){return 1==l.default.compareVersion(this.verson,this.zsConfig.zs_version)},e.prototype.isSwtichOpen=function(){return 1==this.zsConfig.zs_switch},e.prototype.isOpen=function(){return this.isVersion()&&this.isSwtichOpen()},e.prototype.openMoreGameView=function(t){i.default.getChannel().showAppBoxAd(t)},e.prototype.showCustomAd=function(t,e,o){i.default.getChannel().showBlockAd(t,e,o)},e.prototype.hideCustomAd=function(t){i.default.getChannel().hideBlockAd(t)},e.prototype.hasMoreGame=function(){return!0},e.prototype.hasAgreement=function(){return!0},e.prototype.hasSinglePrivicy=function(){return!0},e.prototype.hasNormalShare=function(){return!0},e}(n.default);o.default=d,cc._RF.pop()},{"../../cfw/event":"event","../../logic/sound/model/SoundMgr":"SoundMgr","../lib/lc_sdk":"lc_sdk","../sdk/SDKManager":"SDKManager","../sdk/tools/SDKEvent":"SDKEvent","./BaseHelper":"BaseHelper","./ChannelEvent":"ChannelEvent","./ChannelUtils":"ChannelUtils"}],QQInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"9b4b2ZomkpA/IGOFDoMTUpO","QQInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onClose=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u5173\u95ed")},e.prototype.create=function(){this.insertAd||(this.insertAd=this.sdk.createInterstitialAd({adUnitId:this.adUnitID}),this.insertAd.onLoad(this.onLoad.bind(this)),this.insertAd.onError(this.onError.bind(this)),this.insertAd.onClose(this.onClose.bind(this)))},e}(t("../base/BaseInsertAd").default);o.default=n,cc._RF.pop()},{"../base/BaseInsertAd":"BaseInsertAd"}],QQRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"48534sRmdBPyaJdIzWgAXfm","QQRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRewardAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.destroy=function(){},e.prototype.create=function(){console.log(" \u4e0d\u652f\u6301\u591a\u4f8b"),this.rewardAd||(console.log(" create 111111"),this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this))),console.log(" create 2222"),this.rewardAd.load()},e.prototype.show=function(){this.logicState=i.SDKState.close,this.setState(i.SDKState.open),this.rewardAd&&(console.log(" \u5c55\u793a\u6fc0\u52b1\u89c6\u9891 "),this.rewardAd.show())},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],QQScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"45831U89hVFzYpU842LuWzh","QQScreenshot"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas();return{x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,fileType:"png",quality:1}},e.prototype.saveFile=function(t,e){var o=this;console.log(" saveFile data ",t,e);var n=this.getCanvas();if(n.toTempFilePathSync){var i=n.toTempFilePathSync(t);console.log(" _tempFilePath ",i),this.sdk.saveImageToPhotosAlbum({filePath:i,success:function(t){console.log("Capture file success!"+i,t),e&&o.showImage(i)}})}},e}(t("../base/BaseScreenshot").default);o.default=n,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],QQShare:[function(t,e,o){"use strict";cc._RF.push(e,"8c2a2k0B9hKWokdeAMf7hjk","QQShare"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseShare"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.time=0,n.sdk.showShareMenu({withShareTicket:!0}),n.sdk.updateShareMenu({withShareTicket:!0}),n.sdk.onShow(function(){n.backGame()}),n.sdk.onShareAppMessage(function(){return n.getData(0)}),n}return __extends(e,t),e.prototype.share=function(t,e){this.callback=e,this.sdk.shareAppMessage(this.getData(t)),this.state=i.SDKState.open,this.time=Date.now()},e.prototype.getData=function(t){return this.data[t]},e.prototype.backGame=function(){this.state==i.SDKState.open&&(this.state=i.SDKState.close,this.callback&&(Date.now()-this.time>=3e3?this.callback(i.ResultState.YES):this.callback(i.ResultState.NO),this.callback=null))},e}(n.BaseShare);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseShare":"BaseShare"}],RadioButtonMgr:[function(t,e,o){"use strict";cc._RF.push(e,"9fc09xCwUdC06tXExKXLSfT","RadioButtonMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.buttons=[]}return t.prototype.add=function(t){this.buttons.push(t)},t.prototype.setRadioButtonState=function(t){for(var e=0;e<this.buttons.length;e++){var o=this.buttons[e];o===t?o.setRadioButtonState(!0):o.setRadioButtonState(!1)}},t}();o.default=n,cc._RF.pop()},{}],RandomItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"1aa41Gwlh9E05hbxAN3/Nfn","RandomItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.RandomItemModelEnum=void 0;var n,i=t("../../../cfw/cfw");(function(t){t[t.item=0]="item",t[t.weight=1]="weight",t[t.special=2]="special"})(n=o.RandomItemModelEnum||(o.RandomItemModelEnum={}));var a=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getItem=function(){return this.getValue(n.item)},e.prototype.getWeight=function(){return this.getValue(n.weight)},e.prototype.getSpecial=function(){return this.getValue(n.special)},e.CLASS_NAME="RandomItemModel",e}(i.DataModel);o.default=a,cc._RF.pop()},{"../../../cfw/cfw":"cfw"}],RandomMgr:[function(t,e,o){"use strict";cc._RF.push(e,"dbfa5/7Y7BP9Ler53pbkCZr","RandomMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./RandomItemModel"),r=t("../../../cfw/tools/Utils"),s=t("../bag/BagManager"),c=t("./RandomWeightModel"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.randomItemModelMgr=new n.ModelManager,e.randomWeightModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.randomItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),this.randomWeightModelMgr.initWithData(i.ModuleManager.dataManager.get(c.default.CLASS_NAME),c.default)},e.prototype.getRandomItemModel=function(t){return this.randomItemModelMgr.getByID(t)},e.prototype.getRandomItemModelList=function(){return this.randomItemModelMgr.getList()},e.prototype.getRandomWeightModel=function(t){return this.randomWeightModelMgr.getByID(t)},e.prototype.getRandomWeightModelList=function(){return this.randomWeightModelMgr.getList()},e.prototype.getList=function(t){return this.randomItemModelMgr.getIndexData(a.RandomItemModelEnum.special,t)},e.prototype.getRandomItem=function(t){for(var e=this.getList(t),o=0,n=0,i=0;i<e.length;i++){var a=e[i];if(n+=a.getWeight(),r.default.random(0,1e3)<=n){o=a.getItem();break}}return s.default.instance().getNewItemModel(o,1)},e.prototype.getItem=function(){return this.getRandomItem(this.getRandom())},e.prototype.getRandom=function(){for(var t=this.getRandomWeightModelList(),e=0,o=0;o<t.length;o++){var n=t[o];if(r.default.random(0,100)<=(e+=n.getWeight()))return o}return 0},e}(n.BaseModel);o.default=l,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/tools/Utils":"Utils","../bag/BagManager":"BagManager","./RandomItemModel":"RandomItemModel","./RandomWeightModel":"RandomWeightModel"}],RandomWeightModel:[function(t,e,o){"use strict";cc._RF.push(e,"1e6e5fcu3tPWZfUAMDit6FE","RandomWeightModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.RandomWeightModelEnum=void 0;var n,i=t("../../../cfw/cfw");(function(t){t[t.weight=0]="weight"})(n=o.RandomWeightModelEnum||(o.RandomWeightModelEnum={}));var a=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getWeight=function(){return this.getValue(n.weight)},e.CLASS_NAME="RandomWeightModel",e}(i.DataModel);o.default=a,cc._RF.pop()},{"../../../cfw/cfw":"cfw"}],RecorderComp:[function(t,e,o){"use strict";cc._RF.push(e,"045eeLBsw9O66MbPVHc2WMX","RecorderComp"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../sdk/sdk/SDKManager"),i=t("../../sdk/sdk/SDKConfig"),a=t("./RecorderC"),r=t("../../extention/redtip/RedTipMgr"),s=t("../../config/Config"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.recordStart=null,e.recordEnd=null,e.recordIcon=null,e.desc=null,e}return __extends(e,t),e.prototype.start=function(){if(this.node.active=n.default.getChannel().hasRecorder(),this.node.active){this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonClick,this);var t=n.default.getChannel().getRecorder();this.func=this.changeState.bind(this),t.on(this.func),this.startRecorder()}},e.prototype.startRecorder=function(){n.default.getChannel().getRecorder().start()},e.prototype.onDestroy=function(){var t=n.default.getChannel().getRecorder();t&&t.off(this.func)},e.prototype.changeState=function(t){console.log("changeState s ",t),this.setState(t)},e.prototype.setState=function(t){switch(t){case i.SDKState.stop:this.recordIcon&&(this.recordIcon.spriteFrame=this.recordEnd),this.desc.string="\u5f55\u5236\u5b8c\u6210",r.default.instance().addRedTip(s.RedTipType.HAS_RECORDER),this.onButtonClick();break;case i.SDKState.start:this.desc.string="\u5f55\u5236\u4e2d...",r.default.instance().removeRedTip(s.RedTipType.HAS_RECORDER),this.recordIcon&&(this.recordIcon.spriteFrame=this.recordStart)}},e.prototype.update=function(){},e.prototype.onButtonClick=function(){a.default.instance().intoLayer()},__decorate([u(cc.SpriteFrame)],e.prototype,"recordStart",void 0),__decorate([u(cc.SpriteFrame)],e.prototype,"recordEnd",void 0),__decorate([u(cc.Sprite)],e.prototype,"recordIcon",void 0),__decorate([u(cc.Label)],e.prototype,"desc",void 0),__decorate([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/Config":"Config","../../extention/redtip/RedTipMgr":"RedTipMgr","../../sdk/sdk/SDKConfig":"SDKConfig","../../sdk/sdk/SDKManager":"SDKManager","./RecorderC":"RecorderC"}],RecorderC:[function(t,e,o){"use strict";cc._RF.push(e,"add437dBdFC8bp2/iXsc3hK","RecorderC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/ui"),i=t("../sdk/SDKManager"),a=t("../../logic/public/bag/BagManager"),r=t("../../engine/EngineHelper"),s=t("../../logic/public/tip/TipC"),c=t("../channel-ts/CMgr"),l=t("../../config/UmengEventID"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.stopRecorder=function(t){var e=this;console.log("------------------------------------------");var o=i.default.getChannel().getRecorder();o.stop(!0,function(i){i?(o.publish(function(o){o?(c.default.helper.trackEvent(l.default.buy_energy_use_share),a.default.instance().updateItem(e.getItem(),r.default.getMidPos())):s.default.instance().showToast("\u5206\u4eab\u5931\u8d25"),e.startRecorder(),n.default.instance().popView(t)}),o.clear()):s.default.instance().showToast("\u5f55\u5c4f\u65f6\u95f4\u592a\u77ed")})},e.prototype.startRecorder=function(){var t=i.default.getChannel().getRecorder();t&&t.start()},e}(t("./ShareController").default);o.default=u,cc._RF.pop()},{"../../cfw/ui":"ui","../../config/UmengEventID":"UmengEventID","../../engine/EngineHelper":"EngineHelper","../../logic/public/bag/BagManager":"BagManager","../../logic/public/tip/TipC":"TipC","../channel-ts/CMgr":"CMgr","../sdk/SDKManager":"SDKManager","./ShareController":"ShareController"}],RecorderView:[function(t,e,o){"use strict";cc._RF.push(e,"ff4aa18pGVCrYUW/fotesEg","RecorderView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("../../config/Config"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.num=null,e}return __extends(e,t),e.prototype.start=function(){var t=this.controller.getItem();t&&(this.icon.node.scale=t.getScale(),console.log(" item.getSpriteFrame()",t.getSpriteFrame(),"itemID ",t.getID(),t.getType(),t.getNum(!1)),this.setSpriteAtlas(this.icon,t.getModuleID(),t.getIcon(),t.getSpriteFrame()),this.num.string=""+t.getNum(!1)),this.gEventProxy.on(i.EventName.CLOSE_GAME_VIEW,this.hide,this)},e.prototype.onBackBtnClick=function(){this.controller.startRecorder(),this.hide()},e.prototype.onButtonClick=function(){this.controller.stopRecorder(this)},__decorate([s(cc.Sprite)],e.prototype,"icon",void 0),__decorate([s(cc.Label)],e.prototype,"num",void 0),__decorate([r],e)}(n.BaseView);o.default=c,cc._RF.pop()},{"../../cfw/view":"view","../../config/Config":"Config"}],RedTipMgr:[function(t,e,o){"use strict";cc._RF.push(e,"8b2bbrj+MFJtp0l3RQx4GNF","RedTipMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipList=[],e}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this),this.ins},e.prototype.addRedTip=function(t,o){if(void 0===o&&(o=-1),this.tipList[t]||(this.tipList[t]=[]),-1==o){if(this.tipList[t].length>0)return}else if(this.getIndex(this.tipList[t],o)>=0)return;this.tipList[t].push(o),this.emit(e.ADD_TIP+t,t,o)},e.prototype.removeRedTip=function(t,o){if(void 0===o&&(o=-1),this.tipList[t]){var n=!1;if(-1==o)this.tipList[t].length>0&&(this.tipList[t].pop(),n=!0);else{var i=this.getIndex(this.tipList[t],o);i>=0&&(this.tipList[t].splice(i,1),n=!0)}n&&this.emit(e.REMOVE_TIP+t,t,o)}},e.prototype.hasRedTip=function(t,e){return void 0===e&&(e=-1),!!this.tipList[t]&&(-1==e?this.tipList[t].length>0:this.getIndex(this.tipList[t],e)>=0)},e.prototype.getIndex=function(t,e){void 0===e&&(e=-1);for(var o=0;o<t.length;o++)if(t[o]==e)return o;return-1},e.ADD_TIP="add_tip",e.REMOVE_TIP="remove_tip",e}(t("../../cfw/event").EventDispatcher);o.default=n,cc._RF.pop()},{"../../cfw/event":"event"}],RedTipPoint:[function(t,e,o){"use strict";cc._RF.push(e,"5dfc8XUn61JApi2azE71nKg","RedTipPoint"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../config/Config"),i=t("./RedTipView"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=n.RedTipType.HAS_TASK,e.id=-1,e}return __extends(e,t),e.prototype.upateState=function(){var t=this.node.getComponent(i.default);t&&t.updateState()},__decorate([s({type:cc.Enum(n.RedTipType)})],e.prototype,"type",void 0),__decorate([s],e.prototype,"id",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../config/Config":"Config","./RedTipView":"RedTipView"}],RedTipView:[function(t,e,o){"use strict";cc._RF.push(e,"09ff0fB6JlC+r8KzutIeQ0/","RedTipView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./RedTipPoint"),i=t("./RedTipMgr"),a=cc._decorator,r=a.ccclass,s=(a.property,a.requireComponent),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.points=[],e}return __extends(e,t),e.prototype.onLoad=function(){this.icon=this.node.getComponent(cc.Sprite),this.points=this.node.getComponents(n.default);for(var t=0;t<this.points.length;t++){var e=this.points[t];i.default.instance().on(i.default.ADD_TIP+e.type,this.addRedTip,this),i.default.instance().on(i.default.REMOVE_TIP+e.type,this.removeRedTip,this)}this.updateState()},e.prototype.onDestroy=function(){for(var t=0;t<this.points.length;t++){var e=this.points[t];i.default.instance().off(i.default.ADD_TIP+e.type,this.addRedTip,this),i.default.instance().off(i.default.REMOVE_TIP+e.type,this.removeRedTip,this)}},e.prototype.addRedTip=function(t,e){for(var o=0;o<this.points.length;o++){var n=this.points[o];if(t==n.type){n.id>0?e==n.id&&(this.icon.node.opacity||(this.icon.node.opacity=255)):this.icon.node.opacity||(this.icon.node.opacity=255);break}}},e.prototype.updateState=function(){this.icon||(this.icon=this.node.getComponent(cc.Sprite),this.points=this.node.getComponents(n.default));for(var t=0;t<this.points.length;t++){var e=this.points[t];if(i.default.instance().hasRedTip(e.type,e.id))return void(this.icon.node.opacity||(this.icon.node.opacity=255))}255==this.icon.node.opacity&&(this.icon.node.opacity=0)},e.prototype.removeRedTip=function(){this.updateState()},__decorate([r,s(cc.Sprite)],e)}(cc.Component);o.default=c,cc._RF.pop()},{"./RedTipMgr":"RedTipMgr","./RedTipPoint":"RedTipPoint"}],ResHelper:[function(t,e,o){"use strict";cc._RF.push(e,"b3bf4U6u45DSJi6TzFMB1LO","ResHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../cfw/res"),i=function(t){function e(e,o){void 0===o&&(o="");var n=t.call(this)||this;return n.name="",n.mgr=e,n.mgr||(n.mgr=cc.resources),n}return __extends(e,t),e.prototype.loadRes=function(t,e,o){switch(e){case n.ResType.Prefab:this.mgr.load(t,cc.Prefab,o);break;case n.ResType.Texture2D:this.mgr.load(t,cc.Texture2D,o);break;case n.ResType.SpriteFrame:this.mgr.load(t,cc.SpriteFrame,o);break;case n.ResType.Json:this.mgr.load(t,cc.JsonAsset,o);break;case n.ResType.SpriteAtlas:this.mgr.load(t,cc.SpriteAtlas,o);break;case n.ResType.Particle2D:this.mgr.load(t,cc.ParticleAsset,o);break;case n.ResType.AudioClip:this.mgr.load(t,cc.AudioClip,o);break;case n.ResType.AssetBundle:cc.assetManager.loadBundle(t,o);break;case n.ResType.Scene:this.mgr.loadScene(t,o);break;case n.ResType.Remote:}},e.prototype.release=function(t,e){console.warn("release  url ",t);var o=this.getRes(t,e);cc.assetManager.releaseAsset(o)},e.prototype.getRes=function(t,e){switch(e){case n.ResType.Prefab:return this.mgr.get(t,cc.Prefab);case n.ResType.Texture2D:return this.mgr.get(t,cc.Texture2D);case n.ResType.SpriteFrame:return this.mgr.get(t,cc.SpriteFrame);case n.ResType.Json:return this.mgr.get(t,cc.JsonAsset);case n.ResType.SpriteAtlas:return this.mgr.get(t,cc.SpriteAtlas);case n.ResType.Particle2D:return this.mgr.get(t,cc.ParticleAsset);case n.ResType.AudioClip:return this.mgr.get(t,cc.AudioClip);case n.ResType.Scene:return this.mgr.get(t,cc.SceneAsset);case n.ResType.AssetBundle:return cc.assetManager.getBundle(t);case n.ResType.Remote:return null;default:return console.error(" getRes error url is ",t," type is ",e),null}},e.prototype.getDependsRecursively=function(){return[]},e.prototype.clear=function(){},e}(t("../cfw/core").TSRef);o.default=i,cc._RF.pop()},{"../cfw/core":"core","../cfw/res":"res"}],Rotation360:[function(t,e,o){"use strict";cc._RF.push(e,"36f71SKPHtGWKcEBexxDpHC","Rotation360"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){cc.tween(this.node).repeatForever(cc.tween(this.node).by(1,{angle:360})).start()},__decorate([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],SCC:[function(t,e,o){"use strict";cc._RF.push(e,"3b654D1QNJBq437PYhI9adC","SCC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/local"),i=t("../../../cfw/mvc"),a=t("../../../cfw/tools/ViewManager"),r=t("../../../config/ModuleConfig"),s=t("../../../config/UIConfig"),c=function(t){function e(){var e=t.call(this)||this;return e.state=new n.LocalValue("StartCState",0),e}return __extends(e,t),e.prototype.isState=function(t){return this.state.getInt()==t},e.prototype.SwitchChapter=function(t,e){this.chapter=t,this.title=e,this.intoLayer()},e.prototype.intoLayer=function(){a.default.pushUIView({path:"prefabs/SCView",moduleID:r.ModuleID.PUBLIC,uiIndex:s.UIIndex.TOAST,controller:this})},e}(i.BaseController);o.default=c,cc._RF.pop()},{"../../../cfw/local":"local","../../../cfw/mvc":"mvc","../../../cfw/tools/ViewManager":"ViewManager","../../../config/ModuleConfig":"ModuleConfig","../../../config/UIConfig":"UIConfig"}],SCView:[function(t,e,o){"use strict";cc._RF.push(e,"39b479poCNOFbfcwDtlV+M2","SCView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("./SCC"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.controller=i.default.instance(),this.showInfo(),this.fadeInAndOutNode()},e.prototype.showInfo=function(){this.titleLabel.string=this.controller.title,this.chapterLabel.string="\u7b2c"+this.convertToChineseNumber(this.controller.chapter)+"\u7ae0"},e.prototype.convertToChineseNumber=function(t){var e=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"];return t>=0&&t<e.length?e[t]:t.toString()},e.prototype.fadeInAndOutNode=function(){var t=cc.fadeIn(1),e=cc.delayTime(1.5),o=cc.fadeOut(1),n=cc.callFunc(this.onFadeInAndOutComplete,this),i=cc.sequence(t,e,o,n);this.node.opacity=0,this.node.runAction(i)},e.prototype.onFadeInAndOutComplete=function(){this.hide()},__decorate([s(cc.Label)],e.prototype,"titleLabel",void 0),__decorate([s(cc.Label)],e.prototype,"chapterLabel",void 0),__decorate([r],e)}(n.BaseView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","./SCC":"SCC"}],SDKConfig:[function(t,e,o){"use strict";cc._RF.push(e,"70848zpJdxIkY0pZcwtRa4v","SDKConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.getChannelID=o.getChannel=o.FunctionType=o.ChannelID=o.SDKState=o.ADDir=o.SDKDir=o.ResultState=o.USE_SHARE=o.FileEncoding=o.ADName=void 0;var n=function(){function t(){}return t.adUnitIdList="adUnitIdList",t.version="version",t.banner="banner",t.blockAd="blockAd",t.reward="reward",t.insert="insert",t.native="native",t.portal="portal",t.BoxBanner="BoxBanner",t.BoxPortal="BoxPortal",t.appbox="appbox",t.gridAd="gridAd",t.shareTitle="shareTitle",t.shareImage="shareImage",t.imageUrlId="imageUrlId",t.imageUrl="imageUrl",t.appid="appid",t.share="share",t.launchOptionsConfig="launchOptionsConfig",t.customAd="customAd",t.loadingAd="loadingAd",t.recorder="recorder",t.selfrender="selfrender",t}();o.ADName=n;var i=function(){function t(){}return t.UTF8="utf8",t.BINARY="binary",t}();o.FileEncoding=i,o.USE_SHARE=!0,function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.PROGRESS=2]="PROGRESS"}(o.ResultState||(o.ResultState={})),function(t){t[t.BOTTOM_MID=0]="BOTTOM_MID",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.TOP_MID=2]="TOP_MID",t[t.RIGHT_MID=3]="RIGHT_MID",t[t.LEFT_TOP=4]="LEFT_TOP",t[t.UP_MID=5]="UP_MID",t[t.MID=6]="MID",t[t.XY=7]="XY",t[t.NONE=8]="NONE",t[t.WHITE=9]="WHITE"}(o.SDKDir||(o.SDKDir={}));var a=function(){function t(){}return t.vertical="vertical",t.landscape="landscape",t}();o.ADDir=a,function(t){t[t.loadFail=0]="loadFail",t[t.loadSucess=1]="loadSucess",t[t.close=2]="close",t[t.loading=3]="loading",t[t.open=4]="open",t[t.start=5]="start",t[t.stop=6]="stop"}(o.SDKState||(o.SDKState={}));var r=function(){function t(){}return t.DEV="dev",t.WX="wx",t.QQ="qq",t.TT="tt",t.OPPO="OPPO",t.VIVO="vivo",t.SWAN="swan",t.COCOS="AdSDK",t.CSJ="csj",t.GOOGLE_ADMOB="google",t.F399="h5api",t.KWAI="kwai",t.VIGOO="vigoo",t.KS="ks",t.MIMO="mimo",t}();o.ChannelID=r;(function(t){t[t.onLoad=0]="onLoad",t[t.onError=1]="onError",t[t.onClose=2]="onClose",t[t.onResize=3]="onResize",t[t.onHide=4]="onHide",t[t.onRefresh=5]="onRefresh",t[t.onShow=6]="onShow"})(o.FunctionType||(o.FunctionType={}));var s=["ks","qq","tt","wx","qg","swan","h5api","AdSDK"],c=s.concat("native");o.getChannel=function(){for(var t=0;t<c.length;t++){var e=c[t];if(window[e])return window[e]}return null},o.getChannelID=function(t){for(var e=0;e<s.length;e++){var o=s[e],n=window[o];if(n){if("qg"==o){var i=n.getSystemInfoSync();return console.log(" sys ",i.brand),i.brand}return o}}return t},cc._RF.pop()},{}],SDKData:[function(t,e,o){"use strict";cc._RF.push(e,"89a6dL5SytAGKwkni3+zXcE","SDKData"),Object.defineProperty(o,"__esModule",{value:!0}),o.SDKData=void 0,o.SDKData={dev:{name:"dev",sdk:""},wx:{name:"wx",sdk:"wx",banner:{version:"2.0.4",adUnitIdList:["adunit-c54cc7d32181aad9"]},reward:{version:"2.0.4",adUnitIdList:["adunit-e4dd374ce73ff1d8"]},insert:{version:"2.6.0",adUnitIdList:["adunit-0d6426d8803ebd11"]},customAd:{version:"2.11.1",adUnitIdList:["adunit-da4ad3bc6fa60bef","adunit-0098a6470afa6c08","adunit-638b68a69862b241","adunit-70e3eb5cc59ea978","adunit-879126829a525295"]},share:[{shareTitle:"[\u6709\u4eba@\u4f60]\u4e00\u8d77\u88c5\u4fee\u68a6\u60f3\u5c0f\u5c4b",shareImage:"share4.jpg"},{shareTitle:"[\u6709\u4eba@\u4f60]\u4e00\u8d77\u88c5\u4fee\u68a6\u60f3\u5c0f\u5c4b",imageUrl:""}]},qq:{name:"qq",sdk:"qq",banner:["f2e09e7387a022bdf3e212ee73d41835"],insert:["6ed21723c56df7353f4272b8df6fbf31"],reward:["f4d966c8e776ccadefe4d25e6175176b"],appbox:["614585a7a840b0272d3e61cde733d749"],blockAd:["c3830586a5cc3ac295301bbf52e649f6","204773f5a1074a4e6ee100ab770b4dfb"],share:[{shareTitle:"[\u6709\u4eba@\u4f60]\u4e00\u8d77\u88c5\u4fee\u68a6\u60f3\u5c0f\u5c4b",shareImage:"share4.jpg"}]},ks:{name:"ks",sdk:"ks",insert:["2300002467_02"],reward:["2300002467_01"],share:[{shareTitle:"[\u6709\u4eba@\u4f60]\u4e00\u8d77\u88c5\u4fee\u68a6\u60f3\u5c0f\u5c4b",shareImage:"share4.jpg"}],recorder:{video:""}},tt:{name:"tt",sdk:"tt",banner:["f53d2dij22h01brtfb"],reward:["1crnk82tt044ptikke"],insert:["4h3j6b2b578f82dpls"],share:[{desc:"[\u6709\u4eba@\u4f60]\u4e00\u8d77\u88c5\u4fee\u68a6\u60f3\u5c0f\u5c4b",imageUrl:"",title:"\u86cb\u7cd5\u6d88\u6d88\u4e50\uff0c\u5927\u5bb6\u4e00\u8d77\u4e50\u7ffb\u5929\u3002",imageUrlId:""}],recorder:{channel:"video",title:"[\u6709\u4eba@\u4f60]\u4e00\u8d77\u88c5\u4fee\u68a6\u60f3\u5c0f\u5c4b",extra:{videoPath:""}},launchOptionsConfig:[{appId:"ttefd8996570e0589c02",query:"foo=bar&baz=qux",extraData:{}},{appId:"tt4a573cead56d2922",query:"foo=bar&baz=qux",extraData:{}},{appId:"tt110c67b18e26edc6",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttd6d0a06d49fa4560",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttd93baf864600cc5b",query:"foo=bar&baz=qux",extraData:{}}]},OPPO:{name:"OPPO",sdk:"qg",banner:{version:"1051",adUnitIdList:["465848","465853"]},reward:{version:"1051",adUnitIdList:["465847"]},native:{version:"1051",adUnitIdList:["465851","465852"]},insert:{version:"1076",adUnitIdList:[]},customAd:{version:"1076",adUnitIdList:[]},gameBannerAd:{version:"1076",adUnitIdList:[]},portal:{version:"1076",adUnitIdList:["465849"]}},vivo:{name:"vivo",sdk:"qg",banner:{version:"1031",adUnitIdList:["ed1fde48a9dd4276841895ab2ffac5b3"]},reward:{version:"1041",adUnitIdList:["37efd8597e7b412c8815edcdb24d2afe"]},insert:{version:"1031",adUnitIdList:["b337ce6020d8480badc8bb043037170f"]},BoxPortal:{version:"1092",adUnitIdList:["fbdfb238ee364575b1a9981fa6798b09"]},BoxBanner:{version:"1092",adUnitIdList:[]},native:{version:"1053",adUnitIdList:[]},customAd:{version:"1091",adUnitIdList:["0dd5bacbae814a7c825e233587194610","93c58b597dbe4ffc8f5db006a1af8334"]}},swan:{name:"swan",sdk:"swan",banner:[],reward:["7052091"]},Adsdk:{name:"Adsdk",sdk:"Adsdk",banner:["860194275"],reward:["842056391"],insert:["693714520"]},csj:{name:"csj",sdk:"Native",banner:["945561553"],reward:["945555925"],insert:["945561554"]},google:{name:"google",sdk:"Native",banner:["ca-app-pub-3940256099942544/6300978111"],reward:["ca-app-pub-3940256099942544/5224354917"],insert:["ca-app-pub-3940256099942544/1033173712"]},h5api:{name:"h5api",sdk:"h5api",reward:[""],share:[{shareTitle:"[\u6709\u4eba@\u4f60]\u4e00\u8d77\u88c5\u4fee\u68a6\u60f3\u5c0f\u5c4b",shareImage:"share4.jpg"}]},kwai:{name:"kwai",sdk:"Native",banner:[],reward:["nvdyc1020"],insert:[]},vigoo:{name:"vigoo",sdk:"vigoo",reward:[""],insert:["start"]},mimo:{name:"mimo",sdk:"Native",reward:["dac2420c563386356d8c0892c0f91581","78220db9635331e3e261dae1ab84154d"],insert:["057399b743e32da006a8df12329607d3","94c70f7f0426db7dbb1d2e808fe1a17f"],banner:["cc8376b73fdaab66eaa6c948bfda5cf6","78c1d7b09c8581f2417ea9cf257d025f"],selfrender:["7eeac411322c0f059f45f6f3e27efce4","213b1e8224bc6695fc4c053ccf367660"]}},cc._RF.pop()},{}],SDKEventDispatcher:[function(t,e,o){"use strict";cc._RF.push(e,"41c32PehOtGfIRREmv0WCGM","SDKEventDispatcher"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){},i=function(){function t(){this.eventHash={}}return t.prototype.offAll=function(){this.eventHash={}},t.prototype.offByName=function(t){this.eventHash[t]=[]},t.prototype.clearByTarget=function(t,e){var o=this.eventHash[t];if(o&&o.length>0)for(var n=0;n<o.length;n++)if(o[n].ower===e){o.splice(n,1);break}},t.prototype.on=function(t,e,o){if(!(this.has(t,e,o)>=0)){this.eventHash[t]||(this.eventHash[t]=[]);var i=new n;i.ower=o,i.type=t,i.callback=e,this.eventHash[t].push(i)}},t.prototype.has=function(t,e,o){var n=this.eventHash[t];if(n&&n.length>0)for(var i=0;i<n.length;i++){var a=n[i];if(a.ower===o&&a.callback===e)return i}return-1},t.prototype.off=function(t,e,o){var n=this.eventHash[t];if(n&&n.length>0)for(var i=0;i<n.length;i++){var a=n[i];if(a.ower===o&&a.callback===e){n.splice(i,1);break}}},t.prototype.emit=function(t){for(var e,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var i=this.eventHash[t];if(i&&i.length>0)for(var a=0;a<i.length;a++){var r=i[a];(e=r.callback).call.apply(e,__spreadArrays([r.ower],o))}},t}();o.default=i,cc._RF.pop()},{}],SDKEventID:[function(t,e,o){"use strict";cc._RF.push(e,"c5ca2PA6BRAAb7f0XlX8vne","SDKEventID"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.insert_ad_error="insert_ad_error",t.vedio_ad_error="vedio_ad_error",t.custom_ad_error="custom_ad_error",t.banner_event="banner_event",t}();o.default=n,cc._RF.pop()},{}],SDKEvent:[function(t,e,o){"use strict";cc._RF.push(e,"712c0MTpfJJpYIZfS4gOwoI","SDKEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this),this.ins},e.prototype.trackEvent=function(){},e.REWARD_AD_OPEN="REWARD_AD_OPEN",e.REWARD_AD_CLOSE="REWARD_AD_CLOSE",e}(t("./SDKEventDispatcher").default);o.default=n,cc._RF.pop()},{"./SDKEventDispatcher":"SDKEventDispatcher"}],SDKFileSystemManager:[function(t,e,o){"use strict";cc._RF.push(e,"07cecpo5VVHGKHIqEo2olPF","SDKFileSystemManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.sysPath="",this.channel=t,this.sdk=this.channel.getSDK(),this.init()}return t.prototype.init=function(){},t.prototype.writeFile=function(){},t.prototype.readFile=function(){},t}();o.default=n,cc._RF.pop()},{}],SDKHelper:[function(t,e,o){"use strict";cc._RF.push(e,"1f06bj52tFMeJewGraMGXZs","SDKHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.random=function(t,e){return e?Math.floor(Math.random()*(e-t)+t):Math.floor(Math.random()*t)},t.uint8ArrayToString=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(t[o]);return e},t.stringToUint8Array=function(t){for(var e=[],o=0,n=t.length;o<n;++o)e.push(t.charCodeAt(o));return new Uint8Array(e)},t.isNull=function(t){return null==t||null==t},t.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var o=Math.max(t.length,e.length);t.length<o;)t.push("0");for(;e.length<o;)e.push("0");for(var n=0;n<o;n++){var i=parseInt(t[n]),a=parseInt(e[n]);if(i>a)return 1;if(i<a)return-1}return 0},t.addScript=function(t,e,o){void 0===e&&(e="");var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.id=e,i.onload=function(t){o(null,t)},i.onerror=function(){o("error ","")},i.src=t,console.log("addSprite url ",t),n.appendChild(i)},t.sendHttpRequest=function(t,e,o,n){void 0===n&&(n="GET"),console.log("sendHttpRequest  address ",t);var i=new XMLHttpRequest;if(i.timeout=15e3,i.ontimeout=function(){o("ontimeout ",null)},i.onload=function(){if(console.log("onload xhr.status",i.status,"xhr.readyState ",i.readyState),i.status>=200&&i.status<400){var t=i.responseText;o(null,t)}else o("onload error ",null)},console.log(" 222"),"GET"==n){e&&(t=t+"?"+e),i.open(n,t,!0);var a={"content-type":"application/json","If-Modified-Since":"0"};for(var r in a)a[r]&&i.setRequestHeader(r,a[r]),console.log(" 333");try{i.send()}catch(s){o("get error "+s,null)}}else{i.open(n,t);try{i.send(e)}catch(s){o("POST error "+s,null)}}},t}();o.default=n,cc._RF.pop()},{}],SDKManager:[function(t,e,o){"use strict";cc._RF.push(e,"e0a1bKDbr1BPJ4e+tSdgUg4","SDKManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./SDKConfig"),i=t("./wx/WXChannel"),a=t("./oppo/OppoChannel"),r=t("./vivo/VivoChannel"),s=t("./tt/TTChannel"),c=t("./swan/SwanChannel"),l=t("./dev/DevChannel"),u=t("./cocos/CocosChannel"),d=t("./csj/CSJChannel"),p=t("./google/GoogleChannel"),h=t("./4399/G4399Channel"),f=t("./kwai/KwaiChannel"),g=t("./vigoo/ViGooChannel"),y=t("./qq/QQChannel2"),m=t("./ks/KSChannel"),v=t("./mimo/MiMoChannel"),_=function(){function t(){this.channel=null}return t.getChannel=function(){return this.channel},t.init=function(t,e){var o=n.getChannelID(t);console.log(" Google init channel id ",t,o);var _=e[o];switch(console.log(" c ",_),o){case n.ChannelID.WX:this.channel=new i.default(_);break;case n.ChannelID.SWAN:this.channel=new c.default(_);break;case n.ChannelID.TT:this.channel=new s.default(_);break;case n.ChannelID.VIVO:this.channel=new r.default(_);break;case n.ChannelID.OPPO:this.channel=new a.default(_);break;case n.ChannelID.QQ:this.channel=new y.default(_);break;case n.ChannelID.COCOS:this.channel=new u.default(_);break;case n.ChannelID.CSJ:this.channel=new d.default(_);break;case n.ChannelID.GOOGLE_ADMOB:this.channel=new p.default(_);break;case n.ChannelID.F399:this.channel=new h.G4399Channel(_);break;case n.ChannelID.KWAI:this.channel=new f.default(_);break;case n.ChannelID.VIGOO:this.channel=new g.default(_);break;case n.ChannelID.KS:this.channel=new m.default(_);break;case n.ChannelID.MIMO:this.channel=new v.default(_);break;default:this.channel=new l.default(_)}},t}();o.default=_,cc._RF.pop()},{"./4399/G4399Channel":"G4399Channel","./SDKConfig":"SDKConfig","./cocos/CocosChannel":"CocosChannel","./csj/CSJChannel":"CSJChannel","./dev/DevChannel":"DevChannel","./google/GoogleChannel":"GoogleChannel","./ks/KSChannel":"KSChannel","./kwai/KwaiChannel":"KwaiChannel","./mimo/MiMoChannel":"MiMoChannel","./oppo/OppoChannel":"OppoChannel","./qq/QQChannel2":"QQChannel2","./swan/SwanChannel":"SwanChannel","./tt/TTChannel":"TTChannel","./vigoo/ViGooChannel":"ViGooChannel","./vivo/VivoChannel":"VivoChannel","./wx/WXChannel":"WXChannel"}],ScaleComp:[function(t,e,o){"use strict";cc._RF.push(e,"fad3e88g/JI2b7P+MLMnRob","ScaleComp"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.5,e.scale=.5,e}return __extends(e,t),e.prototype.start=function(){cc.tween(this.node).repeatForever(cc.tween(this.node).by(this.duration,{scale:this.scale}).by(this.duration,{scale:-this.scale})).start()},__decorate([a],e.prototype,"duration",void 0),__decorate([a],e.prototype,"scale",void 0),__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],ScaleForever:[function(t,e,o){"use strict";cc._RF.push(e,"016c6g7f25Mw5yynWR33zfD","ScaleForever"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/tools/Utils"),i=t("./SingleScaleForever"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=.3,e.scale=.1,e.delay=.2,e.duration=3,e.preDelay=0,e.isSingle=!1,e}return __extends(e,t),e.prototype.start=function(){this.show(),this.isSingle&&(this.node.active=!1,i.default.add(this))},e.prototype.getTime=function(){return 3*(2*this.time+this.duration+this.delay)},e.prototype.show=function(){var t=this;this.duration<0&&(this.duration=n.default.random(1,6)),this.preDelay<0&&(this.preDelay=n.default.random(1,6)),this.node.opacity=0,cc.tween(this.node).repeatForever(cc.tween(this.node).delay(this.preDelay).call(function(){t.node.opacity=255}).repeat(3,cc.tween(this.node).by(this.time,{scale:this.scale}).delay(this.delay).by(this.time,{scale:-this.scale})).call(function(){t.node.opacity=0}).delay(this.duration).call(function(){t.isSingle&&i.default.stop(t)})).start()},e.prototype.stop=function(){},__decorate([s],e.prototype,"time",void 0),__decorate([s],e.prototype,"scale",void 0),__decorate([s],e.prototype,"delay",void 0),__decorate([s],e.prototype,"duration",void 0),__decorate([s],e.prototype,"preDelay",void 0),__decorate([s],e.prototype,"isSingle",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../cfw/tools/Utils":"Utils","./SingleScaleForever":"SingleScaleForever"}],SceneC:[function(t,e,o){"use strict";cc._RF.push(e,"b00eaYMhSBIk6N/nnDcww0g","SceneC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./model/SceneMgr"),c=t("../../cfw/module"),l=t("../../cfw/res"),u=t("../public/loading/LoadingC"),d=t("../../cfw/ui"),p=t("../../cfw/model"),h=t("../../config/Config"),f=t("../dailytask/model/DailyTaskMgr"),g=t("../../extention/redtip/RedTipMgr"),y=function(t){function e(){var e=t.call(this)||this;return e.curID=0,e}return __extends(e,t),e.prototype.intoLayer=function(t,e,o){var n=this;if(void 0===e&&(e=s.default.instance().getCurID()),this.curID!=e){this.callback=o,this.curID=e,s.default.instance().setSceneID(e);var i=s.default.instance().getSceneItemModel(e);this.model=i;var d=i.getBundle();d&&(c.BundleManager.instance().hasBundle(d)?this.showView(i,t):(u.default.instance().addItem(d,l.ResType.AssetBundle,a.ModuleID.RES,"\u52a0\u8f7d"+d+"\u5206\u5305"),u.default.instance().intoLayer(function(){n.showView(i,t)},r.UIIndex.AD_LAYER)))}},e.prototype.showView=function(t,e){var o=this;i.default.pushUIToast({path:"prefabs/SceneView"+t.getID(),moduleID:"build1",uiIndex:r.UIIndex.ROOT,model:t,controller:this,className:"NewSceneView",parent:e,func:function(){d.default.instance().popView(),o.callback&&(o.callback(),o.callback=null)}})},e.prototype.addBuildSelectView=function(t){i.default.pushUIView({path:"prefabs/BuildSelectView",moduleID:a.ModuleID.PUBLIC,model:t,controller:this,uiIndex:r.UIIndex.STACK})},e.prototype.intoBuildSelect=function(t,e){console.log(" build.getState() ",t.getState()),t.getState()==p.ItemState.CAN_GET?(t.setState(p.ItemState.GOT),g.default.instance().removeRedTip(h.RedTipType.BUILD_OPEN,t.getID()),f.default.instance().updateTaskCount(h.DailyTaskID.BUILD),this.addBuildSelectView(t,e)):t.getState()==p.ItemState.GOT&&this.addBuildSelectView(t,e)},e.prototype.selectBulid=function(){},e.prototype.addBuildTag=function(t,e){i.default.pushUIToast({path:"prefabs/BuildTagView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,controller:this,model:t,parent:e})},e}(n.BaseController);o.default=y,cc._RF.pop()},{"../../cfw/model":"model","../../cfw/module":"module","../../cfw/mvc":"mvc","../../cfw/res":"res","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../extention/redtip/RedTipMgr":"RedTipMgr","../dailytask/model/DailyTaskMgr":"DailyTaskMgr","../public/loading/LoadingC":"LoadingC","./model/SceneMgr":"SceneMgr"}],SceneItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"b16fdlPd7VEBaMFZo1+Q0SI","SceneItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.SceneItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("./SceneMgr");(function(t){t[t.name=0]="name",t[t.bundle=1]="bundle"})(n=o.SceneItemModelEnum||(o.SceneItemModelEnum={}));var r=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getName=function(){return this.getValue(n.name)},e.prototype.getBundle=function(){return this.getValue(n.bundle)},e.prototype.getBuildIndexData=function(){return a.default.instance().getBuildIndexData(this.getID())},e.CLASS_NAME="SceneItemModel",e}(i.DataModel);o.default=r,cc._RF.pop()},{"../../../cfw/cfw":"cfw","./SceneMgr":"SceneMgr"}],SceneMgr:[function(t,e,o){"use strict";cc._RF.push(e,"f23feWe9hNDqZNwf7bpEJ0D","SceneMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./BuildItemModel"),r=t("./SceneItemModel"),s=t("../../../config/Config"),c=t("../../../cfw/local"),l=t("../../../extention/redtip/RedTipMgr"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildItemModelMgr=new n.ModelManager,e.sceneItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.sceneID=new c.LocalValue("SceneID",1),i.ModuleManager.dataManager.get(r.default.CLASS_NAME),this.buildItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),this.sceneItemModelMgr.initWithData(i.ModuleManager.dataManager.get(r.default.CLASS_NAME),r.default);for(var t=this.buildItemModelMgr.getList(),e=0;e<t.length;e++){var o=t[e];o.getState()==n.ItemState.CAN_GET&&l.default.instance().addRedTip(s.RedTipType.BUILD_OPEN,o.getID())}},e.prototype.left=function(){var t=this.sceneID.getInt();(t+=1)>e.instance().getSceneItemModelList().length&&(t=1),this.sceneID.setValue(t)},e.prototype.getCurID=function(){return this.sceneID.getInt()},e.prototype.right=function(){var t=e.instance().getSceneItemModelList().length,o=this.sceneID.getInt();(o-=1)<1&&(o=t),this.sceneID.setValue(o)},e.prototype.setSceneID=function(t){this.sceneID.setValue(t)},e.prototype.getBuildItemModel=function(t){return this.buildItemModelMgr.getByID(t)},e.prototype.getBuildItemModelList=function(){return this.buildItemModelMgr.getList()},e.prototype.getSceneItemModel=function(t){return this.sceneItemModelMgr.getByID(t)},e.prototype.getSceneItemModelList=function(){return this.sceneItemModelMgr.getList()},e.prototype.getBuildIndexData=function(t){return this.buildItemModelMgr.getIndexData(a.BuildItemModelEnum.type,t)},e.prototype.hasBuildNotOpen=function(t){var e=this.getBuildIndexData(t.getType());if(e)for(var o=0;o<e.length;o++)if(e[o].getState()==n.ItemState.CAN_GET)return!0;return!1},e}(n.BaseModel);o.default=u,cc._RF.pop()},{"../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../config/Config":"Config","../../../extention/redtip/RedTipMgr":"RedTipMgr","./BuildItemModel":"BuildItemModel","./SceneItemModel":"SceneItemModel"}],SceneView:[function(t,e,o){"use strict";cc._RF.push(e,"2e822PuXo1Et4ruxitsDHX/","SceneView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../engine/engine"),a=t("../SceneC"),r=t("../../../config/Config"),s=t("../../../cfw/time"),c=t("./BuildItemView"),l=t("./FingerManager"),u=t("../../../cocos/comp/SingleScaleForever"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameLoader=new s.SplitFrameLoader(e.splitFrameInit.bind(e),r.FRAME_DURATION),e.bgImg=null,e.dis=0,e}return __extends(e,t),e.prototype.start=function(){this.setController(a.default.instance()),this.bgImg=i.engine.findChild("bgImg",this.node);var t=this.bgImg.height;i.engine.setNodeWH(this.bgImg);var e=this.bgImg.height/t;this.dis=e;for(var o=this.bgImg.childrenCount,n=this.model.getBuildIndexData(),r=0;r<o;r++){var l=this.bgImg.children[r];l.y*=e;var u=l.getComponent(c.default);u||(u=l.addComponent(c.default));var d=parseInt(l.name)-1;u.setModel(n[d]),u.setController(this.controller)}s.TimeManager.instance().add(this.frameLoader)},e.prototype.splitFrameInit=function(t){var e=this.model.getBuildIndexData();if(e.length<=0||t<0||t>=e.length)return s.TimeManager.instance().remove(this.frameLoader),void u.default.showFinger();var o=this.bgImg.children[t].getComponent(c.default);o&&o.content()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),s.TimeManager.instance().remove(this.frameLoader),l.default.instance().clear(),u.default.clear()},e.prototype.changeBuild=function(){},__decorate([p],e)}(n.BaseView));o.default=h,cc._RF.pop()},{"../../../cfw/time":"time","../../../cfw/view":"view","../../../cocos/comp/SingleScaleForever":"SingleScaleForever","../../../config/Config":"Config","../../../engine/engine":"engine","../SceneC":"SceneC","./BuildItemView":"BuildItemView","./FingerManager":"FingerManager"}],SceneVisible:[function(t,e,o){"use strict";cc._RF.push(e,"3c598RrZ6xL/qF7nK4JVrd3","SceneVisible"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/event"),i=t("../../../config/Config"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.className="",e}return __extends(e,t),e.prototype.start=function(){n.GEvent.instance().on(i.EventName.VIEW_SHOW,this.setVisible,this)},e.prototype.onDestroy=function(){n.GEvent.instance().off(i.EventName.VIEW_SHOW,this.setVisible,this)},e.prototype.setVisible=function(t,e){this.className&&this.className==e&&(this.node.opacity=t?0:255)},__decorate([s],e.prototype,"className",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../cfw/event":"event","../../../config/Config":"Config"}],SdkEventList:[function(t,e,o){"use strict";cc._RF.push(e,"0a310jC/FFDsryHxTvkEb6z","SdkEventList"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.loadListener=[]}return t.prototype.on=function(t){this.loadListener.indexOf(t)<0&&this.loadListener.push(t)},t.prototype.off=function(t){var e=this.loadListener.indexOf(t);e>=0&&this.loadListener.splice(e,1)},t.prototype.emit=function(t){for(var e=0;e<this.loadListener.length;e++)(0,this.loadListener[e])(t)},t}();o.default=n,cc._RF.pop()},{}],SelectFoodItemView:[function(t,e,o){"use strict";cc._RF.push(e,"24b62IfZTxC+r1H2Jy67Oc0","SelectFoodItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cocos/comp/ButtonSoundComp"),i=t("../../../cfw/view"),a=t("../GameC"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipBtnSprite=null,e.tipBtnButton=null,e.tipBtnButtonSoundComp=null,e.foodIconSprite=null,e.pointSprite=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.setRadioButtonState(!1),this.model&&this.setSpriteAtlas(this.foodIconSprite,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame())},e.prototype.ontipBtnButtonClick=function(){this.model&&a.default.instance().showFoodInfo(this.model)},e.prototype.onButtonClick=function(){this.model&&a.default.instance().clickSelectFood(this)},e.prototype.setRadioButtonState=function(t){this.pointSprite.node.active=t},__decorate([c({type:cc.Sprite,displayName:"tipBtnSprite"})],e.prototype,"tipBtnSprite",void 0),__decorate([c({type:cc.Button,displayName:"tipBtnButton"})],e.prototype,"tipBtnButton",void 0),__decorate([c({type:n.default,displayName:"tipBtnButtonSoundComp"})],e.prototype,"tipBtnButtonSoundComp",void 0),__decorate([c({type:cc.Sprite,displayName:"foodIconSprite"})],e.prototype,"foodIconSprite",void 0),__decorate([c({type:cc.Sprite,displayName:"pointSprite"})],e.prototype,"pointSprite",void 0),__decorate([s],e)}(i.BaseItemView);o.default=l,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/comp/ButtonSoundComp":"ButtonSoundComp","../GameC":"GameC"}],SelectFoodView:[function(t,e,o){"use strict";cc._RF.push(e,"3b6c7WgatlP84vXzKP9fZz2","SelectFoodView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../engine/engine"),a=t("./SelectFoodItemView"),r=t("../model/FoodMgr"),s=t("../../../cfw/widget/RadioButtonMgr"),c=t("../../../config/Config"),l=t("../GameC"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.foodIconSprite=null,e.layoutLayout=null,e.play_smallSprite=null,e.backBtnSprite=null,e.backBtnButton=null,e.itemPrefab=null,e.radioButtonMgr=new s.default,e}return __extends(e,t),e.prototype.onEnter=function(){this.play_smallSprite.node.active=!1;for(var t=this.model.getOutput(),e=0;e<t.length;e++){var o=t[e],n=i.engine.instantiate(this.itemPrefab);if(n){var s=n.getComponent(a.default);if(s){var l=r.default.instance().getFoodItemModel(o);l&&(s.setModel(l),this.layoutLayout.node.addChild(n),this.radioButtonMgr.add(s))}}}this.gEventProxy.on(c.EventName.SELECT_FOOD,this.selectFood,this),this.setSpriteAtlas(this.foodIconSprite,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame())},e.prototype.selectFood=function(t){this.radioButtonMgr.setRadioButtonState(t),this.play_smallSprite.node.active||(this.play_smallSprite.node.active=!0)},e.prototype.onbackBtnButtonClick=function(){this.hide()},e.prototype.onSelectBtnClick=function(){this.hide(),l.default.instance().clickSelectOK()},__decorate([p({type:cc.Sprite,displayName:"foodIconSprite"})],e.prototype,"foodIconSprite",void 0),__decorate([p({type:cc.Layout,displayName:"layoutLayout"})],e.prototype,"layoutLayout",void 0),__decorate([p({type:cc.Sprite,displayName:"play_smallSprite"})],e.prototype,"play_smallSprite",void 0),__decorate([p({type:cc.Sprite,displayName:"backBtnSprite"})],e.prototype,"backBtnSprite",void 0),__decorate([p({type:cc.Button,displayName:"backBtnButton"})],e.prototype,"backBtnButton",void 0),__decorate([p(cc.Prefab)],e.prototype,"itemPrefab",void 0),__decorate([d],e)}(n.BaseView);o.default=h,cc._RF.pop()},{"../../../cfw/view":"view","../../../cfw/widget/RadioButtonMgr":"RadioButtonMgr","../../../config/Config":"Config","../../../engine/engine":"engine","../GameC":"GameC","../model/FoodMgr":"FoodMgr","./SelectFoodItemView":"SelectFoodItemView"}],SetFuncVisible:[function(t,e,o){"use strict";cc._RF.push(e,"9df47dwHK5OOo4nOIpDhsw4","SetFuncVisible"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("../../config/Config"),a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.gEventProxy.on(i.EventName.OPEN_MAKET,this.setShopNodeVisible,this)},e.prototype.setShopNodeVisible=function(t){this.node.active=t},__decorate([r],e)}(n.BaseView));o.default=s,cc._RF.pop()},{"../../cfw/view":"view","../../config/Config":"Config"}],SettingView:[function(t,e,o){"use strict";cc._RF.push(e,"523e64jAOdGJZYOMQXytYuF","SettingView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../model/SoundMgr"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.right0=null,e.right1=null,e}return __extends(e,t),e.prototype.start=function(){this.updateMusicState(),this.updateSoundState()},e.prototype.updateMusicState=function(){this.right0.active=i.default.instance().getMusicFlag()},e.prototype.updateSoundState=function(){this.right1.active=i.default.instance().getSoundFlag()},e.prototype.onTrogeClick=function(t,e){0==e?(i.default.instance().changeMusicsState(),this.updateMusicState()):(i.default.instance().changeSoundState(),this.updateSoundState())},__decorate([s(cc.Node)],e.prototype,"right0",void 0),__decorate([s(cc.Node)],e.prototype,"right1",void 0),__decorate([r],e)}(n.BaseView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","../model/SoundMgr":"SoundMgr"}],ShareComp:[function(t,e,o){"use strict";cc._RF.push(e,"f34f5KajDlGS4iX2qCT99N+","ShareComp"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NormalShareC"),i=t("../channel-ts/CMgr"),a=cc._decorator,r=a.ccclass,s=a.property,c=a.requireComponent,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adSite=0,e}return __extends(e,t),e.prototype.start=function(){var t=i.default.helper.hasNormalShare();this.node.active=t,t&&this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonClick,this)},e.prototype.onButtonClick=function(){n.default.instance().intoLayer()},__decorate([s],e.prototype,"adSite",void 0),__decorate([r,c(cc.Button)],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../channel-ts/CMgr":"CMgr","./NormalShareC":"NormalShareC"}],ShareController:[function(t,e,o){"use strict";cc._RF.push(e,"a66d4nFn41Kiq+yJIuiVQXr","ShareController"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/tools/Utils"),i=t("../../cfw/mvc"),a=t("../../cfw/tools/ViewManager"),r=t("../../config/UIConfig"),s=t("../../config/ModuleConfig"),c=t("./RecorderView"),l=t("../../logic/game/model/FoodMgr"),u=t("../../cfw/ui"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=0,e}return __extends(e,t),e.prototype.setItem=function(){this.count++,n.default.random(0,100)>=70||this.count%10==0?this.item=l.default.instance().getItemByRare(3):this.item=l.default.instance().getItemByRareList([1,2])},e.prototype.getItem=function(){return this.item},e.prototype.intoLayer=function(){var t="prefabs/RecorderView",e=u.default.instance().hasViewByPath(t,r.UIIndex.STACK);console.log("RecorderC  flag",e),e||(this.setItem(),a.default.pushUIView({path:t,moduleID:s.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,className:c.default,model:null,controller:this}))},e.prototype.getReward=function(){},e.prototype.startRecorder=function(){},e.prototype.stopRecorder=function(){},e}(i.BaseController);o.default=d,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/Utils":"Utils","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../logic/game/model/FoodMgr":"FoodMgr","./RecorderView":"RecorderView"}],ShowBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"402e5u5iilMuKgwl+GBNTjo","ShowBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../sdk/SDKConfig"),i=t("../channel-ts/CMgr"),a=t("../../cfw/event"),r=t("./InsertAdMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adIndex=0,e.dir=n.SDKDir.BOTTOM_MID,e.myCount=0,e}return __extends(e,t),e.prototype.start=function(){a.GEvent.instance().on(r.default.OPEN_NATIVE_AD,this.hide,this),a.GEvent.instance().on(r.default.CLOSE_NATIVE_AD,this.show,this),this.show()},e.prototype.show=function(){r.default.isBannerState()&&i.default.helper.showBannerAd(this.adIndex,this.dir)},e.prototype.onDestroy=function(){a.GEvent.instance().off(r.default.CLOSE_NATIVE_AD,this.show,this),a.GEvent.instance().off(r.default.OPEN_NATIVE_AD,this.hide,this),this.hide()},e.prototype.hide=function(){i.default.helper.hideBannerAd(this.adIndex)},e.count=-1,__decorate([l],e.prototype,"adIndex",void 0),__decorate([l({type:cc.Enum(n.SDKDir)})],e.prototype,"dir",void 0),__decorate([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../cfw/event":"event","../channel-ts/CMgr":"CMgr","../sdk/SDKConfig":"SDKConfig","./InsertAdMgr":"InsertAdMgr"}],ShowBlockAd:[function(t,e,o){"use strict";cc._RF.push(e,"6a325H+fORC0qEIXfiFOuR2","ShowBlockAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../sdk/SDKManager"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adIndex=0,e}return __extends(e,t),e.prototype.start=function(){var t=this.node.x/this.node.parent.width,e=(this.node.parent.height-this.node.y)/this.node.parent.height;n.default.getChannel().showBlockAd(this.adIndex,t,e)},e.prototype.onDestroy=function(){n.default.getChannel().hideBlockAd(this.adIndex)},__decorate([r],e.prototype,"adIndex",void 0),__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../sdk/SDKManager":"SDKManager"}],ShowCustomAd:[function(t,e,o){"use strict";cc._RF.push(e,"424aaosLuRKU7Dyu9NNPwFR","ShowCustomAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../channel-ts/CMgr"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adIndex=0,e}return __extends(e,t),e.prototype.start=function(){var t=this.node.x/this.node.parent.width,e=(this.node.parent.height-this.node.y)/this.node.parent.height;n.default.helper.showCustomAd(this.adIndex,t,e)},e.prototype.onDestroy=function(){n.default.helper.hideCustomAd(this.adIndex)},__decorate([r],e.prototype,"adIndex",void 0),__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../channel-ts/CMgr":"CMgr"}],ShowInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"39a0bwOl7BLMrgO2KSWnlQ8","ShowInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../channel-ts/CMgr"),i=t("../../extention/gevent/GameEventAdapter"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adIndex=0,e}return __extends(e,t),e.prototype.start=function(){i.default.instance().isOpen()||n.default.helper.showFuncInsertAd(this.adIndex)},e.prototype.onDestroy=function(){i.default.instance().isOpen()||n.default.helper.hideFuncInsertAd(this.adIndex)},e.count=0,__decorate([s],e.prototype,"adIndex",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../extention/gevent/GameEventAdapter":"GameEventAdapter","../channel-ts/CMgr":"CMgr"}],ShowPauseInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"b40eepkcOlFVqAS+dHXZzue","ShowPauseInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../channel-ts/CMgr"),i=t("../../extention/gevent/GameEventAdapter"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adIndex=0,e}return __extends(e,t),e.prototype.start=function(){i.default.instance().isOpen()||n.default.helper.showInsertAd(this.adIndex)},e.prototype.onDestroy=function(){i.default.instance().isOpen()||n.default.helper.hideInsertAd(this.adIndex)},__decorate([s],e.prototype,"adIndex",void 0),__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../extention/gevent/GameEventAdapter":"GameEventAdapter","../channel-ts/CMgr":"CMgr"}],SingleScaleForever:[function(t,e,o){"use strict";cc._RF.push(e,"e33035+Zl9GKrFR8Q9SR3jR","SingleScaleForever"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/tools/Utils"),i=function(){function t(){}return t.add=function(t){this.fingerList.push(t)},t.clear=function(){this.show=null,t.fingerList.length=0},t.stop=function(){this.showFinger()},t.showFinger=function(){if(!(this.fingerList.length<=0)){var t=n.default.random(0,this.fingerList.length);this.show&&(this.show.node.active=!1),this.show=this.fingerList[t],this.show&&(this.show.node.active=!0)}},t.show=null,t.fingerList=[],t.time=0,t}();o.default=i,cc._RF.pop()},{"../../cfw/tools/Utils":"Utils"}],Singleton:[function(t,e,o){"use strict";cc._RF.push(e,"b2147cMMi1ERZ2yDm0ZeFMH","Singleton"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.instance=function(){return this.ins||(this.ins=new this),this.ins},t}();o.default=n,cc._RF.pop()},{}],SoundC:[function(t,e,o){"use strict";cc._RF.push(e,"a31e8/tWhtO4b4/UqgM/iYO","SoundC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./model/SoundMgr"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){i.default.pushUIView({path:"prefabs/SettingView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,model:s.default.instance(),controller:this})},e}(n.BaseController);o.default=c,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","./model/SoundMgr":"SoundMgr"}],SoundItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"69bbeTuPrhFt6hGwD5vBHvl","SoundItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.SoundItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../../config/ModuleConfig");(function(t){t[t.res=0]="res",t[t.name=1]="name",t[t.playCount=2]="playCount",t[t.type=3]="type"})(n=o.SoundItemModelEnum||(o.SoundItemModelEnum={}));var r=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getRes=function(){return this.getValue(n.res)},e.prototype.getName=function(){return this.getValue(n.name)},e.prototype.getPlayCount=function(){return this.getValue(n.playCount)},e.prototype.getType=function(){return this.getValue(n.type)},e.prototype.getPath=function(){return""},e.prototype.getModuleID=function(){return a.ModuleID.AUDIO},e.CLASS_NAME="SoundItemModel",e}(i.DataModel);o.default=r,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../config/ModuleConfig":"ModuleConfig"}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"3e7b9ixT4dO/73It5kv/l0y","SoundManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.SoundManager=void 0;var n=t("./engine"),i=t("../cfw/audio"),a=function(){function t(){this.sourcePool={},this.playingName=[]}return t.prototype.getMaxNum=function(){return n.engine.audioEngine.getMaxAudioInstance()},t.prototype.play=function(t,e,o,a){var r;switch(void 0===o&&(o=1),void 0===a&&(a=i.SoundType.NO_LIMIT),a){case i.SoundType.CLOSE_OTHER:var s=this.playingName[a];s&&(this.stop(s),this.playingName[a]=null);break;case i.SoundType.HAS_OTHER:if(this.playingName[a])return;break;case i.SoundType.NO_LIMIT:}(r=n.engine.audioEngine.playEffect(e,o))&&(this.playingName[a]=t,this.addSound(t,r),1==o&&n.engine.audioEngine.setFinishCallback(r,this.over.bind(this,a)))},t.prototype.addSound=function(t,e){this.sourcePool[t]||(this.sourcePool[t]=[]),this.sourcePool[t].push(e)},t.prototype.get=function(t,e){void 0===e&&(e=!1);var o=this.sourcePool[t];return o&&o.length>0?e?o.shift():o[0]:0},t.prototype.over=function(t){var e=this.playingName[t];this.get(e,!0),this.playingName[t]=null},t.prototype.pause=function(){for(var t in this.sourcePool)for(var e=this.sourcePool[t],o=0;o<e.length;o++){var i=e[o];n.engine.audioEngine.pauseEffect(i)}},t.prototype.resume=function(){for(var t in this.sourcePool)for(var e=this.sourcePool[t],o=0;o<e.length;o++){var i=e[o];n.engine.audioEngine.resumeEffect(i)}},t.prototype.stop=function(t){var e=this.get(t,!0);(e>=0||"object"==typeof e)&&n.engine.audioEngine.stopEffect(e)},t.prototype.setVolume=function(t){n.engine.audioEngine.setEffectsVolume(t)},t.prototype.stopAll=function(){for(var t in this.sourcePool)for(var e=this.sourcePool[t],o=0;o<e.length;o++){var i=e[o];n.engine.audioEngine.stopEffect(i)}},t.prototype.isPlaying=function(){return!1},t.prototype.clear=function(){this.stopAll(),this.sourcePool={}},t}();o.SoundManager=a,cc._RF.pop()},{"../cfw/audio":"audio","./engine":"engine"}],SoundMgr:[function(t,e,o){"use strict";cc._RF.push(e,"4e1225W665ItaCpg/q9tREf","SoundMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./SoundItemModel"),r=t("../../../cfw/audio"),s=t("../../../config/ModuleConfig"),c=t("../../../cfw/local"),l=t("../../../sdk/sdk/SDKManager"),u=function(t){function e(){var e=t.call(this)||this;return e.soundItemModelMgr=new n.ModelManager,e.musicID=1,e.verb=new c.LocalValue("SoundMgrverb",1),e}return __extends(e,t),e.prototype.changeBerb=function(){1==this.verb.getValue()?this.verb.setValue(0):this.verb.setValue(1)},e.prototype.getBerb=function(){return this.verb.getValue()},e.prototype.initData=function(){this.soundItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default)},e.prototype.getSoundItemModel=function(t){return this.soundItemModelMgr.getByID(t)},e.prototype.getSoundItemModelList=function(){return this.soundItemModelMgr.getList()},e.prototype.stopMusic=function(){r.default.instance().stopMusic()},e.prototype.getMusicID=function(){return this.musicID},e.prototype.playMusic=function(t,e){void 0===t&&(t=this.musicID),void 0===e&&(e=!1);var o=this.getSoundItemModel(t);o&&(this.musicID=t,e?r.default.instance().getMusicFlag()&&r.default.instance().playMusic(s.ModuleID.AUDIO,o.getRes()):r.default.instance().playMusic(s.ModuleID.AUDIO,o.getRes()))},e.prototype.getMusicFlag=function(){return r.default.instance().getMusicFlag()},e.prototype.changeAudioState=function(){this.changeMusicsState(),this.changeSoundState()},e.prototype.changeMusicsState=function(){r.default.instance().setMusicFlag(!r.default.instance().getMusicFlag()),r.default.instance().getMusicFlag()?this.playMusic(this.musicID,!1):r.default.instance().stopMusic()},e.prototype.setAudioState=function(t){r.default.instance().setSoundFlag(t),r.default.instance().setMusicFlag(t)},e.prototype.getSoundFlag=function(){return r.default.instance().getSoundFlag()},e.prototype.changeSoundState=function(){r.default.instance().setSoundFlag(!r.default.instance().getSoundFlag())},e.prototype.playSound=function(t){var e=this.getSoundItemModel(t);e&&r.default.instance().playSound(s.ModuleID.AUDIO,e.getRes(),parseInt(e.getPlayCount()),parseInt(e.getType()))},e.prototype.stopSound=function(t){var e=this.getSoundItemModel(t);e&&r.default.instance().stopSound(e.getRes())},e.prototype.vibrateShort=function(){this.getBerb()&&l.default.getChannel().vibrateShort()},e.prototype.rewardOpen=function(){console.log("rewardOpen "),this.getMusicFlag()&&this.stopMusic()},e.prototype.rewardClose=function(){console.log("rewardClose "),this.getMusicFlag()&&this.playMusic(e.instance().getMusicID(),!0)},e}(n.BaseModel);o.default=u,cc._RF.pop()},{"../../../cfw/audio":"audio","../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../config/ModuleConfig":"ModuleConfig","../../../sdk/sdk/SDKManager":"SDKManager","./SoundItemModel":"SoundItemModel"}],SpecialBuyView:[function(t,e,o){"use strict";cc._RF.push(e,"b8024eN+j1K24ja+KvbD7+u","SpecialBuyView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../person/view/PersonItemView"),i=t("../model/SpecialtaskMgr"),a=t("../../../cfw/view"),r=t("../../../config/Config"),s=t("../../../cfw/time"),c=t("../../../config/ModuleConfig"),l=t("../SpecialTaskC"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.personPrefab=null,e.personPos=null,e.coinNum=null,e.itemIcon=null,e.dayTimeLabelLabel=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.node.active=!1,r.SPECIAL_TASK_OK&&(this.setModel(i.default.instance()),this.content(),this.gEventProxy.on(r.EventName.UPDATE_SPECIAL_GOLD_NUM,this.updateCoinNum,this),this.gEventProxy.on(r.EventName.UPDATE_SPECIAL_TASK_STEP,this.content,this),this.gEventProxy.on(r.EventName.UPDATE_SPECIAL_TASK_TIME,this.updateTime,this),this.gEventProxy.on(r.EventName.CHANGE_SPECIAL_TASK_STATE,this.content,this))},e.prototype.updateTime=function(t){this.dayTimeLabelLabel.string=s.TimeDisplay.getFontString(t)},e.prototype.content=function(){if(this.node.active=this.model.isOpen(),this.model.isOpen()){if(this.node.active=!0,this.curModel=this.model.getCurModel(),!this.person){var t=cc.instantiate(this.personPrefab);this.person=t.getComponent(n.default),this.personPos.addChild(t),this.person&&(this.person.setModel(this.model.getPerson()),this.person.content())}this.updateCoinNum(),this.setSpriteAtlas(this.itemIcon,c.ModuleID.PUBLIC,this.curModel.getIcon(),this.curModel.getSpriteFrame()),this.updateTime(this.model.getLeftTime())}else this.node.active=!1},e.prototype.updateCoinNum=function(){this.curModel&&(this.coinNum.string=this.model.getGoldNum()+"/"+this.curModel.getGold())},e.prototype.onButtonClick=function(){l.default.instance().intoLayer()},__decorate([p(cc.Prefab)],e.prototype,"personPrefab",void 0),__decorate([p(cc.Node)],e.prototype,"personPos",void 0),__decorate([p(cc.Label)],e.prototype,"coinNum",void 0),__decorate([p(cc.Sprite)],e.prototype,"itemIcon",void 0),__decorate([p(cc.Label)],e.prototype,"dayTimeLabelLabel",void 0),__decorate([d],e)}(a.BaseItemView);o.default=h,cc._RF.pop()},{"../../../cfw/time":"time","../../../cfw/view":"view","../../../config/Config":"Config","../../../config/ModuleConfig":"ModuleConfig","../../person/view/PersonItemView":"PersonItemView","../SpecialTaskC":"SpecialTaskC","../model/SpecialtaskMgr":"SpecialtaskMgr"}],SpecialTaskButton:[function(t,e,o){"use strict";cc._RF.push(e,"38f6bzEvKlEb6bsYp80Ft1H","SpecialTaskButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SpecialTaskC"),i=t("../../../config/Config"),a=t("../model/SpecialtaskMgr"),r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){a.default.instance(),this.node.active=i.SPECIAL_TASK_OK},e.prototype.onButtonClick=function(){n.default.instance().intoLayer()},__decorate([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../../../config/Config":"Config","../SpecialTaskC":"SpecialTaskC","../model/SpecialtaskMgr":"SpecialtaskMgr"}],SpecialTaskC:[function(t,e,o){"use strict";cc._RF.push(e,"bf663rriLpMKL/Pqx29KgFA","SpecialTaskC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../config/UIConfig"),a=t("../../cfw/tools/ViewManager"),r=t("../../config/ModuleConfig"),s=t("./model/SpecialtaskMgr"),c=t("../lobby/LobbyC"),l=t("../../config/Config"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){l.SPECIAL_TASK_OK&&a.default.pushUIView({path:"specialtask/prefab/SpecialTaskView",moduleID:r.ModuleID.PUBLIC,uiIndex:i.UIIndex.STACK,model:s.default.instance(),controller:this})},e.prototype.playGame=function(){c.default.instance().intoGame()},e}(n.BaseController);o.default=u,cc._RF.pop()},{"../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../lobby/LobbyC":"LobbyC","./model/SpecialtaskMgr":"SpecialtaskMgr"}],SpecialTaskItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"086fdF6cNdDTJB5FmftOEAA","SpecialTaskItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.SpecialTaskItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("./SpecialtaskMgr"),r=t("../../../cfw/model");(function(t){t[t.gold=0]="gold",t[t.itemList=1]="itemList",t[t.state=2]="state",t[t.icon=3]="icon"})(n=o.SpecialTaskItemModelEnum||(o.SpecialTaskItemModelEnum={}));var s=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getGold=function(){return this.getValue(n.gold)},e.prototype.getItemList=function(){return this.getValue(n.itemList)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t,e){void 0===e&&(e=!0),this.setValue(n.state,t,e),this.emit(r.BaseItemModel.UPDATE_STATE)},e.prototype.getIcon=function(){return"specialtask/bg/special"},e.prototype.getSpriteFrame=function(){return this.getValue(n.icon)},e.prototype.isLastTask=function(){return this.getID()==a.default.instance().getSize()},e.CLASS_NAME="SpecialTaskItemModel",e}(i.DataModel);o.default=s,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/model":"model","./SpecialtaskMgr":"SpecialtaskMgr"}],SpecialTaskItemView:[function(t,e,o){"use strict";cc._RF.push(e,"5782d6pZlpKKpv7nZadW8Gm","SpecialTaskItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/model"),a=t("../../../config/ModuleConfig"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starPointSprite=null,e.circlePointSprite=null,e.CheckSprite=null,e.pointSprite=null,e.itemIconSprite=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.content()},e.prototype.addListener=function(){this.eventProxy.on(i.BaseItemModel.UPDATE_STATE,this.updateState,this)},e.prototype.content=function(){this.model&&(this.model.isLastTask()?(this.starPointSprite.node.active=!0,this.circlePointSprite.node.active=!1):(this.starPointSprite.node.active=!1,this.circlePointSprite.node.active=!0),this.setSpriteAtlas(this.itemIconSprite,a.ModuleID.PUBLIC,this.model.getIcon(),this.model.getSpriteFrame()),this.updateState())},e.prototype.updateState=function(){switch(this.model.getState()){case i.ItemState.NOT_GET:this.CheckSprite.node.active=!1,this.pointSprite.node.active=!1;break;case i.ItemState.ON_GOING:this.CheckSprite.node.active=!1,this.pointSprite.node.active=!0;break;case i.ItemState.CAN_GET:this.showRewardItem(this.itemIconSprite.node),this.model.setState(i.ItemState.GOT);break;case i.ItemState.GOT:this.CheckSprite.node.active=!0,this.pointSprite.node.active=!1}},e.prototype.showRewardItem=function(t){var e=t.scale,o=e+1,n=o+.1;cc.tween(t).to(.5,{scale:o}).delay(.2).to(.2,{scale:n}).to(.5,{scale:e}).call(function(){}).start()},__decorate([c({type:cc.Sprite,displayName:"starPointSprite"})],e.prototype,"starPointSprite",void 0),__decorate([c({type:cc.Sprite,displayName:"circlePointSprite"})],e.prototype,"circlePointSprite",void 0),__decorate([c({type:cc.Sprite,displayName:"CheckSprite"})],e.prototype,"CheckSprite",void 0),__decorate([c({type:cc.Sprite,displayName:"pointSprite"})],e.prototype,"pointSprite",void 0),__decorate([c({type:cc.Sprite,displayName:"itemIconSprite"})],e.prototype,"itemIconSprite",void 0),__decorate([s],e)}(n.BaseItemView);o.default=l,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/view":"view","../../../config/ModuleConfig":"ModuleConfig"}],SpecialTaskView:[function(t,e,o){"use strict";cc._RF.push(e,"753152dnTJPxbhGU3SJSHtp","SpecialTaskView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/model"),a=t("../../../config/Config"),r=t("../../../cfw/time"),s=t("../../../engine/engine"),c=t("./SpecialTaskItemView"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressNodeSprite=null,e.ProgressBarSprite=null,e.ProgressBarProgressBar=null,e.progressLabelLabel=null,e.itemIconSprite=null,e.ProgressBar2Sprite=null,e.ProgressBar2ProgressBar=null,e.comingsoonSprite=null,e.comingsoonTextLabel=null,e.title1Sprite=null,e.backBtnSprite=null,e.backBtnButton=null,e.play_smallSprite=null,e.play_smallButton=null,e.timeLabelLabel=null,e.timeLayerSprite=null,e.dayTimeLabelLabel=null,e.title2Sprite=null,e.prefab=null,e.layout=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.model.checkTime(),this.gEventProxy.on(a.EventName.UPDATE_SPECIAL_TASK_STEP,this.updateProgress,this),this.gEventProxy.on(a.EventName.UPDATE_SPECIAL_GOLD_NUM,this.updateGoldNum,this),this.gEventProxy.on(a.EventName.CHANGE_SPECIAL_TASK_STATE,this.updateState,this),this.gEventProxy.on(a.EventName.UPDATE_SPECIAL_TASK_TIME,this.updateTime,this),this.gEventProxy.on(a.EventName.CLOSE_GAME_VIEW,this.hide,this);for(var t=this.model.getSpecialTaskItemModelList(),e=0;e<t.length;e++){var o=t[e],n=s.engine.instantiate(this.prefab),i=n.getComponent(c.default);i&&(i.setModel(o),this.layout.node.addChild(n))}this.content()},e.prototype.updateTime=function(t){this.dayTimeLabelLabel.string=r.TimeDisplay.getFontString(t)},e.prototype.content=function(){this.updateGoldNum(),this.updateState(),this.updateProgress(),this.updateTime(this.model.getLeftTime())},e.prototype.updateState=function(){var t=this.model.getState();switch(console.log("SpecialTaskView updateState state ",t),parseInt(""+t)){case i.ItemState.NOT_GET:this.title1Sprite.node.active=!1,this.ProgressBar2Sprite.node.active=!1,this.title2Sprite.node.active=!0,this.play_smallButton.node.active=!1,this.comingsoonSprite.node.active=!0,this.progressNodeSprite.node.active=!1;break;case i.ItemState.ON_GOING:this.ProgressBar2Sprite.node.active=!0,this.title1Sprite.node.active=!0,this.title2Sprite.node.active=!1,this.play_smallButton.node.active=!0,this.comingsoonSprite.node.active=!1,this.progressNodeSprite.node.active=!0}},e.prototype.updateGoldNum=function(){var t=this.model.getCurModel();this.ProgressBarProgressBar.progress=this.model.getGoldNum()/t.getGold(),this.progressLabelLabel.string=this.model.getGoldNum()+"/"+t.getGold()},e.prototype.updateProgress=function(){var t=this.model.getStep()+1;this.ProgressBar2ProgressBar.progress=t/this.model.getSize();var e=this.model.getCurModel();e&&this.setSpriteAtlas(this.itemIconSprite,e.getModuleID(),e.getIcon(),e.getSpriteFrame())},e.prototype.onbackBtnButtonClick=function(){this.hide()},e.prototype.onplay_smallButtonClick=function(){this.hide(),this.controller.playGame()},__decorate([d({type:cc.Sprite,displayName:"progressNodeSprite"})],e.prototype,"progressNodeSprite",void 0),__decorate([d({type:cc.Sprite,displayName:"ProgressBarSprite"})],e.prototype,"ProgressBarSprite",void 0),__decorate([d({type:cc.ProgressBar,displayName:"ProgressBarProgressBar"})],e.prototype,"ProgressBarProgressBar",void 0),__decorate([d({type:cc.Label,displayName:"progressLabelLabel"})],e.prototype,"progressLabelLabel",void 0),__decorate([d({type:cc.Sprite,displayName:"itemIconSprite"})],e.prototype,"itemIconSprite",void 0),__decorate([d({type:cc.Sprite,displayName:"ProgressBar2Sprite"})],e.prototype,"ProgressBar2Sprite",void 0),__decorate([d({type:cc.ProgressBar,displayName:"ProgressBar2ProgressBar"})],e.prototype,"ProgressBar2ProgressBar",void 0),__decorate([d({type:cc.Sprite,displayName:"comingsoonSprite"})],e.prototype,"comingsoonSprite",void 0),__decorate([d({type:cc.Label,displayName:"comingsoonTextLabel"})],e.prototype,"comingsoonTextLabel",void 0),__decorate([d({type:cc.Sprite,displayName:"title1Sprite"})],e.prototype,"title1Sprite",void 0),__decorate([d({type:cc.Sprite,displayName:"backBtnSprite"})],e.prototype,"backBtnSprite",void 0),__decorate([d({type:cc.Button,displayName:"backBtnButton"})],e.prototype,"backBtnButton",void 0),__decorate([d({type:cc.Sprite,displayName:"play_smallSprite"})],e.prototype,"play_smallSprite",void 0),__decorate([d({type:cc.Button,displayName:"play_smallButton"})],e.prototype,"play_smallButton",void 0),__decorate([d({type:cc.Label,displayName:"timeLabelLabel"})],e.prototype,"timeLabelLabel",void 0),__decorate([d({type:cc.Sprite,displayName:"timeLayerSprite"})],e.prototype,"timeLayerSprite",void 0),__decorate([d({type:cc.Label,displayName:"dayTimeLabelLabel"})],e.prototype,"dayTimeLabelLabel",void 0),__decorate([d({type:cc.Sprite,displayName:"title2Sprite"})],e.prototype,"title2Sprite",void 0),__decorate([d(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([d(cc.Layout)],e.prototype,"layout",void 0),__decorate([u],e)}(n.BaseView);o.default=p,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/time":"time","../../../cfw/view":"view","../../../config/Config":"Config","../../../engine/engine":"engine","./SpecialTaskItemView":"SpecialTaskItemView"}],SpecialtaskMgr:[function(t,e,o){"use strict";cc._RF.push(e,"e9559LpIqBMeJPF4/3agObp","SpecialtaskMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./SpecialTaskItemModel"),r=t("../../person/model/PersonMgr"),s=t("../../../cfw/local"),c=t("../../../cfw/event"),l=t("../../../config/Config"),u=t("../../../cfw/time"),d=t("../../public/bag/BagManager"),p=t("../SpecialTaskC"),h=t("../../../extention/gevent/GameEventAdapter"),f=t("../../../sdk/channel-ts/CMgr"),g=t("../../../config/UmengEventID"),y=t("../../../extention/redtip/RedTipMgr");function m(t){return 1e3*t}var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.specialTaskItemModelMgr=new n.ModelManager,e.timer=new u.CountDownTimer(function(t){c.GEvent.instance().emit(l.EventName.UPDATE_SPECIAL_TASK_TIME,t),0==t&&(e.isOpen()?(e.finish(),e.openView()):(e.start(),e.openView()))},1),e}return __extends(e,t),e.prototype.openView=function(){h.default.instance().isOpen()||p.default.instance().intoLayer()},e.prototype.checkTime=function(){this.isOpen()?this.isTimeOver()?this.finish():(this.timer.setTime(this.getEndTime()),y.default.instance().addRedTip(l.RedTipType.SPECIAL_TASK)):this.isTimeStart()?this.start():this.timer.setTime(this.getStartTime())},e.prototype.initData=function(){this.state=new s.LocalValue("SpecialtaskMgrState",n.ItemState.NOT_GET),this.step=new s.LocalValue("SpecialtaskMgrstep",0),this.goldNum=new s.LocalValue("SpecialtaskMgrGoldNum",0),this.startTime=new s.LocalValue("SpecialtaskMgrStartTime",0),this.specialTaskItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),cc.game.on(cc.game.EVENT_SHOW,this.eventShow,this),l.SPECIAL_TASK_OK&&(0==this.startTime.getInt()&&this.startTime.setValue(Date.now()+m(600)),this.checkTime(),u.TimeManager.instance().add(this.timer))},e.prototype.eventShow=function(){console.warn(" eventShow "),this.checkTime()},e.prototype.getStartTime=function(){return this.startTime.getInt()},e.prototype.getLeftTime=function(){var t=this.getCountDownTime();return u.TimeHelper.leftTime(t)/1e3},e.prototype.getCountDownTime=function(){return this.isOpen()?this.getEndTime():this.getStartTime()},e.prototype.start=function(){console.warn("start begin"),this.step.setValue(0),this.goldNum.setValue(0);var t=this.getSpecialTaskItemModelList();if(t)for(var e=0;e<t.length;e++){var o=t[e];o?e==t.length-1?o.setState(n.ItemState.NOT_GET,!1):o.setState(n.ItemState.NOT_GET,!0):console.warn("element is null ")}else console.warn("  array is null ");var i=this.getCurModel();i&&i.setState(n.ItemState.ON_GOING),this.timer.setTime(this.getEndTime()),this.state.setValue(n.ItemState.ON_GOING),c.GEvent.instance().emit(l.EventName.CHANGE_SPECIAL_TASK_STATE),y.default.instance().addRedTip(l.RedTipType.SPECIAL_TASK),console.warn("start end ")},e.prototype.finish=function(){console.warn("finish begin ");var t=Date.now(),e=this.getEndTime();t>=e?this.startTime.setValue(Date.now()+m(86400)):this.startTime.setValue(e+m(86400)),this.timer.setTime(this.getStartTime()),this.state.setValue(n.ItemState.NOT_GET),c.GEvent.instance().emit(l.EventName.CHANGE_SPECIAL_TASK_STATE),y.default.instance().removeRedTip(l.RedTipType.SPECIAL_TASK),console.warn("finish end ")},e.prototype.getCurModel=function(){var t=this.getSpecialTaskItemModelList(),e=this.getStep();return t&&t.length>e?(console.log(" index ",e,t.length),t[e]):null},e.prototype.getGoldNum=function(){return this.goldNum.getInt()},e.prototype.getState=function(){return this.state.getInt()},e.prototype.isOpen=function(){return this.getState()==n.ItemState.ON_GOING},e.prototype.getStep=function(){return this.step.getInt()},e.prototype.isMax=function(){var t=this.getSpecialTaskItemModelList();return this.getStep()==t.length-1},e.prototype.isTimeStart=function(){var t=this.getStartTime();return Date.now()-t>=0},e.prototype.getEndTime=function(){return this.startTime.getInt()+m(259200)},e.prototype.isTimeOver=function(){var t=this.getEndTime();return Date.now()-t>0},e.prototype.addGold=function(t){if(l.SPECIAL_TASK_OK&&this.isOpen()){this.goldNum.updateValue(t);var e=this.getCurModel();if(this.goldNum.getInt()>=e.getGold()){this.goldNum.updateValue(-e.getGold()),e.setState(n.ItemState.CAN_GET);for(var o=e.getItemList(),i=0;i<o.length;i++){var a=o[i];d.default.instance().updateItemNum(a,1)}f.default.helper.trackEvent(g.default.specialtask_level,{id:e.getID()}),this.isMax()?this.finish():(this.step.updateValue(1),this.getCurModel().setState(n.ItemState.ON_GOING),c.GEvent.instance().emit(l.EventName.UPDATE_SPECIAL_TASK_STEP)),this.openView()}else c.GEvent.instance().emit(l.EventName.UPDATE_SPECIAL_GOLD_NUM)}},e.prototype.getSpecialTaskItemModel=function(t){return this.specialTaskItemModelMgr.getByID(t)},e.prototype.getSpecialTaskItemModelList=function(){return this.specialTaskItemModelMgr.getList()},e.prototype.getPerson=function(){return r.default.instance().getPersonItemModel(this.getPersonID())},e.prototype.getPersonID=function(){return 9},e.prototype.getSize=function(){return this.specialTaskItemModelMgr.size()},e}(n.BaseModel);o.default=v,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/time":"time","../../../config/Config":"Config","../../../config/UmengEventID":"UmengEventID","../../../extention/gevent/GameEventAdapter":"GameEventAdapter","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../../sdk/channel-ts/CMgr":"CMgr","../../person/model/PersonMgr":"PersonMgr","../../public/bag/BagManager":"BagManager","../SpecialTaskC":"SpecialTaskC","./SpecialTaskItemModel":"SpecialTaskItemModel"}],StartC:[function(t,e,o){"use strict";cc._RF.push(e,"ea3d65CCXlGN5t+2Uqk3t/+","StartC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/local"),a=t("../../cfw/tools/ViewManager"),r=t("../../config/ModuleConfig"),s=t("../../config/UIConfig"),c=t("../../merge/MergeEngin"),l=function(t){function e(){var e=t.call(this)||this;return e.state=new i.LocalValue("StartCState",0),e}return __extends(e,t),e.prototype.isState=function(t){return this.state.getInt()==t},e.prototype.intoLayer=function(){a.default.pushUIView({path:"prefabs/StartView",moduleID:r.ModuleID.PUBLIC,uiIndex:s.UIIndex.ROOT,controller:this})},e.prototype.guildEnd=function(){this.state.setValue(1),c.PlotMgr.instance().addPlot(this.content,1)},e.prototype.addPlot=function(){c.PlotMgr.instance().addPlot(this.content)},e.prototype.fadeEvent=function(){},e.prototype.setContent=function(t){this.content=t},e}(n.BaseController);o.default=l,cc._RF.pop()},{"../../cfw/local":"local","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../merge/MergeEngin":"MergeEngin"}],StartView:[function(t,e,o){"use strict";cc._RF.push(e,"10f39nzTIpCI7rohLKteW2/","StartView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/view"),i=t("../../cfw/module"),a=t("../../config/ModuleConfig"),r=t("../../extention/UI/CustomButton"),s=t("../../merge/MergeEngin"),c=t("../../engine/engine"),l=t("../game/GameC"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vagueList=[],e.label_talk=null,e.labelNode=null,e.content=null,e.bgNode=null,e.button=null,e.clickNode2=null,e.bg_map=null,e.bg_map2=null,e.time=0,e._step=0,e.state=0,e.cur_talk_des="",e.cur_talk_step=0,e.lastItemUrl="",e}return __extends(e,t),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){this._step=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.animation=this.bgNode.getComponent(cc.Animation),this.label_talk.string="",this.label_talk.enableWrapText=!0,this.label_talk.node.width=800,this.label_talk.lineHeight=80,this.bg_map.node.active=!1,this.item_Button.node.active=s.PlotMgr.instance().hasPlot("1012"),this.mgr=s.PlotMgr.instance(),this.controller.setContent(this.content),this.mgr.on(s.PlotMgr.AddPlot,this.addPlot,this),this.mgr.on(s.PlotMgr.AddMainPlot,this.showTalk,this)},e.prototype.contentSize=function(){var t=this.node.height;c.engine.setNodeWH(this.node);for(var e=this.node.height/t,o=this.node.childrenCount,n=0;n<o;n++)this.node.children[n].y*=e},e.prototype.onNextClick=function(){if(this.cur_talk_step<this.cur_talk_des.length)return this.unschedule(this.doSomething),void this.schedule(this.doSomething,0,cc.macro.REPEAT_FOREVER,0);this.currPlot.updateStep()&&(this.step>3?(this.step=-1,this.onGuildEnd()):(this.currPlot.hasNextSceneTalk()||(console.log("\u6ca1\u6709\u5269\u4f59\u5bf9\u8bdd"),this.controller.addPlot()),this.releaseItem())),this.showTalk(),this.updateStep()},e.prototype.updateStep=function(){this.step<0||(this.animation.getClips().length>this.step&&this.animation.play("Start"+(this.step+1)),1==this.step&&(this.time=0,this.vagueList.forEach(function(t){var e=t.node;e&&cc.tween(e).to(1.2,{opacity:0}).start()}),this.bgNode.getComponent(cc.Sprite).spriteFrame=this.bg_map.spriteFrame),this.step++)},e.prototype.onGuildStart=function(){var t=this;if(this.currPlot=this.mgr.getCurrPlot(),this.button.active=!1,this.labelNode.active=!0,s.PlotMgr.instance().getCurrPlot().cur_scene_talk_id>1e3)return this.step=-1,void this.onGuildEnd();this.scheduleOnce(function(){t.next_Button.enabled||(t.next_Button.enabled=!0),t.updateStep()},0),this.showTalk()},e.prototype.onGuildEnd=function(){this.state=1,this.bgNode.active=!1,this.controller.guildEnd()},e.prototype.addPlot=function(t){1100==t.cur_scene_talk_id&&(this.item_Button.node.active=!0),this.showTalk()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),i.ModuleManager.release(a.ModuleID.START)},e.prototype.showTalk=function(){null!=this.currPlot&&(this.cur_talk_des=this.currPlot.getCurTalkDes(),null!=this.cur_talk_des&&(this.clearLabel(),""==this.cur_talk_des?(this.labelNode.active=!1,this.bg_map2.node.active=!1,s.PlotMgr.instance().isOnItem=!1):this.labelNode.active=!0,this.addItem(this.currPlot.getTip()),""!=this.currPlot.getTip()&&"-"!=this.currPlot.getTip()?this.showBg2(this.currPlot.getCurMap()):this.showBg(this.currPlot.getCurMap()),this.cur_talk_step=0,this.schedule(this.doSomething,.1,cc.macro.REPEAT_FOREVER,0)))},e.prototype.clearLabel=function(){this.label_talk.string=""},e.prototype.doSomething=function(){this.cur_talk_step>=this.cur_talk_des.length?this.unschedule(this.doSomething):(this.cur_talk_step++,this.label_talk.string=this.cur_talk_des.slice(0,this.cur_talk_step))},e.prototype.addItem=function(t){var e=this;""!=t&&null!=t&&"-"!=t&&cc.resources.load("plot/"+t,cc.SpriteFrame,function(o,n){o?console.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25:"+t,o):(e.item.spriteFrame=n,e.lastItemUrl=t,e.item.node.active=!0,e.clickNode2.active=!0)})},e.prototype.releaseItem=function(){null!=this.item.spriteFrame&&(this.item.node.active=!1,this.clickNode2.active=!1,this.item.spriteFrame=null),this.cur_talk_des=""},e.prototype.fadeEvent=function(){this.bg_map},e.prototype.showBg=function(t){var e=this;""!=t&&null!=t&&(console.log(t),cc.resources.load("plot/"+t,cc.SpriteFrame,function(o,n){o?console.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25:"+t,o):(e.bg_map.spriteFrame=n,e.bg_map.node.active=!0)}))},e.prototype.showBg2=function(t){var e=this;""!=t&&null!=t&&cc.resources.load("plot/"+t,cc.SpriteFrame,function(o,n){o?console.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25:"+t,o):(e.bg_map2.spriteFrame=n,e.bg_map2.node.active=!0,s.PlotMgr.instance().isOnItem=!0)})},e.prototype.showGame=function(){l.default.instance().intoLayer()},__decorate([p([cc.Sprite])],e.prototype,"vagueList",void 0),__decorate([p(cc.Sprite)],e.prototype,"item",void 0),__decorate([p(cc.Label)],e.prototype,"label_talk",void 0),__decorate([p(cc.Node)],e.prototype,"labelNode",void 0),__decorate([p(cc.Node)],e.prototype,"content",void 0),__decorate([p(cc.Node)],e.prototype,"bgNode",void 0),__decorate([p(cc.Node)],e.prototype,"button",void 0),__decorate([p(cc.Node)],e.prototype,"clickNode2",void 0),__decorate([p(cc.Sprite)],e.prototype,"bg_map",void 0),__decorate([p(cc.Sprite)],e.prototype,"bg_map2",void 0),__decorate([p(r.CustomButton)],e.prototype,"next_Button",void 0),__decorate([p(r.CustomButton)],e.prototype,"item_Button",void 0),__decorate([d],e)}(n.BaseView);o.default=h,cc._RF.pop()},{"../../cfw/module":"module","../../cfw/view":"view","../../config/ModuleConfig":"ModuleConfig","../../engine/engine":"engine","../../extention/UI/CustomButton":"CustomButton","../../merge/MergeEngin":"MergeEngin","../game/GameC":"GameC"}],StorageC:[function(t,e,o){"use strict";cc._RF.push(e,"40862lnN01FoqIv6f7dQI9j","StorageC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./model/StorageMgr"),c=t("../public/bag/BagManager"),l=t("../../config/Config"),u=t("../../cfw/model"),d=t("../item/ItemC"),p=t("../../sdk/channel-ts/CMgr"),h=t("../../config/UmengEventID"),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){i.default.pushUIView({path:"prefabs/StorageView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.STACK,model:s.default.instance(),controller:this})},e.prototype.buyBox=function(t){var e=t.getToken();c.default.instance().isEnough(l.ItemID.TOKEN,e)?(c.default.instance().updateItemNum(l.ItemID.TOKEN,-e),t.setState(u.ItemState.GOT),s.default.instance().setNextModel(),p.default.helper.trackEvent(h.default.storage_level,{level:t.getID()})):d.default.instance().showBuyTokenView(e)},e}(n.BaseController);o.default=f,cc._RF.pop()},{"../../cfw/model":"model","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../sdk/channel-ts/CMgr":"CMgr","../item/ItemC":"ItemC","../public/bag/BagManager":"BagManager","./model/StorageMgr":"StorageMgr"}],StorageHelper:[function(t,e,o){"use strict";cc._RF.push(e,"b8852SP93NG6KfEx1zSYKUo","StorageHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Base64"),i=t("../../engine/engine"),a=function(){function t(){}return t.get=function(t){return i.engine.localStorage.getItem(t)},t.getLength=function(){return i.engine.localStorage.getLength()},t.set=function(t,e){i.engine.localStorage.setItem(t,e)},t.clear=function(){i.engine.localStorage.clear()},t.remove=function(t){i.engine.localStorage.removeItem(t)},t.setJson=function(t,e){this.set(t,JSON.stringify(e))},t.getJson=function(t){var e=this.get(t);return e?JSON.parse(e):null},t.getJsonBase64=function(t){var e=this.get(t);if(!e)return null;var o=n.default.decode(e);if(o)try{return JSON.parse(o)}catch(i){return console.log("getJsonBase64  error ",i),null}return null},t.setJsonBase64=function(t,e){e=JSON.stringify(e),e=n.default.encode(e),this.set(t,e)},t.setBase64=function(t,e){this.set(t,n.default.encode(e))},t.getBase64=function(t){var e=this.get(t);return e?n.default.decode(e):""},t}();o.default=a,cc._RF.pop()},{"../../engine/engine":"engine","./Base64":"Base64"}],StorageItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"8e673Ft96tGR4KQx4wZDpFH","StorageItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.StorageItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../game/model/GridFoodMgr"),r=t("../../../cfw/model");(function(t){t[t.state=0]="state",t[t.token=1]="token",t[t.foodID=2]="foodID"})(n=o.StorageItemModelEnum||(o.StorageItemModelEnum={}));var s=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.getToken=function(){return this.getValue(n.token)},e.prototype.getFoodID=function(){return this.getValue(n.foodID)},e.prototype.getFood=function(){var t=this.getFoodID();if(t>0){var e=a.default.instance().getFood(t);return e||(e=a.default.instance().addFood(t)),e}return null},e.prototype.removeFood=function(){this.setFoodID(0)},e.prototype.setFoodID=function(t){this.setValue(n.foodID,t)},e.prototype.setState=function(t){this.setValue(n.state,t),this.emit(r.BaseItemModel.UPDATE_STATE)},e.CLASS_NAME="StorageItemModel",e}(i.DataModel);o.default=s,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/model":"model","../../game/model/GridFoodMgr":"GridFoodMgr"}],StorageItemView:[function(t,e,o){"use strict";cc._RF.push(e,"7638eET76VJ/5VFjALX62t7","StorageItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/model"),a=t("../../../cfw/event"),r=t("../../../config/Config"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconSprite=null,e.LockSprite=null,e.buyBtnSprite=null,e.numLabel=null,e.iconButton=null,e.buyBtnButton=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.addListener=function(){this.eventProxy.on(i.BaseItemModel.UPDATE_STATE,this.content,this)},e.prototype.content=function(){if(this.model){this.node.active=!0;var t=this.model.getState();switch(this.iconSprite.node.scale=1.2*this.model.getScale(),t){case i.ItemState.GOT:this.buyBtnButton.node.active=!1,this.LockSprite.node.active=!1;var e=this.model.getFood();e?this.setSpriteAtlas(this.iconSprite,e.getModuleID(),e.getIcon(),e.getSpriteFrame()):this.iconSprite.spriteFrame=null;break;case i.ItemState.NOT_GET:var o=this.model.getToken();this.numLabel.string=o,this.iconSprite.node.active=!1,this.LockSprite.node.active=!0,this.buyBtnButton.node.active=!0;break;case i.ItemState.CAN_GET:this.LockSprite.node.active=!0,this.buyBtnButton.node.active=!1,this.iconSprite.node.active=!1}}else this.node.active=!1},e.prototype.oniconButtonClick=function(){var t=this,e=this.model.getFood();e&&a.GEvent.instance().emit(r.EventName.DELETE_STORAGE_ITEM,e,function(e){e&&(t.model.setFoodID(0),t.iconSprite.node.active=!1)})},e.prototype.onbuyBtnButtonClick=function(){this.controller&&this.model.getState()==i.ItemState.NOT_GET&&this.controller.buyBox(this.model)},__decorate([l({type:cc.Sprite,displayName:"iconSprite"})],e.prototype,"iconSprite",void 0),__decorate([l({type:cc.Sprite,displayName:"LockSprite"})],e.prototype,"LockSprite",void 0),__decorate([l({type:cc.Sprite,displayName:"buyBtnSprite"})],e.prototype,"buyBtnSprite",void 0),__decorate([l({type:cc.Label,displayName:"numLabel"})],e.prototype,"numLabel",void 0),__decorate([l({type:cc.Button,displayName:"iconButton"})],e.prototype,"iconButton",void 0),__decorate([l({type:cc.Button,displayName:"buyBtnButton"})],e.prototype,"buyBtnButton",void 0),__decorate([c],e)}(n.BaseItemView);o.default=u,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/model":"model","../../../cfw/view":"view","../../../config/Config":"Config"}],StorageLineItemView:[function(t,e,o){"use strict";cc._RF.push(e,"2400cgaoQNJRLI5pB0Bdypj","StorageLineItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./StorageItemView"),i=t("../../../cfw/view"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.StorageItemViewStorageItemView=[],e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t,e,o){this.StorageItemViewStorageItemView[t].setModel(e),this.StorageItemViewStorageItemView[t].setController(o),this.StorageItemViewStorageItemView[t].content()},e.prototype.onDestroy=function(){},__decorate([s({type:[n.default],displayName:"StorageItemViewStorageItemView"})],e.prototype,"StorageItemViewStorageItemView",void 0),__decorate([r],e)}(i.BaseItemView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","./StorageItemView":"StorageItemView"}],StorageMgr:[function(t,e,o){"use strict";cc._RF.push(e,"529cc5PbbRKiqjrrR93VFsQ","StorageMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./StorageItemModel"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.storageItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.storageItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default)},e.prototype.getStorageItemModel=function(t){return this.storageItemModelMgr.getByID(t)},e.prototype.getStorageItemModelList=function(){return this.storageItemModelMgr.getList()},e.prototype.addToStorage=function(t){var e=this.getEmpty();return!!e&&(e.setFoodID(t.getID()),!0)},e.prototype.getEmpty=function(){for(var t=this.getStorageItemModelList(),e=0;e<t.length;e++){var o=t[e];if(o.getState()==n.ItemState.GOT&&0==o.getFoodID())return o}return null},e.prototype.setNextModel=function(){for(var t=this.getStorageItemModelList(),e=0;e<t.length;e++){var o=t[e];if(o.getState()==n.ItemState.CAN_GET){o.setState(n.ItemState.NOT_GET);break}}},e}(n.BaseModel);o.default=r,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","./StorageItemModel":"StorageItemModel"}],StorageView:[function(t,e,o){"use strict";cc._RF.push(e,"1009clxS9VANpGb0RE70ncB","StorageView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("./StorageLineItemView"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollViewSprite=null,e.scrollViewScrollView=null,e.backBtnSprite=null,e.backBtnButton=null,e.linePrefab=null,e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=this.model.getStorageItemModelList(),e=Math.ceil(t.length/3),o=0;o<e;o++){var n=cc.instantiate(this.linePrefab),a=n.getComponent(i.default);if(a)for(var r=0;r<3;r++){var s=3*o+r;a.init(r,t[s],this.controller)}this.scrollViewScrollView.content.addChild(n)}},e.prototype.onDestroy=function(){},e.prototype.onbackBtnButtonClick=function(){this.hide()},__decorate([s({type:cc.Sprite,displayName:"scrollViewSprite"})],e.prototype,"scrollViewSprite",void 0),__decorate([s({type:cc.ScrollView,displayName:"scrollViewScrollView"})],e.prototype,"scrollViewScrollView",void 0),__decorate([s({type:cc.Sprite,displayName:"backBtnSprite"})],e.prototype,"backBtnSprite",void 0),__decorate([s({type:cc.Button,displayName:"backBtnButton"})],e.prototype,"backBtnButton",void 0),__decorate([s(cc.Prefab)],e.prototype,"linePrefab",void 0),__decorate([r],e)}(n.BaseView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","./StorageLineItemView":"StorageLineItemView"}],SwanBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"73c2feBL2BNqa5DJzjKFnUc","SwanBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.bannerAd||(this.bannerAd=this.sdk.createBannerAd({adUnitId:this.adUnitID,appSid:this.channel.getParamValue(n.ADName.appid),style:this.getStyle()}),this.bannerAd.onLoad(this.onLoad.bind(this)),this.bannerAd.onError(this.onError.bind(this)),this.bannerAd.onResize(this.onResize.bind(this)))},e}(t("../base/BaseBannerAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseBannerAd":"BaseBannerAd"}],SwanChannel:[function(t,e,o){"use strict";cc._RF.push(e,"596dfLkLrRCU7wmSrqqvEie","SwanChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("./SwanRewardAd"),a=t("./SwanScreenshot"),r=t("./SwanBannerAd"),s=t("../SDKConfig"),c=t("../base/BaseSubPackage"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t,e=this.cfg;if(this.sdk.onShow(function(){}),this.sdk.onHide(function(){}),this.sdk.createRewardedVideoAd&&(t=e[s.ADName.reward]))for(var o=0;o<t.length;o++){var n=t[o];this.rewardAd.push(new i.default(this,n))}if(this.subPackage=new c.default(this),this.screenshot=new a.default(this),this.sdk.createBannerAd&&(t=e[s.ADName.banner]))for(o=0;o<t.length;o++)n=t[o],this.bannerAd.push(new r.default(this,n))},e.prototype.vibrateShort=function(){this.sdk.vibrateShort()},e.prototype.showToast=function(t){this.sdk.showToast({title:t})},e.prototype.previewImage=function(t){this.sdk.previewImage({current:t,urls:[t]})},e.prototype.navigateToMiniProgram=function(t){this.sdk.navigateToMiniProgram({appKey:t,success:function(){console.log(" jump ok")},fail:function(){console.log(" jump fail")}})},e}(n.default);o.default=l,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","../base/BaseSubPackage":"BaseSubPackage","./SwanBannerAd":"SwanBannerAd","./SwanRewardAd":"SwanRewardAd","./SwanScreenshot":"SwanScreenshot"}],SwanRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"040d4Pj9CFOCL9fFYD+SSoE","SwanRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.rewardAd||(this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID,appSid:this.channel.getParamValue(n.ADName.appid)}),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)))},e}(t("../base/BaseRewardAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],SwanScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"7121d2fkxhPnYOgMwcB3nxd","SwanScreenshot"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas();return{x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,fileType:"png",quality:1}},e.prototype.saveFile=function(t,e){var o=this;console.log(" saveFile data ",t,e);var n=this.getCanvas();if(n.toTempFilePathSync){var i=n.toTempFilePathSync(t);console.log(" _tempFilePath ",i),this.sdk.saveImageToPhotosAlbum({filePath:i,success:function(t){console.log("Capture file success!"+i,t),e&&o.showImage(i)}})}},e}(t("../base/BaseScreenshot").default);o.default=n,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],TTBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"7a7fa5PQLFLGauTQ+sCjII9","TTBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(e,o){var n=t.call(this,e,o)||this,i=n.sdk.getSystemInfoSync();return i.width>i.height?n.width=128:n.width=300,n.height=100,n}return __extends(e,t),e.prototype.create=function(){this.bannerAd||(this.bannerAd=this.sdk.createBannerAd({adUnitId:this.adUnitID,style:this.getStyle()}),this.bannerAd.onLoad(this.onLoad.bind(this)),this.bannerAd.onError(this.onError.bind(this)),this.bannerAd.onResize(this.onResize.bind(this)))},e.prototype.load=function(){},e}(t("../base/BaseBannerAd").default);o.default=n,cc._RF.pop()},{"../base/BaseBannerAd":"BaseBannerAd"}],TTChannel:[function(t,e,o){"use strict";cc._RF.push(e,"bc44bJPhl1Jr5AtrHGXqT8F","TTChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("./TTBannerAd"),a=t("./TTRecorder"),r=t("./TTShare"),s=t("./TTLogin"),c=t("./TTInsertAd"),l=t("../SDKConfig"),u=t("./TTScreenshot"),d=t("./TTRewardAd"),p=t("../base/BaseSubPackage"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t,e=this.cfg;if(this.sdk.createBannerAd&&(t=e[l.ADName.banner]))for(var o=0;o<t.length;o++){var n=t[o];this.bannerAd.push(new i.default(this,n))}if(this.sdk.createRewardedVideoAd&&(t=e[l.ADName.reward]))for(o=0;o<t.length;o++)n=t[o],this.rewardAd.push(new d.default(this,n));if(this.sdk.getGameRecorderManager&&(this.recorder=new a.default(this,e[l.ADName.recorder])),this.sdk.shareAppMessage&&(this.share=new r.default(this,e[l.ADName.share])),this.loginMgr=new s.default(this),this.sdk.createInterstitialAd){if(t=e[l.ADName.insert])for(o=0;o<t.length;o++)n=t[o],this.insertAd.push(new c.default(this,n))}else console.log(" TTChannel createInterstitialAd   is null ");this.screenshot=new u.default(this),this.subPackage=new p.default(this),this.checkForUpdate()},e.prototype.hideMoreGameButton=function(){this.moreButton&&this.moreButton.hide()},e.prototype.createMoreGameButton=function(t,e,o,n){if(this.moreButton)this.moreButton.show();else if(this.sdk.createMoreGamesButton){var i=this.sdk.getSystemInfoSync();console.log(" winsize ",i);var a=i.windowWidth*t,r=i.windowHeight*e;console.log(" x  ",a," y ",r," xr ",t," yr ",e,o);var s=this.sdk.createMoreGamesButton({type:"image",image:"more_game.png",style:{left:a,top:r,width:o,height:n},appLaunchOptions:this.getParamValue(l.ADName.launchOptionsConfig),onNavigateToMiniGameBox:function(t){console.log("\u8df3\u8f6c\u5230\u5c0f\u6e38\u620f\u76d2\u5b50",t)}});this.moreButton=s,s.onTap(function(){console.log("\u70b9\u51fb\u66f4\u591a\u6e38\u620f")})}},e.prototype.hasMoreGame=function(){return"ios"!==this.sdk.getSystemInfoSync().platform},e.prototype.showMoreGameView=function(){"ios"!==this.sdk.getSystemInfoSync().platform&&this.sdk.showMoreGamesModal&&this.sdk.showMoreGamesModal({appLaunchOptions:this.getParamValue(l.ADName.launchOptionsConfig),success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}})},e.prototype.showAppBoxAd=function(){this.showMoreGameView()},e.prototype.exitApplication=function(){this.sdk.exitMiniProgram({isFullExit:!0})},e.prototype.vibrateShort=function(){this.sdk.vibrateShort({success:function(){},fail:function(){}})},e.prototype.showToast=function(t){this.sdk.showToast({title:t})},e.prototype.previewImage=function(t){this.sdk.previewImage({current:t,urls:[t]})},e.prototype.checkForUpdate=function(){var t=this;if(this.sdk.getUpdateManager){var e=this.sdk.getUpdateManager();console.log("getUpdateManager",e),e.onCheckForUpdate(function(e){console.log("onCheckForUpdate",e.hasUpdate),e.hasUpdate&&t.sdk.showToast({title:"\u5373\u5c06\u6709\u66f4\u65b0\u8bf7\u7559\u610f"})}),e.onUpdateReady(function(){t.sdk.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u7acb\u5373\u4f7f\u7528\uff1f",success:function(o){o.confirm?e.applyUpdate():t.sdk.showToast({icon:"none",title:"\u5c0f\u7a0b\u5e8f\u4e0b\u4e00\u6b21\u300c\u51b7\u542f\u52a8\u300d\u65f6\u4f1a\u4f7f\u7528\u65b0\u7248\u672c"})}})}),e.onUpdateFailed(function(){t.sdk.showToast({title:"\u66f4\u65b0\u5931\u8d25\uff0c\u4e0b\u6b21\u542f\u52a8\u7ee7\u7eed..."})})}},e.prototype.hasSubPackage=function(){return!0},e}(n.default);o.default=h,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","../base/BaseSubPackage":"BaseSubPackage","./TTBannerAd":"TTBannerAd","./TTInsertAd":"TTInsertAd","./TTLogin":"TTLogin","./TTRecorder":"TTRecorder","./TTRewardAd":"TTRewardAd","./TTScreenshot":"TTScreenshot","./TTShare":"TTShare"}],TTHelper:[function(t,e,o){"use strict";cc._RF.push(e,"f5b1bBQUvJL97DW5KKBhVpa","TTHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ZSGameItemModel"),i=t("./BaseHelper"),a=t("./ChannelEvent"),r=t("./ChannelUtils"),s=t("../sdk/tools/SDKEvent"),c=t("../sdk/SDKManager"),l=t("../lib/lc_sdk"),u=function(t){function e(){var e=t.call(this)||this;return e.openID="",e.clickMap=new Map,e.zsConfig={zs_version:"1.0",zs_switch:0,zs_banner_city:0,zs_native_click_switch:1,zs_process_time:0,zs_game_star_jump_switch:0,zs_banner_game_time:30,zs_text_message:30,zs_banner_time:2,zs_click_award_prompt:0,zs_click_award_num:1,zs_begin_click_switch:0,zs_start_video_switch:0,zs_begin_click__since:3,zs_banner_vertical_enable:0,zs_banner_system:""},e.setVersion("1.0"),s.default.instance().on(s.default.REWARD_AD_CLOSE,e.rewardClose,e),s.default.instance().on(s.default.REWARD_AD_OPEN,e.rewardOpen,e),e.sdk=new l.default,e.sdk.initSdkByConf({channel:"tt",appId:"tt7f5709eae06e1f8202",secret:""}),e.login(),e.loadConfig(),e}return __extends(e,t),e.prototype.rewardOpen=function(){},e.prototype.rewardClose=function(){},e.prototype.hasAgreement=function(){return!1},e.prototype.hasSinglePrivicy=function(){return!1},e.prototype.getProcessTime=function(){return this.zsConfig.zs_process_time},e.prototype.firstExport=function(){return this.isSwtichOpen()&&1==this.zsConfig.zs_game_star_jump_switch},e.prototype.getBannerRefreshTime=function(){return this.zsConfig.zs_banner_game_time},e.prototype.getFriendDuration=function(){return"string"==typeof this.zsConfig.zs_text_message?parseInt(this.zsConfig.zs_text_message):this.zsConfig.zs_text_message},e.prototype.hasFriend=function(){return!0},e.prototype.getBannerDelayTime=function(){return this.zsConfig.zs_banner_time},e.prototype.hasCrazyClick=function(){return!0},e.prototype.isShowAgain=function(){return 1==this.zsConfig.zs_click_award_prompt},e.prototype.login=function(t){var e=this;void 0===t&&(t=!0),this.sdk.login(function(o){console.log(" msg ",o),e.openID=o,t&&e.sdk.init(e.openID)},function(o){console.log("login error ",o),setTimeout(function(){e.login(t)},3e3)})},e.prototype.getRewardNum=function(){return this.zsConfig.zs_click_award_num},e.prototype.showShare=function(t,e,o){c.default.getChannel().showShare(t,e,o)},e.prototype.loadConfig=function(){var t=this;this.sdk.loadCfg(function(e){t.zsConfig="string"==typeof e?JSON.parse(e):e,t.zsConfig.zs_click_award_num,a.default.instance().emit(a.default.LOAD_CONFIG),console.log("result type ",typeof e),console.log(" result === ",e)},function(e){console.log(" err === ",e),setTimeout(function(){t.loadConfig()},3e3)})},e.prototype.isVersion=function(){return 1==r.default.compareVersion(this.verson,this.zsConfig.zs_version)},e.prototype.isOpenNativeErrorClick=function(){return 1==r.default.compareVersion(this.verson,this.zsConfig.zs_version)&&1==this.zsConfig.zs_native_click_switch},e.prototype.isSwtichOpen=function(){return 1==this.zsConfig.zs_switch},e.prototype.isSystemOpen=function(){return""==this.zsConfig.zs_banner_system||this.getOS()!=this.zsConfig.zs_banner_system},e.prototype.isErrorClickOpen=function(){return this.isSwtichOpen()&&this.isSystemOpen()&&1==this.zsConfig.zs_banner_city},e.prototype.isStartErrorClick=function(){return this.isErrorClickOpen()&&1==this.zsConfig.zs_start_video_switch},e.prototype.isBannerErrorClick=function(){return this.isErrorClickOpen()&&1==this.zsConfig.zs_banner_vertical_enable},e.prototype.hasEgg=function(){return!1},e.prototype.loadAd=function(){var t=this;console.log(" loadAd start"),this.sdk.loadAd(function(e){if(e&&e.promotion){console.log(" res.promotion ",e.promotion),t.adData.length=0;for(var o=0;o<e.promotion.length;o++){var i=e.promotion[o],a=new n.default(i);t.adData.push(a)}for(o=0;o<t.adData.length;o++)a=t.adData[o],t.setAdClickParam(a);t.sortAdData()}else setTimeout(function(){t.loadAd()},3e3)})},e.prototype.setAdClickParam=function(t){if(t){var e=t.getGameName(),o=this.clickMap.get(e);if(null==o||o.length<=0){o=[],this.clickMap.set(e,o);for(var n=0;n<this.adData.length;n++){var i=this.adData[n];o.push(i)}}}},e.prototype.getAdData=function(){return this.adData},e.prototype.refresh=function(){},e.prototype.sortAdData=function(){a.default.instance().emit(a.default.LOAD_EXPORT_DATA)},e.prototype.changeData=function(t){if(t){var e=this.adData.indexOf(t);if(console.log(" oldIndex ",e),e>=0){var o=this.adData.splice(e,1),n=r.default.random(0,this.adData.length);if(e==n)for(var i=0;i<10&&e==(n=r.default.random(0,this.adData.length));i++);console.log(" newIndex ",n," this.adData.length ",this.adData.length),this.adData.splice(n,0,o[0]),a.default.instance().emit(a.default.LOAD_EXPORT_DATA)}}},e.prototype.toOtherGame=function(t,e,o,n){if(this.openID&&t){var i=window.zs.sdk,a=t.getData();i.navigate2Mini(a,this.openID,e,o,n)}},e.prototype.navigate2Mini=function(t,e,o,n){if(this.openID&&t){var i=window.zs.sdk,a=t.getGameName(),s=this.clickMap.get(a);if(s&&s.length>0){var c=s.indexOf(t);if(c>=0){var l=t.getData();i.navigate2Mini(l,this.openID,e,o,n),s.splice(c,1)}else{var u=r.default.random(0,s.length);l=s[u].getData(),i.navigate2Mini(l,this.openID,e,o,n),s.splice(u,1)}s.length<=0&&this.setAdClickParam(t)}else this.setAdClickParam(t);this.changeData(t)}},e.prototype.isOpenStartEgg=function(){return this.isErrorClickOpen()&&1==this.zsConfig.zs_begin_click_switch&&3>=this.zsConfig.zs_begin_click__since},e.prototype.hasBigExport=function(){return!0},e.prototype.hasDiamonView=function(){return!0},e.prototype.getAdSprite=function(){return"texture/gift_sprite/ad"},e.prototype.hasMoreGame=function(){return!0},e.prototype.openMoreGameView=function(){c.default.getChannel().showMoreGameView()},e}(i.default);o.default=u,cc._RF.pop()},{"../lib/lc_sdk":"lc_sdk","../sdk/SDKManager":"SDKManager","../sdk/tools/SDKEvent":"SDKEvent","./BaseHelper":"BaseHelper","./ChannelEvent":"ChannelEvent","./ChannelUtils":"ChannelUtils","./ZSGameItemModel":"ZSGameItemModel"}],TTInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"a6679+xy69CnLhUoDdl/d4g","TTInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseInsertAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onClose=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u5173\u95ed")},e.prototype.create=function(){this.insertAd||(this.insertAd=this.sdk.createInterstitialAd({adUnitId:this.adUnitID}),this.insertAd&&(this.insertAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.insertAd.onError(this.getFunc(i.FunctionType.onError))))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseInsertAd":"BaseInsertAd"}],TTLogin:[function(t,e,o){"use strict";cc._RF.push(e,"bae72KK9hFCK4cmF9xPoSkp","TTLogin"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseLogin"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.login=function(t,e){var o=!1,n=this.sdk.getSystemInfoSync();console.log(" login == info ",n),"Douyin"==n.appName&&(o=!0),this.sdk.login({force:o,success:function(t){console.log("login\u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e(i.ResultState.YES,t)},fail:function(){e(o?i.ResultState.NO:i.ResultState.YES,null)}})},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseLogin":"BaseLogin"}],TTRecorder:[function(t,e,o){"use strict";cc._RF.push(e,"230a7i6JrdH+L5/zUlVkmMo","TTRecorder"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRecorder"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSave=!0,e.callback=null,e.time=0,e}return __extends(e,t),e.prototype.init=function(){var t=this;this.recorder=this.sdk.getGameRecorderManager(),this.changeState(i.SDKState.close),this.recorder.onStart(function(e){console.log("\u5f55\u5c4f\u5f00\u59cb",e),t.changeState(i.SDKState.start)}),this.recorder.onStop(function(e){console.log("\u5f55\u5c4f\u7ed3\u675f",e),t.clipVideo(e,[15,0],function(e,o){e?t.videoPath=e.videoPath:(t.videoPath=null,t.c.showToast("\u5f55\u5c4f\u65f6\u95f4\u592a\u77ed")),t.callback&&(t.callback(o),t.callback=null),t.changeState(i.SDKState.close)}),t.changeState(i.SDKState.stop)}),this.recorder.onResume(function(){console.log("TTRecorder onResume")}),this.recorder.onPause(function(){console.log("TTRecorder onPuase")}),this.recorder.onError(function(){console.log("TTRecorder onPuase"),t.c.showToast("\u5f55\u5c4f\u5931\u8d25"),t.videoPath=null,t.callback&&(t.callback(0),t.callback=null),t.changeState(i.SDKState.close)})},e.prototype.clipVideo=function(t,e,o){this.recorder.clipVideo({path:t.videoPath,timeRange:e,success:function(t){console.log("\u5f55\u5c4f\u6210\u529f \u5730\u5740\u4e3a\uff1a "+t.videoPath),o(t,1)},fail:function(){console.log("\u5f55\u5c4f\u5931\u8d25 \u5730\u5740\u4e3a\uff1a "),o(null,0)},complete:function(){}})},e.prototype.recordClip=function(t){this.recorder.recordClip({timeRange:[30,0],success:function(e){console.log(e.index),t(e)}})},e.prototype.start=function(){console.log(" ttRecoter start ",this.state==i.SDKState.start),this.state!=i.SDKState.start&&(this.time=Date.now(),this.recorder.start({duration:30}))},e.prototype.stop=function(t,e){if(void 0===t&&(t=!0),this.state==i.SDKState.start){var o=Date.now()-this.time;Math.floor(o/1e3)<=3?e(0):(this.callback=e,this.changeState(i.SDKState.loading),this.isSave=t,this.recorder.stop(),console.log(" ttRecoter stop "))}else this.videoPath?e(1):e(0)},e.prototype.pause=function(){this.recorder.pause()},e.prototype.resume=function(){this.recorder.resume()},e.prototype.publish=function(t){var e=this.data;console.log(" share data ",e,this.videoPath),e.extra.videoPath=this.videoPath,e.success=function(){console.log("\u5206\u4eab\u6210\u529f"),t&&t(i.ResultState.YES)},e.fail=function(){console.log("\u5206\u4eab\u5931\u8d25"),t(i.ResultState.NO)},this.sdk.shareAppMessage(e)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRecorder":"BaseRecorder"}],TTRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"20885ml7LVKaZmCw8UwfqSb","TTRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRewardAd"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.reload(i.SDKState.close),n}return __extends(e,t),e.prototype.open=function(t){console.log(" TTRewardAd open state ",this.state),this.callback=t,this.show()},e.prototype.onLoad=function(){this.setState(i.SDKState.loadSucess)},e.prototype.create=function(){this.rewardAd||(this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)))},e.prototype.destroy=function(){},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],TTScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"babbaFR9jtFjaraqgTP8PBa","TTScreenshot"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas();return{x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,fileType:"png",quality:1}},e.prototype.saveFile=function(t,e){var o=this;console.log(" saveFile data ",t,e);var n=this.getCanvas();if(n.toTempFilePathSync){var i=n.toTempFilePathSync(t);console.log(" _tempFilePath ",i),this.sdk.saveImageToPhotosAlbum({filePath:i,success:function(t){console.log("Capture file success!"+i,t),e&&o.showImage(i)}})}},e}(t("../base/BaseScreenshot").default);o.default=n,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],TTShare:[function(t,e,o){"use strict";cc._RF.push(e,"306a6oC5ERIPqbYvLDdTiG3","TTShare"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseShare"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.sdk.showShareMenu({success:function(){console.log("\u5df2\u6210\u529f\u663e\u793a\u8f6c\u53d1\u6309\u94ae")},fail:function(t){console.log("showShareMenu \u8c03\u7528\u5931\u8d25",t.errMsg)},complete:function(){console.log("showShareMenu \u8c03\u7528\u5b8c\u6210")}}),n.sdk.onShareAppMessage(function(){var t=n.getData(0);return t.success=function(){console.log("onShareAppMessage \u5206\u4eab\u6210\u529f")},t.fail=function(t){console.log("\u5206\u4eab\u5931\u8d25",t)},console.log("data ",t),t}),n}return __extends(e,t),e.prototype.getData=function(t){return this.data[t]},e.prototype.share=function(t,e,o){var n=this.data[t];console.log(" share data ",n,o,"index ",t),o&&n.extra&&(n.extra.videoPath=o),n.success=function(){console.log("\u5206\u4eab\u6210\u529f"),e&&e(i.ResultState.YES)},n.fail=function(){console.log("\u5206\u4eab\u5931\u8d25"),e(i.ResultState.NO)},this.sdk.shareAppMessage(n)},e.prototype.getShareInfo=function(t){t&&this.sdk.getShareInfo({shareTicket:t,success:function(){},fail:function(){}})},e}(n.BaseShare);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseShare":"BaseShare"}],TaskBuildProgress:[function(t,e,o){"use strict";cc._RF.push(e,"9239aLQnwtIzJjCwQjL/cLI","TaskBuildProgress"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/model"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lock=null,e.curBg=null,e.right=null,e.idLabel=null,e}return __extends(e,t),e.prototype.updateState=function(){switch(this.idLabel.string=this.model.getID(),this.model.getState()){case i.ItemState.NOT_GET:this.curBg.active=!1,this.right.active=!1,this.lock.active=!0;break;case i.ItemState.GOT:this.curBg.active=!1,this.right.active=!0,this.lock.active=!1;break;case i.ItemState.ON_GOING:this.curBg.active=!0,this.right.active=!1,this.lock.active=!1;break;case i.ItemState.CAN_GET:this.curBg.active=!1,this.right.active=!0,this.lock.active=!1}},__decorate([s(cc.Node)],e.prototype,"lock",void 0),__decorate([s(cc.Node)],e.prototype,"curBg",void 0),__decorate([s(cc.Node)],e.prototype,"right",void 0),__decorate([s(cc.Label)],e.prototype,"idLabel",void 0),__decorate([r],e)}(n.BaseItemView);o.default=c,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/view":"view"}],TaskC:[function(t,e,o){"use strict";cc._RF.push(e,"aeba7havJ5FvpHX25CwoyNk","TaskC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../lobby/LobbyC"),a=t("../../cfw/tools/ViewManager"),r=t("../../config/ModuleConfig"),s=t("../../config/UIConfig"),c=t("./model/TaskMgr"),l=t("../../cfw/model"),u=t("../../config/Config"),d=t("../../extention/redtip/RedTipMgr"),p=t("../../sdk/channel-ts/CMgr"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){var t=c.default.instance().getCurTask();t&&a.default.pushUIView({path:"prefabs/TaskView",moduleID:r.ModuleID.PUBLIC,uiIndex:s.UIIndex.STACK,model:t,controller:this})},e.prototype.playGame=function(){i.default.instance().intoGame()},e.prototype.getTaskReward=function(t,e,o){var n=this;void 0===e&&(e=1),t.getState()==l.ItemState.CAN_GET&&(e>1?p.default.helper.showRewardAd(0,function(i){i&&n.addItems(t,e,o)}):this.addItems(t,e,o))},e.prototype.addItems=function(t,e,o){void 0===e&&(e=1),c.default.instance().addItems(t,e,o)&&(d.default.instance().removeRedTip(u.RedTipType.HAS_TASK),c.default.instance().updateTaskID(),c.default.instance().updateTaskState())},e}(n.BaseController);o.default=h,cc._RF.pop()},{"../../cfw/model":"model","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../config/Config":"Config","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../extention/redtip/RedTipMgr":"RedTipMgr","../../sdk/channel-ts/CMgr":"CMgr","../lobby/LobbyC":"LobbyC","./model/TaskMgr":"TaskMgr"}],TaskItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"f1b93/7fLxCvYowLTIa+2Jl","TaskItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.TaskItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../item/model/ItemMgr"),r=t("../../../config/Config"),s=t("../../../cfw/model"),c=t("../../public/bag/BagManager"),l=t("../../../config/ModuleConfig"),u=t("../../../cfw/event"),d=t("../../scene/model/SceneMgr"),p=t("./TaskMgr"),h=t("../../../sdk/channel-ts/CMgr"),f=t("../../../config/UmengEventID");(function(t){t[t.gold=0]="gold",t[t.other=1]="other",t[t.level=2]="level",t[t.state=3]="state",t[t.buildID=4]="buildID",t[t.decorateID=5]="decorateID"})(n=o.TaskItemModelEnum||(o.TaskItemModelEnum={}));var g=function(t){function e(){var o=t.call(this,e.CLASS_NAME)||this;return o.items=[],o}return __extends(e,t),e.prototype.getGold=function(){return this.getValue(n.gold)},e.prototype.getExp=function(){return r.EXP_NUM},e.prototype.getOther=function(){return this.getValue(n.other)},e.prototype.getLevel=function(){return this.getValue(n.level)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t),u.GEvent.instance().emit(r.EventName.UPDATE_TASK_STATE),t==s.ItemState.GOT&&this.updateBuildState(),this.checkTaskState()},e.prototype.init=function(e){t.prototype.init.call(this,e),this.checkTaskState()},e.prototype.checkTaskState=function(){this.getState()==s.ItemState.CAN_GET&&u.GEvent.instance().emit(r.EventName.TASK_OPEN,this.getID())},e.prototype.updateBuildState=function(){var t=this.getBuild();t&&(t.getState()==s.ItemState.NOT_GET&&t.setState(s.ItemState.ON_GOING),t.getState()!=s.ItemState.GOT&&(t.setCoin(t.getCoin()+this.getGold()),t.getCoin()>=p.default.instance().getTotalCoin(t.getID())&&(t.setState(s.ItemState.CAN_GET),h.default.helper.trackEvent(f.default.build_open,{buildID:t.getID()}))))},e.prototype.getBuild=function(){var t=this.getBuildID();return d.default.instance().getBuildItemModel(t)},e.prototype.getDecorateID=function(){return this.getValue(n.decorateID)},e.prototype.getBuildID=function(){return this.getValue(n.buildID)},e.prototype.getHaveCount=function(){return a.default.instance().getCount(r.ItemID.GOLD)},e.prototype.getProgress=function(){var t=this.getHaveCount()/this.getGold();return t>1&&(t=1),t},e.prototype.getItemList=function(){0==this.items.length&&this.items.push(c.default.instance().getNewItemModel(r.ItemID.EXP,this.getExp()));var t=this.getOther();if(!t)return this.items;if(0==t.length)return this.items;if(1==this.items.length&&t.length>0)for(var e=t.length/2,o=0;o<e;o++){var n=t[2*o],i=t[2*o+1],a=c.default.instance().getNewItemModel(n,i);a&&this.items.push(a)}return this.items},e.prototype.getModuleID=function(){return l.ModuleID.PUBLIC},e.CLASS_NAME="TaskItemModel",e}(i.DataModel);o.default=g,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../cfw/event":"event","../../../cfw/model":"model","../../../config/Config":"Config","../../../config/ModuleConfig":"ModuleConfig","../../../config/UmengEventID":"UmengEventID","../../../sdk/channel-ts/CMgr":"CMgr","../../item/model/ItemMgr":"ItemMgr","../../public/bag/BagManager":"BagManager","../../scene/model/SceneMgr":"SceneMgr","./TaskMgr":"TaskMgr"}],TaskMgr:[function(t,e,o){"use strict";cc._RF.push(e,"c2f0f0g5WpE7rg6d964I0g0","TaskMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./TaskItemModel"),r=t("../../../cfw/local"),s=t("../../../config/Config"),c=t("../../public/bag/BagManager"),l=t("../../../cfw/event"),u=t("../../dailytask/model/DailyTaskMgr"),d=t("../../../extention/redtip/RedTipMgr"),p=t("../../../sdk/channel-ts/CMgr"),h=t("../../../config/UmengEventID"),f=t("../../level/model/LevelMgr"),g=t("../../item/model/ItemMgr"),y=t("../../../config/TestConfig"),m=t("../../../cfw/tools/Debug"),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){if(this.taskID=new r.LocalValue("taskID",1),this.taskItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default),l.GEvent.instance().on(s.EventName.UPDATE_ITEM_NUM_FINISH,this.updateItem,this),this.setBuildState(),this.updateTaskState(),this.checkPreTask(this.getCurTask()),y.default.TASK_TEST)for(var t=this.getTaskItemModelList(),e=0;e<t.length;e++)for(var o=t[e],n=o.getItemList(),c=0;c<n.length;c++){var u=n[c];u?(u.getType(),s.ItemType.FOOD):m.default.warn(" food is null ",o.getID())}},e.prototype.getTaskItemModel=function(t){return this.taskItemModelMgr.getByID(t)},e.prototype.getTaskItemModelList=function(){return this.taskItemModelMgr.getList()},e.prototype.getIndexData=function(t){return this.taskItemModelMgr.getIndexData(a.TaskItemModelEnum.buildID,t)},e.prototype.getTaskIndexData=function(t){return this.taskItemModelMgr.getIndexData(a.TaskItemModelEnum.level,t)},e.prototype.updateItem=function(t){t.getID()==s.ItemID.GOLD&&this.updateTaskState()},e.prototype.getTaskID=function(){return this.taskID.getInt()},e.prototype.isFinish=function(){var t=this.getTaskItemModelList(),e=t[t.length-1].getID();return this.getTaskID()>e},e.prototype.updateTaskID=function(){this.isFinish()||(this.taskID.updateValue(1),this.setBuildState())},e.prototype.setBuildState=function(){var t=this.getCurBuild();t&&t.getState()==n.ItemState.NOT_GET&&t.setState(n.ItemState.ON_GOING);var e=this.getCurTask();e&&e.getState()==n.ItemState.NOT_GET&&e.setState(n.ItemState.ON_GOING)},e.prototype.updateTaskState=function(){var t=this.taskItemModelMgr.size();if(this.getTaskID()<t){var e=this.getTaskItemModel(this.getTaskID());e&&c.default.instance().isEnough(s.ItemID.GOLD,e.getGold())&&(e.getState()!=n.ItemState.CAN_GET&&(e.setState(n.ItemState.CAN_GET),u.default.instance().updateTaskCount(s.DailyTaskID.TASK),p.default.helper.trackEvent(h.default.task,{taskID:e.getID()})),d.default.instance().addRedTip(s.RedTipType.HAS_TASK))}},e.prototype.checkPreTask=function(t){for(var e=t.getID()-1;e>=1;e--){var o=this.getTaskItemModel(e).getBuild();o&&o.isClear()&&(o.getState()!=n.ItemState.NOT_GET&&o.getState()!=n.ItemState.ON_GOING||o.setState(n.ItemState.CAN_GET))}},e.prototype.hasTask=function(){var t=this.getCurTask();return null!=t&&null!=t},e.prototype.getCurTask=function(){var t=this.getTaskID();return this.getTaskItemModel(t)},e.prototype.getCurBuild=function(){var t=this.getCurTask();return t?t.getBuild():null},e.prototype.getOpenCount=function(t){var e=0,o=this.taskItemModelMgr.getIndexData(a.TaskItemModelEnum.buildID,t);if(o&&o.length>0)for(var i=0;i<o.length;i++)o[i].getState()==n.ItemState.GOT&&e++;return e},e.prototype.getTotalCount=function(t){var e=this.taskItemModelMgr.getIndexData(a.TaskItemModelEnum.buildID,t);return e&&e.length>0?e.length:0},e.prototype.getTotalCoin=function(t){var e=0,o=this.taskItemModelMgr.getIndexData(a.TaskItemModelEnum.buildID,t);if(o&&o.length>0)for(var n=0;n<o.length;n++)e+=o[n].getGold();return e},e.prototype.addItems=function(t,e,o){if(void 0===e&&(e=1),c.default.instance().isEnough(s.ItemID.GOLD,t.getGold())){c.default.instance().updateItemNum(s.ItemID.GOLD,-t.getGold());var i=t.getOther();if(i&&i.length>0)for(var a=Math.floor(i.length/2),r=0;r<a;r++){var l=i[2*r],u=i[2*r+1];c.default.instance().updateItemNum(l,u)}t.setState(n.ItemState.GOT);var d=t.getExp();return c.default.instance().updateItemNum(s.ItemID.EXP,d,o),f.default.instance().checkLevel(g.default.instance().getItemModel(s.ItemID.EXP)),!0}return!1},e.prototype.getRightModel=function(){for(var t=this.getTaskItemModelList(),e=this.getTaskID(),o=0;o<t.length;o++){var i=t[o];if(!(i.getID()<e))return i.getID()==e?i:null;if(i.getState()==n.ItemState.CAN_GET)return i}return null},e}(n.BaseModel);o.default=v,cc._RF.pop()},{"../../../cfw/event":"event","../../../cfw/local":"local","../../../cfw/model":"model","../../../cfw/module":"module","../../../cfw/tools/Debug":"Debug","../../../config/Config":"Config","../../../config/TestConfig":"TestConfig","../../../config/UmengEventID":"UmengEventID","../../../extention/redtip/RedTipMgr":"RedTipMgr","../../../sdk/channel-ts/CMgr":"CMgr","../../dailytask/model/DailyTaskMgr":"DailyTaskMgr","../../item/model/ItemMgr":"ItemMgr","../../level/model/LevelMgr":"LevelMgr","../../public/bag/BagManager":"BagManager","./TaskItemModel":"TaskItemModel"}],TaskPropItemView:[function(t,e,o){"use strict";cc._RF.push(e,"4b6e0E2UZtEWa8sGTFiXxwd","TaskPropItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cocos/ccpool"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconSprite=null,e.numLabelLabel=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.content=function(){this.numLabelLabel.string=""+this.model.getNum(!1),this.setSpriteAtlas(this.iconSprite,this.model.getModuleID(),this.model.getIcon(),this.model.getSpriteFrame()),this.iconSprite.node.scale=this.model.getScale()},e.prototype.onDestroy=function(){},e.prototype.recover=function(){i.CCPoolManager.instance().put(this.node)},__decorate([s({type:cc.Sprite,displayName:"iconSprite"})],e.prototype,"iconSprite",void 0),__decorate([s({type:cc.Label,displayName:"numLabelLabel"})],e.prototype,"numLabelLabel",void 0),__decorate([r],e)}(n.BaseItemView);o.default=c,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/ccpool":"ccpool"}],TaskView:[function(t,e,o){"use strict";cc._RF.push(e,"121bfcTJd1N4Kx/3NoJSq0z","TaskView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/model"),a=t("./TaskPropItemView"),r=t("../../../cocos/ccpool"),s=t("../../../extention/guide/GuideMgr"),c=t("./TaskBuildProgress"),l=t("../model/TaskMgr"),u=t("../../boxpop/BoxPopC"),d=t("../../../engine/engine"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LayoutSprite=null,e.LayoutLayout=null,e.ProgressBarSprite=null,e.ProgressBarProgressBar=null,e.playSprite=null,e.playButton=null,e.percentLabel=null,e.backSprite=null,e.backButton=null,e.play_smallSprite=null,e.costNumLabel=null,e.Consoletableleg02=null,e.propItemPrefab=null,e.bottom=null,e.buildProPrefab=null,e.items=[],e.buildProgress=[],e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;switch(this.model.getState()){case i.ItemState.ON_GOING:case i.ItemState.NOT_GET:this.play_smallSprite.node.active=!1,this.Consoletableleg02.active=!0,this.ProgressBarProgressBar.progress=this.model.getProgress();var e=this.model.getHaveCount(),o=this.model.getGold();this.percentLabel.string=e+"/"+o;break;case i.ItemState.CAN_GET:this.play_smallSprite.node.active=!0,this.Consoletableleg02.active=!1,this.costNumLabel.string=this.model.getGold()}for(var n=this.model.getItemList(),s=0;s<n.length;s++){var u=n[s];(g=(f=r.CCPoolManager.instance().get("TaskPropItemView",function(){return cc.instantiate(t.propItemPrefab)})).getComponent(a.default))&&(g.setModel(u),g.content(),this.items.push(g)),this.LayoutLayout.node.addChild(f)}var p=this.model.getBuildID(),h=l.default.instance().getIndexData(p);for(s=0;s<h.length;s++){var f,g,y=h[s];(f=d.engine.instantiate(this.buildProPrefab))&&(g=f.getComponent(c.default))&&(this.buildProgress.push(g),g.setModel(y),g.updateState(),this.bottom.addChild(f))}},e.prototype.recover=function(){for(var t=0;t<this.items.length;t++)this.items[t].recover()},e.prototype.onDestroy=function(){},e.prototype.onplayButtonClick=function(){this.recover(),this.hide(),this.controller.playGame()},e.prototype.onbackButtonClick=function(){this.recover(),this.hide(),u.default.instance().intoLayer()},e.prototype.onGetTaskReward=function(){this.recover(),this.hide(),s.default.instance().notify("onRewaardBtnClick");var t=this.play_smallSprite.node.convertToWorldSpaceAR(this.play_smallSprite.node.getPosition());this.controller.getTaskReward(this.model,1,t)},__decorate([f({type:cc.Sprite,displayName:"LayoutSprite"})],e.prototype,"LayoutSprite",void 0),__decorate([f({type:cc.Layout,displayName:"LayoutLayout"})],e.prototype,"LayoutLayout",void 0),__decorate([f({type:cc.Sprite,displayName:"ProgressBarSprite"})],e.prototype,"ProgressBarSprite",void 0),__decorate([f({type:cc.ProgressBar,displayName:"ProgressBarProgressBar"})],e.prototype,"ProgressBarProgressBar",void 0),__decorate([f({type:cc.Sprite,displayName:"playSprite"})],e.prototype,"playSprite",void 0),__decorate([f({type:cc.Button,displayName:"playButton"})],e.prototype,"playButton",void 0),__decorate([f({type:cc.Label,displayName:"percentLabel"})],e.prototype,"percentLabel",void 0),__decorate([f({type:cc.Sprite,displayName:"backSprite"})],e.prototype,"backSprite",void 0),__decorate([f({type:cc.Button,displayName:"backButton"})],e.prototype,"backButton",void 0),__decorate([f({type:cc.Sprite,displayName:"play_smallSprite"})],e.prototype,"play_smallSprite",void 0),__decorate([f({type:cc.Label,displayName:"costNumLabel"})],e.prototype,"costNumLabel",void 0),__decorate([f({type:cc.Node,displayName:"Consoletableleg02"})],e.prototype,"Consoletableleg02",void 0),__decorate([f(cc.Prefab)],e.prototype,"propItemPrefab",void 0),__decorate([f(cc.Node)],e.prototype,"bottom",void 0),__decorate([f(cc.Prefab)],e.prototype,"buildProPrefab",void 0),__decorate([h],e)}(n.BaseView);o.default=g,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/view":"view","../../../cocos/ccpool":"ccpool","../../../engine/engine":"engine","../../../extention/guide/GuideMgr":"GuideMgr","../../boxpop/BoxPopC":"BoxPopC","../model/TaskMgr":"TaskMgr","./TaskBuildProgress":"TaskBuildProgress","./TaskPropItemView":"TaskPropItemView"}],TestConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c66b8Dglr5NrJPRo++rv8ow","TestConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.WEEKLY=!1,t.LUCK_SPIN=!1,t.BOX_POP=!1,t.CAT_TEST=!1,t.GIFT_BOX=!1,t.BUY_TEST=!1,t.TASK_TEST=!1,t.LEVEL_TEST=!1,t}();o.default=n,cc._RF.pop()},{}],TestEmail:[function(t,e,o){"use strict";cc._RF.push(e,"ea6c33WHlNE6LmkGe43qN0e","TestEmail"),Object.defineProperty(o,"__esModule",{value:!0}),o.TestEmail=void 0,o.TestEmail={0:{text:"\u7528\u6237\u9690\u79c1\u653f\u7b56\u6761\u6b3e\n",style:{align:"CENTER",bold:!0}},1:{text:["\u66f4\u65b026\n\u751f\u6548\u65e5\u671f\uff1a2022-01-26\n"],style:{bold:!0}},2:{text:["\t\t\t\t\u6e38\u620f\u540d\u79f0:\u300b","\t\t\t\t","\t\t\t\t\u5730\u5740\uff1aaddress","\t\t\t\t\u5c0f\u9014"]},3:{text:["\t\t\u300a","\t\t\u4e00\u3001\n","\t\t\u4e8c\u3001\u6211\u4eec\u4fe1\u606f\n","\t\t\u4e09\u3001\u6211\u606f\n","\t\t\u56db\u3001\u6211\u4fe1\u606f\n","\t\t\u4e94\u3001\u7684\u4fe1\u606f\n","\t\t\u516d\u3001\u6211\u4eec\u7684\u4fe1\u606f\n","\t\t\u4e03\u3001\u6211\u4eec\u606f\u7684\u4fdd\u62a4\n","\t\t\u516b\u3001\u901a\u77e5\n","\t\t\u4e5d\u3001\u6211\u4eec\n"]},4:{text:"\u4e00\u3001\u6211\u4eec\u4fe1\u606f",style:{bold:!0}},5:{text:["\t\t1\n","\t\t2.n","\t\t3.\u3002\n","\t\t4.\u3002\n","\t\t5.\n","\t\t6\u3002\n","\t\t7.n","\t\t8.\u3002\n","\t\t9.\n","\t\t10.\uff1a\n","\t\t\t\t\u2160.\uff1b\n","\t\t\t\t\u2161.\uff1b\n","\t\t\t\t\u2162.\n","\t\t\t\t\u2163\n","\t\t\t\t\u2164.\uff1b\n","\t\t\t\t\u2165.\uff1b\n","\t\t\t\t\u2166.\n","\t\t\t\t\u2167\uff1b\n","\t\t\t\t\u2168.n","\t\t\t\t\u2169.\n","11\n"]},6:{text:"\u4e8c\u3001\u6211\u4eec\u6309\u7167\u606f",style:{bold:!0}},7:{text:["\t","\t\t2\n","\u3002\n"]},8:{text:"\u4e09\u3001\u6211\u606f",style:{bold:!0}},9:{text:["\t\t1.\n","\t\t\u3002\n","\t\u3002\n","\t\t\u3002\n"]},10:{text:"\u56db\u3001\u6211\u4eec\u606f",style:{bold:!0}},11:{text:["\t\t1.\u60a8\u5206\u4eab\u7684\u4fe1\u606f\n","\t\t\t\t\u6211\u3002\n","\t\t2\u3002\n","\t\t\t\t\u2161.\u3002\n","\t\t\t\t\u2162.\u3002\n","\t\t\t\t\u2163.\u3002\n"]},12:{text:"\u4e94\u3001\u60a8\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u7ba1\u7406\u60a8\u7684\u4fe1\u606f",style:{bold:!0}},13:{text:"\t\t\u5728\n"},14:{text:"\u516d\u3001\u6211\u606f",style:{bold:!0}},15:{text:["\t\t\t\t\n","\t\t1.\u3002\n","\t\t2.\u3002\n","\t\t3.\u8bf7\u3002\n"]},16:{text:"\u4e03\u3001\u6211\u4eec\u7684\u4fdd\u62a4",style:{bold:!0}},17:{text:["\t\\n","\t\t\n","\t\t\u3002\n"]},18:{text:"\u516b\u3001\u4fee\u8ba2\u4e0e\u901a\u77e5",style:{bold:!0}},19:{text:"\t\t\u3002"},20:{text:"\u4e5d\u3001\u8054\u7cfb\u6211\u4eec",style:{bold:!0}},21:{text:"\t\t\u5982\u679c\u60a8\u4e0e\u6211\u4eec\u8054\u7cfb\u3002\u3002"}},cc._RF.pop()},{}],TipC:[function(t,e,o){"use strict";cc._RF.push(e,"53ecfpILh5KT7RI/hzwWwrx","TipC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./model/TipModel"),i=t("./model/ToastModel"),a=t("../../../cfw/mvc"),r=t("../../../config/ModuleConfig"),s=t("../../../config/UIConfig"),c=t("../../../cfw/tools/LangManager"),l=t("../../../cfw/tools/ViewManager"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.showTipByLang=function(t,e,o){void 0===o&&(o=!1),this.intoLayer(c.default.instance().getLocalString(t),e,o)},e.prototype.intoLayer=function(t,e,o){void 0===o&&(o=!1);var i=new n.default(t,e,o);l.default.pushUIView({path:"tip/prefab/TipView",uiIndex:s.UIIndex.STACK,moduleID:r.ModuleID.RES,model:i,controller:this})},e.prototype.showToastByLang=function(t,e){var o=c.default.instance().getLocalString(t,e);this.showToast(o)},e.prototype.showToast=function(t){l.default.pushUIToast({path:"tip/prefab/ToastView",uiIndex:s.UIIndex.TOAST,moduleID:r.ModuleID.RES,model:new i.default(t),controller:this})},e}(a.BaseController);o.default=u,cc._RF.pop()},{"../../../cfw/mvc":"mvc","../../../cfw/tools/LangManager":"LangManager","../../../cfw/tools/ViewManager":"ViewManager","../../../config/ModuleConfig":"ModuleConfig","../../../config/UIConfig":"UIConfig","./model/TipModel":"TipModel","./model/ToastModel":"ToastModel"}],TipModel:[function(t,e,o){"use strict";cc._RF.push(e,"55571375OFDpJCKT+yyNhIN","TipModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(e,o,n){var i=t.call(this,e)||this;return i.isShowAd=!1,i.isShowAd=n,i.callback=o,i}return __extends(e,t),e}(t("./ToastModel").default);o.default=n,cc._RF.pop()},{"./ToastModel":"ToastModel"}],TipView:[function(t,e,o){"use strict";cc._RF.push(e,"d89b2wGLpBNM41ccKizceIl","TipView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../cfw/view"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.back$VButton=null,e.conform$VButton=null,e.content$VLabel=null,e.adSprite=null,e.moneySprite=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.content$VLabel.string=this.model.text,this.model.rightStr&&this.conform$VButton&&(this.conform$VButton.string=this.model.rightStr),this.model.leftStr&&this.back$VButton&&(this.back$VButton.string=this.model.leftStr),this.adSprite.node.active=this.model.isShowAd,this.moneySprite.node.active=this.model.isShowAd},e.prototype.onback$VButtonClick=function(){this.hide(),this.model.callback(0)},e.prototype.onconform$VButtonClick=function(){this.hide(),this.model.callback(1)},__decorate([r(cc.Label)],e.prototype,"back$VButton",void 0),__decorate([r(cc.Label)],e.prototype,"conform$VButton",void 0),__decorate([r(cc.Label)],e.prototype,"content$VLabel",void 0),__decorate([r(cc.Sprite)],e.prototype,"adSprite",void 0),__decorate([r(cc.Sprite)],e.prototype,"moneySprite",void 0),__decorate([a],e)}(n.BaseView);o.default=s,cc._RF.pop()},{"../../../../cfw/view":"view"}],ToastModel:[function(t,e,o){"use strict";cc._RF.push(e,"881fcK78VhIhLNaLKKCCjKn","ToastModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(e){var o=t.call(this)||this;return o.text="hello",o.text=e,o}return __extends(e,t),e}(t("../../../../cfw/model").BaseItemModel);o.default=n,cc._RF.pop()},{"../../../../cfw/model":"model"}],ToastView:[function(t,e,o){"use strict";cc._RF.push(e,"a7119tnKhtILbtlbimvuaSi","ToastView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../cfw/view"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg$VSprite=null,e.content$V=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.content$V.string=this.model.text,cc.tween(this.bg$VSprite.node).to(1,{y:this.bg$VSprite.node.y+200}).call(this.moveFinish.bind(this)).start()},e.prototype.moveFinish=function(){this.hide()},__decorate([r(cc.Sprite)],e.prototype,"bg$VSprite",void 0),__decorate([r(cc.Label)],e.prototype,"content$V",void 0),__decorate([a],e)}(n.BaseView);o.default=s,cc._RF.pop()},{"../../../../cfw/view":"view"}],TrackEvent:[function(t,e,o){"use strict";cc._RF.push(e,"2b717QDWjdIyb64D6mZ5wGu","TrackEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../channel-ts/CMgr"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventName="",e}return __extends(e,t),e.prototype.start=function(){n.default.helper.trackEvent(this.eventName)},__decorate([r],e.prototype,"eventName",void 0),__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../channel-ts/CMgr":"CMgr"}],TweenMgr:[function(t,e,o){"use strict";cc._RF.push(e,"13578RjU4NPrZvt329LF1zA","TweenMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.moveRight=function(t,e,o,n){cc.tween(t).to(e,{x:o}).call(function(){n&&n()}).start()},t.showChuizi=function(t,e,o){void 0===e&&(e=1),void 0===o&&(o=.1),cc.Tween.stopAllByTarget(t),e>0?cc.tween(t).repeat(e,cc.tween(t).call(function(){t.angle=-60,t.opacity=255}).by(o,{angle:30}).call(function(){t.opacity=0}).delay(.1)).start():cc.tween(t).repeatForever(cc.tween(t).repeat(3,cc.tween(t).call(function(){t.angle=-60,t.opacity=255}).by(o,{angle:30}).call(function(){t.opacity=0}).delay(.1)).delay(3)).start()},t.showRewardItem=function(t,e,o){void 0===e&&(e=1);var n=e+1,i=n+.1;cc.tween(t).to(.5,{scale:n}).delay(.2).to(.2,{scale:i}).to(.5,{scale:e}).call(function(){o&&o()}).start()},t}();o.default=n,cc._RF.pop()},{}],UIConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c9743miUc5Au6QLLcbwLTE2","UIConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.UI_CONFIG=o.UIIndex=void 0;var n=t("../cfw/ui");(function(t){t[t.ROOT=0]="ROOT",t[t.STACK=1]="STACK",t[t.QUEUE=2]="QUEUE",t[t.TOAST=3]="TOAST",t[t.TOP=4]="TOP",t[t.AD_LAYER=5]="AD_LAYER"})(o.UIIndex||(o.UIIndex={})),o.UI_CONFIG=[{uiType:n.UIType.SINGLE,zIndex:0,canPop:!1},{uiType:n.UIType.STACK,zIndex:10,canPop:!0},{uiType:n.UIType.QUEUE,zIndex:100,canPop:!0},{uiType:n.UIType.STACK,zIndex:200,canPop:!1},{uiType:n.UIType.STACK,zIndex:300,canPop:!1},{uiType:n.UIType.STACK,zIndex:400,canPop:!0}],cc._RF.pop()},{"../cfw/ui":"ui"}],UILangComp:[function(t,e,o){"use strict";cc._RF.push(e,"84bd8T3OgpNoI8GIONkqJXq","UILangComp"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/tools/LangManager"),i=t("../../cfw/event"),a=t("./UIText"),r=cc._decorator,s=r.ccclass,c=r.property,l=r.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiID="",e}return __extends(e,t),e.prototype.start=function(){this.setText(),n.default.instance().on(i.GEvent.CHANGE_LANG,this.setText,this)},e.prototype.onDestroy=function(){n.default.instance().off(i.GEvent.CHANGE_LANG,this.setText,this)},e.prototype.setText=function(){var t=this.getComponent(cc.Label);t&&(t.string=a.default.instance().getText(this.uiID))},__decorate([c],e.prototype,"uiID",void 0),__decorate([s,l(cc.Label)],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../cfw/event":"event","../../cfw/tools/LangManager":"LangManager","./UIText":"UIText"}],UISoundComp:[function(t,e,o){"use strict";cc._RF.push(e,"dbc56g7FuBEZYZhKRzU3CLJ","UISoundComp"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../logic/sound/model/SoundMgr"),i=t("../../config/Config"),a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){n.default.instance().playSound(i.SoundID.sfx_windowOpen)},e.prototype.onDestroy=function(){n.default.instance().playSound(i.SoundID.sfx_windowClose)},__decorate([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../config/Config":"Config","../../logic/sound/model/SoundMgr":"SoundMgr"}],UIText:[function(t,e,o){"use strict";cc._RF.push(e,"d960fktLaBHvYDEXhWVVGXS","UIText"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/module"),i=t("../../cfw/tools/LangManager"),a=function(){function t(){this.uiData=n.ModuleManager.dataManager.get("UITextModel")}return t.instance=function(){return this.ins||(this.ins=new t),this.ins},t.prototype.getText=function(t,e){var o=this.uiData.getValue(t,0);return i.default.instance().getLocalString(o,e)},t}();o.default=a,cc._RF.pop()},{"../../cfw/module":"module","../../cfw/tools/LangManager":"LangManager"}],UmaEvent:[function(t,e,o){"use strict";cc._RF.push(e,"73237nCasxKzo4G72TmVLhz","UmaEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.trackEvent=function(t,e){window.wx&&window.wx.uma&&t&&window.wx.uma.trackEvent(t,e)},e}(t("../../tools/SDKEvent").default);o.default=n,cc._RF.pop()},{"../../tools/SDKEvent":"SDKEvent"}],UmengEventID:[function(t,e,o){"use strict";cc._RF.push(e,"d71db/xbfVJJLJnYKCn3A+5","UmengEventID"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.offline_reward="offline_reward",t.online_reward="online_reward",t.online_reach_time="online_reach_time",t.storage_level="storage_level",t.buy_energy_use_share="buy_energy_use_share",t.daily_task="daily_task",t.buy_token_at_out="buy_token_at_out",t.buy_energy_use_token="buy_energy_use_token",t.buy_energy="buy_energy",t.build_open="build_open",t.market_reawrd="market_reawrd",t.buy_item="buy_item",t.weekly_reward="weekly_reward",t.task="task",t.level="level",t.market_reawrd_by_share="market_reawrd_by_share",t.click_gift="click_gift",t.click_gift_2="click_gift_2",t.boxpop_ad_count="boxpop_ad_count",t.boxpop_count="boxpop_count",t.luckyspin_ad_count="luckyspin_ad_count",t.luckyspin_count="luckyspin_count",t.specialtask_level="specialtask_level",t.enter_lobby="enter_lobby",t.enter_game="enter_game",t.first_game="first_game",t}();o.default=n,cc._RF.pop()},{}],User:[function(t,e,o){"use strict";cc._RF.push(e,"413a88vaI5CR4Ex806n03/r","User"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/model"),i=t("../../cfw/local"),a=t("../../cfw/time"),r=function(t){function e(){var e=t.call(this)||this;e.time=0,e.loginCount=new i.LocalValue("loginCount",0),e.loginTime=new i.LocalValue("loginTime",0),0==e.loginTime.getInt()&&e.loginTime.setValue(Date.now());var o=a.TimeHelper.getLoginDayNum(e.loginTime.getInt(),5);return e.loginDayNum=o,e.time=Date.now(),e}return __extends(e,t),e.prototype.getLeftTime=function(){var t=Date.now()-this.time;return Math.floor(t/1e3)},e.prototype.getLoginDayNum=function(){return this.loginDayNum},e.prototype.login=function(){this.loginCount.updateValue(1)},e.prototype.getLoginCount=function(){return this.loginCount.getInt()},e.prototype.getLoginTime=function(){return this.loginTime.getInt()},e.prototype.isFirstLogin=function(){return 1==this.loginCount.getInt()},e}(n.BaseModel);o.default=r,cc._RF.pop()},{"../../cfw/local":"local","../../cfw/model":"model","../../cfw/time":"time"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"0825e9ynoJFYbhMZVQi1oW1","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=[1e21,1e18,1e15,1e12,1e9,1e6,1e3,1],i=["b","e","p","t","g","m","k",""],a=function(){function t(){}return t.getVy=function(t,e){var o=0,n=0;if(t>0)for(;o<e;)o+=n+=t;return n},t.replace=function(t,e,o){return t.replace("%{"+e+"}",o)},t.replaceOpt=function(t,e){if(t&&(t.indexOf("\\")>=0&&(t=t.replace(/\\n/g,"\n")),e))for(var o in e){var n=e[o];t=t.replace("%{"+o+"}",n)}return t},t.laststring=function(t,e){if(t.indexOf(e)>=0){var o=t.split(e);return o[o.length-1]}return t},t.getShortStr=function(t,e){void 0===e&&(e=100);for(var o=n.length-1,a=0,r=0;r<n.length;r++){var s=n[r];if(t>=s){o=r,a=Math.floor(t*e/s);break}}return a/e+i[o]},t.getRandomValueByList=function(t){for(var e=0,o=t.length/2,n=0;n<o;n++){var i=t[2*n];if(e+=t[2*n+1],this.random(0,100)<=e)return i}return 0},t.random=function(t,e){return e?Math.floor(Math.random()*(e-t)+t):Math.floor(Math.random()*t)},t.randomFloat=function(t,e){return Math.random()*(e-t)+t},t.distance=function(t,e,o,n){var i=t-o,a=e-n;return Math.sqrt(i*i+a*a)},t.getAngleByRadian=function(t){return 57.3*t},t.getRadinByAngle=function(t){return t/57.3},t.getRadianByXY=function(t,e,o,n){var i=Math.abs(o-t),a=Math.abs(n-e),r=Math.sqrt(i*i+a*a);return Math.asin(i/r)},t.getRadianByXY2=function(t,e,o,n){var i=Math.abs(o-t),a=Math.abs(n-e),r=Math.sqrt(i*i+a*a);return Math.acos(i/r)},t.getAngleByXY=function(t,e,o,n){return this.getRadianByXY(t,e,o,n)*Math.PI},t.isRectCollideRect2=function(t,e,o,n){return!(o+n<t||o>t+e)},t.isRecctCollideRect3=function(t,e,o,n,i,a,r,s){return!(a<t||s<o||i>e||r>n)},t.isRecctCollideRect=function(t,e,o,n,i,a,r,s){return!(a<t||s>o||i>e||r<n)},t.isRectCollideAnchor=function(t,e,o,n,i,a,r,s,c,l,u,d){var p=t-o*i,h=p+o,f=e-n*a,g=f+n,y=r-c*u,m=y+c,v=s-l*d,_=v+l;return this.isRecctCollideRect(p,h,g,f,y,m,_,v)},t.isRectCollideAnchorScale=function(t,e,o,n,i,a,r,s,c,l,u,d,p,h){var f=t-o*r*i,g=f+o*r,y=e-n*r*a,m=y+n*r,v=s-l*h*d,_=v+l*h,S=c-u*h*p,I=S+u*h;return this.isRecctCollideRect(f,g,m,y,v,_,I,S)},t.isRectCollide=function(t,e){return!(e.right<t.left||e.bottom>t.top||e.left>t.right||e.top<t.bottom)},t.isXYInRect=function(t,e,o){return t<=o.right&&t>=o.left&&e<=o.top&&e>=o.bottom},t.isPosInRect=function(t,e,o,n,i,a,r,s){var c=o-i*r,l=n-a*s;return t<=c+i&&t>=c&&e<=l+a&&e>=l},t.isOutScreen=function(t,e,o,n,i,a){var r=o/2,s=n/2;return t<-r||t>i+r||e>a+s||e<-s},t.isOutScreenExceptTop=function(t,e,o,n,i){var a=o/2;return t<-a||t>i+a||e<-n/2},t.isNull=function(t){return null==t||null==t},t.sendHttpRequest=function(t,e,o,n){void 0===n&&(n="GET"),console.log("sendHttpRequest  address ",t);var i=new XMLHttpRequest;if(i.timeout=15e3,i.ontimeout=function(){o("ontimeout ",null)},i.onload=function(){if(i.status>=200&&i.status<400){var t=i.responseText;o(null,t)}else o("onload error ",null)},"GET"==n){t=t+"?"+e,i.open(n,t);try{i.send()}catch(a){o("get error "+a,null)}}else{i.open(n,t);try{i.send(e)}catch(a){o("POST error "+a,null)}}},t.uint8ArrayToString=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(t[o]);return e},t.stringToUint8Array=function(t){for(var e=[],o=0,n=t.length;o<n;++o)e.push(t.charCodeAt(o));return new Uint8Array(e)},t.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var o=Math.max(t.length,e.length);t.length<o;)t.push("0");for(;e.length<o;)e.push("0");for(var n=0;n<o;n++){var i=parseInt(t[n]),a=parseInt(e[n]);if(i>a)return 2;if(i<a)return 0}return 1},t.convertToSDKStyle=function(t,e,o,n,i,a,r){var s=r.height/a,c=o/s,l=n/s;return{left:t/s-c/2,top:a-e/s-l/2,width:c,height:l}},t.loadXML=function(t){var e=this;return new Promise(function(o,n){cc.resources.load(t,function(t,i){if(t)return cc.error("Failed to load XML file: "+t.message),void n(t);var a=i.text,r=e.parseXML(a),s=e.xmlToJson(r);o(s.vo)})})},t.parseXML=function(t){return(new DOMParser).parseFromString(t,"text/xml")},t.xmlToJson=function(t){return function t(e){if(e.nodeType===Node.ELEMENT_NODE){var o=e,n={};if(o.attributes&&o.attributes.length>0)for(var i=0;i<o.attributes.length;i++){var a=o.attributes.item(i);n["@"+a.name]=a.value}if(o.childNodes.length>0)if(1===o.childNodes.length&&o.childNodes[0].nodeType===Node.TEXT_NODE)n["#text"]=o.textContent;else for(i=0;i<o.childNodes.length;i++){var r=o.childNodes[i],s=r.nodeName;n[s]?(Array.isArray(n[s])||(n[s]=[n[s]]),n[s].push(t(r))):n[s]=t(r)}return n}return e.nodeType===Node.TEXT_NODE?e.textContent:null}(t.documentElement)},t}();o.default=a,cc._RF.pop()},{}],VIvoInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"3ed74d8QY5GS5HnxUOzgnuk","VIvoInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(){this.destroy(),this.create(),this.show()},e.prototype.create=function(){console.log(" create insert ad "),this.insertAd||(this.insertAd=this.sdk.createInterstitialAd({posId:this.adUnitID}),this.insertAd.onLoad(this.onLoad.bind(this)),this.insertAd.onError(this.onError.bind(this)))},e}(t("../base/BaseInsertAd").default);o.default=n,cc._RF.pop()},{"../base/BaseInsertAd":"BaseInsertAd"}],VersionLabel:[function(t,e,o){"use strict";cc._RF.push(e,"ac85au2l7ZJ54LKFyQUMtgm","VersionLabel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../channel-ts/CMgr"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.start=function(){this.label.string="V_"+n.default.helper.getVersion()},__decorate([r(cc.Label)],e.prototype,"label",void 0),__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../channel-ts/CMgr":"CMgr"}],ViGooChannel:[function(t,e,o){"use strict";cc._RF.push(e,"7868fmAg91AIJvsWOBJtCmM","ViGooChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("./ViGooRewardAd"),a=t("./ViGooInsertAd"),r=t("../SDKConfig"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this.cfg,e=t[r.ADName.reward];if(e)for(var o=0;o<e.length;o++){var n=e[o];this.rewardAd.push(new i.default(this,n))}if(e=t[r.ADName.insert])for(o=0;o<e.length;o++)n=e[o],this.insertAd.push(new a.default(this,n))},e}(n.default);o.default=s,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","./ViGooInsertAd":"ViGooInsertAd","./ViGooRewardAd":"ViGooRewardAd"}],ViGooInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"6a428TBnJlDco7witaEAd31","ViGooInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(){this.show()},e.prototype.create=function(){},e.prototype.show=function(){console.log(" ViGooInsertAd show ",this.adUnitID),this.sdk.ShowScreenVideo(this.adUnitID,function(t){console.log(" ViGooInsertAd show  ret.type  ",t.type),t.type})},e}(t("../base/BaseInsertAd").default);o.default=n,cc._RF.pop()},{"../base/BaseInsertAd":"BaseInsertAd"}],ViGooRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"5dd44VVe+hPnoweg7xPuH3B","ViGooRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(t){this.callback=t,this.show()},e.prototype.create=function(){},e.prototype.show=function(){var t=this;console.log(" ViGoo show "),this.sdk.ShowExcitationVideoAdv(function(e){switch(console.log(" ViGoo show ret ",e),console.log(" ViGoo show ret.type ",e.type),e.type){case"1":console.log("\u5e7f\u544a\u5f02\u5e38"),t.callback&&(t.callback(n.ResultState.NO),t.callback=null);break;case"2":console.log("\u64ad\u653e\u8df3\u8fc7"),t.callback&&(t.callback(n.ResultState.NO),t.callback=null);break;case"3":console.log("\u64ad\u653e\u7ed3\u675f"),t.callback&&(t.callback(n.ResultState.YES),t.callback=null);break;default:t.callback&&(t.callback(n.ResultState.NO),t.callback=null)}})},e}(t("../base/BaseRewardAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],ViewManager:[function(t,e,o){"use strict";cc._RF.push(e,"5eee0jUR+lAM479/2pPHQQL","ViewManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../struct"),i=t("../module"),a=t("../res"),r=t("../ui"),s=t("../../engine/engine"),c=function(){function t(){}return t.pushPrefabView=function(t){var e=this.getPrefab(t.prefab,t.uiIndex,t.className);t.model&&e.setModel(t.model),t.controller&&e.setController(t.controller),e.show()},t.getPrefab=function(t,e,o){if(t){var n=s.engine.instantiate(t);if(!n)return null;o||(o=n.name);var i=s.engine.getComponent(n,o);return i?(i.setUIIndex(e),i):(console.warn(" comp is null ",o),null)}return null},t.pushToast=function(t,e,o,n,i){var a=this;null==o&&(o=3),i||(i=this.getClassName(t)),this.loadPrefab(t,e,function(e,r){if(e)return console.log(" pushView err "+e+"  name "+r),void(n&&n(null));var s=a.getPrefab(r,o,i);s?(s.setPath(t),n&&n(s)):(console.warn(" comp is null ",i),n&&n(null))})},t.pushUIToast=function(t){this.pushToast(t.path,i.ModuleManager.getModule(t.moduleID),t.uiIndex,function(e){e&&(t.func&&t.func(e),t.model&&e.setModel(t.model),t.controller&&e.setController(t.controller),t.parent?e.addToParent(t.parent):e.show())},t.className)},t.pushView=function(t,e,o,n,i,a){var s=this;void 0===a&&(a=500),null==o&&(o=1),r.default.instance().hasViewByPath(t,o)||(this.viewMap.has(t)?console.warn(" pushVIew  ",this.viewMap.has(t)):(this.viewMap.set(t,1),setTimeout(function(){s.viewMap.delete(t)},a),this.pushToast(t,e,o,function(t){console.log("\u6253\u5f00\u754c\u9762",t.node.name),n&&n(t)},i)))},t.pushUIView=function(t){this.pushView(t.path,i.ModuleManager.getModule(t.moduleID),t.uiIndex,function(e){e&&(t.func&&t.func(e),t.model&&e.setModel(t.model),t.controller&&e.setController(t.controller),t.parent?e.addToParent(t.parent):e.show(),t.after&&t.after(e))},t.className,t.delayTime)},t.loadPrefab=function(t,e,o){var n=t;if(t.indexOf("/")>=0){var i=t.split("/");t=i[i.length-1]}e?e.loadRes(n,a.ResType.Prefab,function(t,e){t?o(" UIManager getComponent err "+t):o(null,e.getRes())}):o("loader is null "+t,null)},t.loadPrefab2=function(t,e,o){this.loadPrefab(t,i.ModuleManager.getModule(e),o)},t.getClassName=function(t){var e="";if(t.indexOf("/")>=0){var o=t.split("/");e=o[o.length-1]}else e=t;return e},t.viewMap=new n.TSMap,t}();o.default=c,cc._RF.pop()},{"../../engine/engine":"engine","../module":"module","../res":"res","../struct":"struct","../ui":"ui"}],VivoBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"6561cEoqxlLEYBEWhaLYbdT","VivoBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getStyle=function(){return{}},e.prototype.load=function(){},e.prototype.updateSize=function(){},e.prototype.create=function(){this.bannerAd||(this.bannerAd=this.sdk.createBannerAd({posId:this.adUnitID,style:this.getStyle(),adIntervals:30}),this.bannerAd.onLoad(this.onLoad.bind(this)),this.bannerAd.onError(this.onError.bind(this)),this.bannerAd.onSize(this.onResize.bind(this)))},e}(t("../base/BaseBannerAd").default);o.default=n,cc._RF.pop()},{"../base/BaseBannerAd":"BaseBannerAd"}],VivoBoxBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"cfe28gEK2FHEKx4pvwb2ieK","VivoBoxBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseAd"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxBannerAd=null,e}return __extends(e,t),e.prototype.open=function(t){this.callback=t,this.destroy(),this.create(),this.show()},e.prototype.create=function(){this.sdk.createBoxBannerAd?(this.boxBannerAd=this.sdk.createBoxBannerAd({posId:this.adUnitID,marginBottom:100}),this.boxBannerAd.onError(this.getFunc(i.FunctionType.onError)),this.boxBannerAd.onClose(this.getFunc(i.FunctionType.onClose))):console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},e.prototype.onClose=function(){this.callback&&this.callback(i.SDKState.close)},e.prototype.show=function(){var t=this;this.boxBannerAd&&this.boxBannerAd.show().then(function(){console.log("show success"),t.callback&&t.callback(i.SDKState.loadSucess)})},e.prototype.onError=function(t){console.log("\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t),this.channel.showToast("\u76d2\u5b50\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff01"),this.callback&&this.callback(i.SDKState.loadFail)},e.prototype.hide=function(){this.destroy()},e.prototype.destroy=function(){null!=this.boxBannerAd&&(this.boxBannerAd.destroy(),this.boxBannerAd=null)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],VivoBoxPortalAd:[function(t,e,o){"use strict";cc._RF.push(e,"b3329yL+H9IV5iq44VOT/Tb","VivoBoxPortalAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseAd"),i=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.image="",e.marginTop=200,e}return __extends(e,t),e.prototype.setImageUrl=function(t){this.image=t},e.prototype.setMarginTop=function(t){this.marginTop=t},e.prototype.open=function(t){this.callback=t,this.logicState=i.SDKState.open,this.destroy(),this.create()},e.prototype.create=function(){this.sdk.createBoxPortalAd?(this.boxPortalAd=this.sdk.createBoxPortalAd({posId:this.adUnitID,image:this.image,marginTop:this.marginTop}),this.boxPortalAd.onError(this.getFunc(i.FunctionType.onError)),this.boxPortalAd.onShow(this.getFunc(i.FunctionType.onShow)),this.boxPortalAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.boxPortalAd.onClose(this.getFunc(i.FunctionType.onClose))):console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},e.prototype.onLoad=function(){console.log("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",this.logicState==i.SDKState.open),this.setState(i.SDKState.loadSucess),this.logicState==i.SDKState.open&&this.show()},e.prototype.onError=function(t){console.log("\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t),this.setState(i.SDKState.loadFail)},e.prototype.onShow=function(){},e.prototype.onClose=function(){console.log("close this.boxPortalAd.isDestroyed ",this.boxPortalAd.isDestroyed),this.boxPortalAd.isDestroyed||this.setState(i.SDKState.close)},e.prototype.show=function(){this.boxPortalAd&&this.boxPortalAd.show().then(function(){console.log("show success")}).catch(function(t){console.log("show fail with:"+t.errCode+","+t.errMsg)})},e.prototype.hide=function(){this.logicState=i.SDKState.close,this.boxPortalAd&&this.boxPortalAd.hide().then(function(){console.log("hide success")}).catch(function(t){console.log("hide fail with:"+t.errCode+","+t.errMsg)})},e.prototype.close=function(){null!=this.boxPortalAd&&(this.boxPortalAd.isDestroyed=!0,this.boxPortalAd.destroy())},e.prototype.destroy=function(){this.boxPortalAd&&(this.boxPortalAd.offError(this.getFunc(i.FunctionType.onError)),this.boxPortalAd.offShow(this.getFunc(i.FunctionType.onShow)),this.boxPortalAd.offLoad(this.getFunc(i.FunctionType.onLoad)),this.boxPortalAd.offClose(this.getFunc(i.FunctionType.onClose)),this.boxPortalAd.destroy().then(function(){console.log("destroy success")}).catch(function(t){console.log("destroy fail with:"+t.errCode+","+t.errMsg)}))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],VivoChannel:[function(t,e,o){"use strict";cc._RF.push(e,"884ecu6CWJLm6B84m0M3kCx","VivoChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("../SDKConfig"),a=t("./VivoRewardAd"),r=t("./VivoBannerAd"),s=t("./VIvoInsertAd"),c=t("./VivoNativeAd"),l=t("./VivoFileSystem"),u=t("./VivoScreenshot"),d=t("../base/BaseSubPackage"),p=t("./VivoBoxBannerAd"),h=t("./VivoCustomAd"),f=t("./VivoBoxPortalAd"),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.hasAd=function(t){var e=this.cfg,o=this.sdk.getSystemInfoSync().platformVersionCode;console.log("VivoChannel hasAd version ",o,t);var n=e[t];if(!n)return-1;var a=n[i.ADName.version];return a?o>=a:0},e.prototype.init=function(){var t=this.cfg;if(this.sdk.onShow(function(){console.log("VivoChannel  onShow ")}),this.sdk.onHide(function(){console.log("VivoChannel  onHide ")}),this.hasAd(i.ADName.reward)&&(n=t[i.ADName.reward][i.ADName.adUnitIdList]))for(var e=0;e<n.length;e++){var o=n[e];this.rewardAd.push(new a.default(this,o))}if(this.hasAd(i.ADName.banner)&&(n=t[i.ADName.banner][i.ADName.adUnitIdList]))for(e=0;e<n.length;e++)o=n[e],this.bannerAd.push(new r.default(this,o));if(this.hasAd(i.ADName.insert)&&(n=t[i.ADName.insert][i.ADName.adUnitIdList]))for(e=0;e<n.length;e++)o=n[e],this.insertAd.push(new s.default(this,o));if(this.hasAd(i.ADName.native)){var n=t[i.ADName.native][i.ADName.adUnitIdList];this.nativeAd=new c.default(this,n)}if(this.hasAd(i.ADName.BoxBanner)&&(n=t[i.ADName.BoxBanner][i.ADName.adUnitIdList]))for(e=0;e<n.length;e++)o=n[e],this.appBoxAd.push(new p.default(this,o));if(this.hasAd(i.ADName.BoxPortal)&&(n=t[i.ADName.BoxPortal][i.ADName.adUnitIdList]))for(e=0;e<n.length;e++)o=n[e],this.boxPortalAd.push(new f.default(this,o));if(this.hasAd(i.ADName.customAd)&&(n=t[i.ADName.customAd][i.ADName.adUnitIdList]))for(e=0;e<n.length;e++)o=n[e],this.customAd.push(new h.default(this,o));this.fileSystem=new l.default(this),this.screenshot=new u.default(this),this.subPackage=new d.default(this)},e.prototype.showToast=function(t){this.sdk.showToast({message:t})},e.prototype.vibrateShort=function(){this.sdk.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},e.prototype.canInstallShortcut=function(t){this.sdk.hasShortcutInstalled({success:function(e){console.log("canInstallShortcut res ",e),t(0==e?i.ResultState.YES:i.ResultState.NO)},fail:function(e){console.log("canInstallShortcut err ",e),t(i.ResultState.NO)},complete:function(){console.log("canInstallShortcut complete ")}})},e.prototype.previewImage=function(t){this.sdk.previewImage({uris:[t],success:function(){console.log("Preview image success.")}})},e.prototype.installShortcut=function(t){this.sdk.installShortcut({success:function(){console.log(" \u5b89\u88c5\u6210\u529f "),t(i.ResultState.YES)},fail:function(e){console.log(" \u5b89\u88c5\u5931\u8d25 ",e),t(i.ResultState.NO)},complete:function(){}})},e.prototype.navigateToMiniProgram=function(t){this.sdk.navigateToMiniGame({pkgName:t,success:function(){},fail:function(){}})},e.prototype.exitApplication=function(){this.sdk.exitApplication()},e.prototype.showCustomAd=function(t){this.customAd[t]&&this.customAd[t].open()},e.prototype.showShare=function(t,e){this.hasShare()?this.sdk.share({success:function(t){console.log("showShare success data ",t),e(i.ResultState.YES)},fail:function(t){console.log("showShare fail ",t),e(i.ResultState.NO)},cancel:function(){console.log("showShare cancel res "),e(i.ResultState.NO)}}):e(i.ResultState.NO)},e.prototype.hasShare=function(){return!1},e}(n.default);o.default=g,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","../base/BaseSubPackage":"BaseSubPackage","./VIvoInsertAd":"VIvoInsertAd","./VivoBannerAd":"VivoBannerAd","./VivoBoxBannerAd":"VivoBoxBannerAd","./VivoBoxPortalAd":"VivoBoxPortalAd","./VivoCustomAd":"VivoCustomAd","./VivoFileSystem":"VivoFileSystem","./VivoNativeAd":"VivoNativeAd","./VivoRewardAd":"VivoRewardAd","./VivoScreenshot":"VivoScreenshot"}],VivoCustomAd:[function(t,e,o){"use strict";cc._RF.push(e,"6b00dvnWuZL47zxm2S9Hrwx","VivoCustomAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.create=function(){this.customAd=this.sdk.createCustomAd({posId:this.adUnitID,style:this.getStyle()}),this.customAd.onError(this.getFunc(n.FunctionType.onError)),this.customAd.onClose(this.getFunc(n.FunctionType.onClose)),this.customAd.onLoad(this.getFunc(n.FunctionType.onLoad)),this.customAd.onHide(this.getFunc(n.FunctionType.onHide))},e.prototype.getSize=function(){var t=this.channel.getVisibleSize(),e=t.height/t.width?{height:1280,width:720}:{width:1280,height:720};return 720*(t.height/t.width>e.height/e.width?t.width/e.width:t.height/e.height)},e.prototype.getStyle=function(){var t=720/525,e=this.sdk.getSystemInfoSync();this.width=this.getSize(),this.height=this.width/t,console.log(" r ",t," sys.screenWidth  ",e.screenWidth," width ",this.width," height ",this.height);var o=this.channel.getVisibleSize();switch(this._dir){case n.SDKDir.MID:return{left:(o.width-this.width)/2*this.channel.getClientScaleX(),top:(o.height-this.height)/2*this.channel.getClientScaleY()};case n.SDKDir.BOTTOM_MID:default:return{}}},e.prototype.open=function(t){this.callback=t,this.destroy(),this.create(),this.show()},e.prototype.show=function(){var t=this;this.customAd&&this.customAd.show().then(function(){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210"),t.callback&&(t.callback(n.ResultState.YES),t.callback=null)}).catch(function(e){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(e)),t.callback&&(t.callback(n.ResultState.NO),t.callback=null)})},e.prototype.onError=function(t){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t),this.callback&&(this.callback(n.ResultState.NO),this.callback=null)},e.prototype.destroy=function(){this.customAd&&(this.customAd.offError(this.getFunc(n.FunctionType.onError)),this.customAd.offClose(this.getFunc(n.FunctionType.onClose)),this.customAd.offLoad(this.getFunc(n.FunctionType.onLoad)),this.customAd.offHide(this.getFunc(n.FunctionType.onHide)),this.customAd.destroy())},e.prototype.close=function(){this.customAd&&this.customAd.hide()},e}(t("../base/BaseCustomAd").default);o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseCustomAd":"BaseCustomAd"}],VivoFileSystem:[function(t,e,o){"use strict";cc._RF.push(e,"71d24lRUWxCJZh7SOtpIqEV","VivoFileSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/SDKFileSystemManager"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){this.sysPath="internal://files/work/"},e.prototype.writeFile=function(t,e,o,n){var a=this;o==i.FileEncoding.BINARY&&(e=e.buffer);var r=this.has(this.sysPath);if(console.log("handling result\uff1a "+r),r){var s=this.sysPath+t;console.log(" writeFile filePath ",s),this.sdk.writeFile({uri:s,text:e,encoding:o,success:function(){console.log(" writeFile ok"),n(i.ResultState.YES)},fail:function(t){console.log(" writeFile fail",t),n(i.ResultState.NO)},complete:function(){console.log(" writeFile complete")}})}else this.mkdir(this.sysPath,function(r){if(r==i.ResultState.YES){var s=a.sysPath+t;console.log(" writeFile filePath ",s),a.sdk.writeFile({uri:s,text:e,encoding:o,success:function(){console.log(" writeFile ok"),n(i.ResultState.YES)},fail:function(t){console.log(" writeFile fail",t),n(i.ResultState.NO)},complete:function(){console.log(" writeFile complete")}})}})},e.prototype.has=function(t){return this.sdk.accessFile({uri:t})},e.prototype.mkdir=function(t,e){this.sdk.mkdir({uri:t,success:function(t){console.log("handling success: "+t),e(i.ResultState.YES)},fail:function(t,o){console.log("handling fail, code = "+o),e(i.ResultState.NO)}})},e.prototype.readFile=function(t,e,o){var n=this.sysPath+t;console.log(" readFile filePath ",n),this.sdk.readFile({uri:n,encoding:e,success:function(t){if(e==i.FileEncoding.BINARY){var n=new Uint8Array(t.text);o(i.ResultState.YES,n)}else o(i.ResultState.YES,t.text)},fail:function(t){console.log(" readFile fail",t),o(i.ResultState.NO,null)},complete:function(){console.log(" writeFile complete")}})},e.prototype.writeFileSync=function(t,e,o,n){var a=this.sysPath+t;o==i.FileEncoding.BINARY&&(e=e.buffer);var r=this.sdk.writeFileSync({uri:a,text:e,encoding:o,position:n});return"success"===r||(console.log("handling fail, result = "+r),!1)},e.prototype.readFileSync=function(t,e){var o=this.sysPath+t,n=this.sdk.readFileSync({uri:o,encoding:e});return"string"==typeof n?(console.log("handling fail, error message = "+n),null):(console.log("handling success, text: "+n.text),n.text)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/SDKFileSystemManager":"SDKFileSystemManager"}],VivoHelper:[function(t,e,o){"use strict";cc._RF.push(e,"7f44bR58EpKVpQJwMdwYD2u","VivoHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BaseHelper"),i=t("./ChannelEvent"),a=t("./ChannelUtils"),r=t("../sdk/tools/SDKEvent"),s=t("../../logic/sound/model/SoundMgr"),c=t("../sdk/SDKManager"),l=t("../sdk/SDKConfig"),u=t("../../cfw/tools/Utils"),d=t("../comp/InsertAdMgr"),p=t("../lib/lc_sdk"),h=function(t){function e(){var e=t.call(this)||this;return e.zsConfig={zs_version:"0.0",zs_switch:0,zs_banner_city:0,zs_banner_system:"",zs_box_show_delay:0,zs_native_click_switch:0,zs_native_slide_switch:0,zs_banner_native_switch:0,zs_native_close_num:0,zs_start_native_switch:0,zs_banner_native_time:0,zs_native_change_switch:0,zs_video_box:0,zs_box_switch:0,zs_native_show_delay:0,zs_native_touch_switch:0,zs_native_next_limit:0,zs_native_limit:0,zs_native_gap_time:0},e.nativeRandom=0,e.sdk=new p.default,e.setVersion("15.0"),e.sdk.initSdkByConf({channel:"vivo",appId:"105497513",secret:"01522670216d9d0c6efac98489cdcd34"}),e.login(),e.loadConfig(),r.default.instance().on(r.default.REWARD_AD_CLOSE,e.rewardClose,e),r.default.instance().on(r.default.REWARD_AD_OPEN,e.rewardOpen,e),e}return __extends(e,t),e.prototype.rewardOpen=function(){console.log("rewardOpen "),s.default.instance().rewardOpen()},e.prototype.rewardClose=function(){s.default.instance().rewardClose()},e.prototype.getzs_start_native_switch=function(){return this.zsConfig.zs_start_native_switch?this.zsConfig.zs_start_native_switch:0},e.prototype.getzs_native_show_delay=function(){return this.zsConfig.zs_native_show_delay?this.zsConfig.zs_native_show_delay:0},e.prototype.getNativeBannerRefreshTime=function(){return this.zsConfig.zs_banner_native_time?this.zsConfig.zs_banner_native_time:30},e.prototype.getBannerWitch=function(){return this.zsConfig.zs_banner_native_switch?this.zsConfig.zs_banner_native_switch:0},e.prototype.getNativeCloseNum=function(){return this.isVersion()&&this.zsConfig.zs_native_close_num?this.zsConfig.zs_native_close_num:0},e.prototype.hasNativeNextLimit=function(){return!!this.isVersion()&&!!this.zsConfig.zs_native_next_limit&&1==this.zsConfig.zs_native_next_limit},e.prototype.getNativeSlide=function(){return!!this.isVersion()&&!!this.zsConfig.zs_native_slide_switch&&1==this.zsConfig.zs_native_slide_switch},e.prototype.hasNativeTouchSwitch=function(){return!!this.isVersion()&&!!this.zsConfig.zs_native_touch_switch&&1==this.zsConfig.zs_native_touch_switch},e.prototype.getzs_native_gap_time=function(){return this.zsConfig.zs_native_gap_time?this.zsConfig.zs_native_gap_time:0},e.prototype.hasNativeAd=function(){return!0},e.prototype.hasNativeLimit=function(){return!!this.isVersion()&&!!this.zsConfig.zs_native_limit&&1==this.zsConfig.zs_native_limit},e.prototype.loadConfig=function(){var t=this;this.sdk.loadCfg(function(e){t.zsConfig="string"==typeof e?JSON.parse(e):e,console.log("result type ",typeof e),console.log(" result === ",e),i.default.instance().emit(i.default.LOAD_CONFIG)},function(e){console.log(" err === ",e),setTimeout(function(){t.loadConfig()},3e3)})},e.prototype.isJumpSwitchOpen=function(){return!0},e.prototype.login=function(t){var e=this;void 0===t&&(t=!0),this.sdk.login(function(t){console.log(" msg ",t)},function(o){console.log("login error ",o),setTimeout(function(){e.login(t)},3e3)})},e.prototype.isOpenNativeErrorClick=function(){return this.isVersion()&&1==this.zsConfig.zs_native_click_switch},e.prototype.isVersion=function(){return 1==a.default.compareVersion(this.verson,this.zsConfig.zs_version)},e.prototype.isErrorClickOpen=function(){return this.isSwtichOpen()&&this.isSystemOpen()&&1==this.zsConfig.zs_banner_city},e.prototype.isSwtichOpen=function(){return 1==this.zsConfig.zs_switch&&this.isVersion()},e.prototype.isSystemOpen=function(){return""==this.zsConfig.zs_banner_system||this.getOS()!=this.zsConfig.zs_banner_system},e.prototype.getBannerRefreshTime=function(){return 30},e.prototype.hasLoginBanner=function(){return!0},e.prototype.getProcessTime=function(){return 0},e.prototype.firstExport=function(){return!1},e.prototype.hasEgg=function(){return!1},e.prototype.hasDiamonView=function(){return!1},e.prototype.marketHasType=function(t){return 4!=t||c.default.getChannel().hasShare()},e.prototype.showInsertAd=function(t){console.log("showInsertAd this.hasNativeLimit() ",this.hasNativeLimit()),this.hasNativeLimit()&&c.default.getChannel().showInsertAd(t)},e.prototype.hideInsertAd=function(){console.log("hideInsertAd this.hasNativeLimit() ",this.hasNativeLimit()),this.hasNativeLimit()},e.prototype.showFuncInsertAd=function(){if(this.isVersion()){var t=this.getzs_native_gap_time();if(console.log("showFuncInsertAd time ",t),t){var e=this.getzs_native_change_switch();console.log("showFuncInsertAd getzs_native_change_switch num ",e),0==e?c.default.getChannel().showCustomAd(1,0,0,function(t){t&&d.default.setBannerState(!1)}):1==e?c.default.getChannel().showCustomAdByDir(0,l.SDKDir.MID,0,function(t){t&&d.default.setBannerState(!1)}):2==e&&(this.nativeRandom=u.default.random(0,100),this.nativeRandom<=50?c.default.getChannel().showCustomAdByDir(0,l.SDKDir.MID,0,function(t){t&&d.default.setBannerState(!1)}):c.default.getChannel().showCustomAd(1,0,0,function(t){t&&d.default.setBannerState(!1)}))}}},e.prototype.getzs_video_box=function(){return this.zsConfig.zs_video_box?this.zsConfig.zs_video_box:0},e.prototype.getzs_native_change_switch=function(){return this.zsConfig.zs_native_change_switch?this.zsConfig.zs_native_change_switch:0},e.prototype.hideFuncInsertAd=function(){if(this.isVersion()&&(d.default.setBannerState(!0),this.getzs_native_gap_time()>0)){var t=this.getzs_native_change_switch();0==t?c.default.getChannel().hideCustomAd(1):1==t?c.default.getChannel().hideCustomAd(0):2==t&&(this.nativeRandom<=50?c.default.getChannel().hideCustomAd(0):c.default.getChannel().hideCustomAd(1))}},e.prototype.showBannerAd=function(){c.default.getChannel().showBanner(0,l.SDKDir.BOTTOM_MID,function(){})},e.prototype.hideCustomAd=function(){},e.prototype.showCustomAd=function(){},e.prototype.hideBannerAd=function(){c.default.getChannel().hideBanner(0)},e.prototype.hasAgreement=function(){return!0},e.prototype.getAppName=function(){return"\u86cb\u7cd5\u6d88\u6d88\u4e50"},e.prototype.hasMoreGame=function(){return c.default.getChannel().showBoxPortalAd(0),!1},e.prototype.openMoreGameView=function(){},e.prototype.getzs_box_switch=function(){return!!this.isVersion()&&!!this.zsConfig.zs_box_switch&&1==this.zsConfig.zs_box_switch},e.prototype.getzs_box_show_delay=function(){return this.zsConfig.zs_box_show_delay?this.zsConfig.zs_box_show_delay:0},e.prototype.hasInstallApp=function(){return!0},e.prototype.canMultyAd=function(){return!1},e}(n.default);o.default=h,cc._RF.pop()},{"../../cfw/tools/Utils":"Utils","../../logic/sound/model/SoundMgr":"SoundMgr","../comp/InsertAdMgr":"InsertAdMgr","../lib/lc_sdk":"lc_sdk","../sdk/SDKConfig":"SDKConfig","../sdk/SDKManager":"SDKManager","../sdk/tools/SDKEvent":"SDKEvent","./BaseHelper":"BaseHelper","./ChannelEvent":"ChannelEvent","./ChannelUtils":"ChannelUtils"}],VivoNativeAdItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"fe2daXFgRhLWJiM5ArSXfIs","VivoNativeAdItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t("../base/BaseNativeAdItemModel").default);o.default=n,cc._RF.pop()},{"../base/BaseNativeAdItemModel":"BaseNativeAdItemModel"}],VivoNativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"f9dc1u6yjBJALxNApiqe0hX","VivoNativeAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseNativeAd"),i=t("./VivoNativeAdItemModel"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getItemModel=function(){return new i.default},e.prototype.create=function(){this.nativeAd&&(this.nativeAd.offError(this.errorFunc),this.nativeAd.offLoad(this.loadFunc)),console.log(" VivoNativeAd create",this.adUnitID),this.nativeAd=this.sdk.createNativeAd({posId:this.adUnitID}),this.loadFunc=this.onLoad.bind(this),this.nativeAd.onLoad(this.loadFunc),this.errorFunc=this.onError.bind(this),this.nativeAd.onError(this.errorFunc)},e.prototype.destroy=function(){},e}(n.default);o.default=a,cc._RF.pop()},{"../base/BaseNativeAd":"BaseNativeAd","./VivoNativeAdItemModel":"VivoNativeAdItemModel"}],VivoRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"0c4cceUtqROiZOVO3fz23Ze","VivoRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRewardAd"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.reload(i.SDKState.close),n}return __extends(e,t),e.prototype.reload=function(t){this.logicState=t,this.setState(i.SDKState.loading),this.create()},e.prototype.show=function(){var t=this;this.rewardAd.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5b8c\u6210"),t.pause()}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})},e.prototype.create=function(){this.rewardAd?(console.log(" \u4e3b\u52a8\u52a0\u8f7d"),this.rewardAd.load()):(this.rewardAd=this.sdk.createRewardedVideoAd({posId:this.adUnitID}),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)),console.log(" \u521b\u5efa\u6210\u529f"))},e.prototype.destroy=function(){},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],VivoScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"dbcc3qcpDxNNrpcV0pmR1gz","VivoScreenshot"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(t){console.log(" createImage ");var e=this.getCanvas(),o=t.width,n=t.height,i=new Uint8Array(o*n*4);return t.readPixels(i),{data:i,width:e.width,height:e.height,fileType:"png",reverse:!0}},e.prototype.saveFile=function(t,e){var o=this;if(this.sdk.saveImageTempSync){var n=this.sdk.saveImageTempSync(t);console.log("_tempFilePath ",n),this.sdk.saveImageToPhotosAlbum({filePath:n,success:function(){console.log("save success"+n),e&&o.showImage(n)},fail:function(t,e){console.log("handling fail, code = "+e)}})}},e}(t("../base/BaseScreenshot").default);o.default=n,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],WXBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"86815NHBAZJJadNMN2amcLR","WXBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseBannerAd"),i=t("../SDKConfig"),a=function(t){function e(e,o){return t.call(this,e,o)||this}return __extends(e,t),e.prototype.load=function(){},e.prototype.create=function(){this.bannerAd||(console.log("WXBannerAd create  this.adUnitID",this.adUnitID),this.bannerAd=this.sdk.createBannerAd({adUnitId:this.adUnitID,adIntervals:30,style:this.getStyle()}),this.bannerAd.onLoad(this.getFunc(i.FunctionType.onLoad)),this.bannerAd.onError(this.getFunc(i.FunctionType.onError)),this.bannerAd.onResize(this.getFunc(i.FunctionType.onResize)),this.setState(i.SDKState.loading))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseBannerAd":"BaseBannerAd"}],WXChannel:[function(t,e,o){"use strict";cc._RF.push(e,"02db6z/InRHPZKtcLDWY20h","WXChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseChannel"),i=t("../SDKConfig"),a=t("./WXBannerAd"),r=t("./WXInsertAd"),s=t("./WXRewardAd"),c=t("./WXShare"),l=t("./WXlogin"),u=t("./WXScreenshot"),d=t("../base/BaseSubPackage"),p=t("./WXFileSystem"),h=t("./WXCustomAd"),f=t("../SDKHelper"),g=t("../tools/BannerIDMgr"),y=t("../third/uma/UmaEvent"),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.hasAd=function(t){var e=this.cfg,o=this.sdk.getSystemInfoSync().SDKVersion,n=e[t];if(!n)return-1;var a=n[i.ADName.version];return a?f.default.compareVersion(o,a)>=0:0},e.prototype.init=function(){var t,e=this.cfg;if(this.hasAd(i.ADName.banner)&&(t=e[i.ADName.banner][i.ADName.adUnitIdList]))for(var o=0;o<t.length;o++){var n=t[o];this.bannerAd.push(new a.default(this,n))}if(this.hasAd(i.ADName.insert)&&(t=e[i.ADName.insert][i.ADName.adUnitIdList]))for(o=0;o<t.length;o++)n=t[o],this.insertAd.push(new r.default(this,n));if(this.hasAd(i.ADName.reward)&&(t=e[i.ADName.reward][i.ADName.adUnitIdList]))for(o=0;o<t.length;o++)n=t[o],this.rewardAd.push(new s.default(this,n));if(this.hasAd(i.ADName.customAd)&&(t=e[i.ADName.customAd][i.ADName.adUnitIdList]))for(o=0;o<t.length;o++)n=t[o],this.customAd.push(new h.default(this,n));this.sdk.shareAppMessage&&(this.share=new c.default(this,e[i.ADName.share])),this.loginMgr=new l.default(this),this.screenshot=new u.default(this),this.subPackage=new d.default(this),this.fileSystem=new p.default(this),this.event=new y.default,this.checkForUpdate()},e.prototype.vibrateShort=function(){this.sdk.vibrateShort()},e.prototype.previewImage=function(t){this.sdk.previewImage({current:t,urls:[t]})},e.prototype.navigateToMiniProgram=function(t){this.sdk.navigateToMiniProgram({appId:t,success:function(){}})},e.prototype.showToast=function(t){this.sdk.showToast({title:t})},e.prototype.postMessage=function(t){var e=this.sdk.getOpenDataContext();e&&(t.channelID=this.cfg.name,e.postMessage(t))},e.prototype.checkForUpdate=function(){var t=this,e=this.sdk.getUpdateManager();e&&(e.onCheckForUpdate(function(){}),e.onUpdateReady(function(){t.sdk.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(){t.showToast("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25,\u4e0b\u6b21\u542f\u52a8\u7ee7\u7eed...")}))},e.prototype.hasAppBox=function(){return!0},e.prototype.showAppBoxAd=function(t){void 0===t&&(t=0),this.hasAppBox()&&this.showCustomAd(2,.01,.25)},e.prototype.showBanner=function(t,e,o){void 0===e&&(e=i.SDKDir.BOTTOM_MID),this.destroyBanner(t),g.default.instance().setIndex(t);var n=g.default.instance().getIndex(t);console.log("showBanner index  ",t,"site",n),this.hasBanner()&&this.bannerAd[n]&&(this.bannerAd[n].setDir(e),this.bannerAd[n].updateSize(),this.bannerAd[n].open(o))},e.prototype.isBannerOk=function(t){var e=g.default.instance().getIndex(t);return console.log("isBannerOk index  ",t,"site",e),!(!this.hasBanner()||!this.bannerAd[e])&&this.bannerAd[e].isOk()},e.prototype.showBannerByXYWH=function(t,e,o,n,a,r){this.destroyBanner(t),g.default.instance().setIndex(t);var s=g.default.instance().getIndex(t);console.log("showBannerByXYWH index  ",t,"site",s),this.hasBanner()&&this.bannerAd[s]&&(this.bannerAd[s].setDir(i.SDKDir.XY),this.bannerAd[s].setPosition(e,o),this.bannerAd[s].setContentSize(n,a),this.bannerAd[s].updateSize(),this.bannerAd[s].open(r))},e.prototype.showBannerByXY=function(t,e,o,n){this.destroyBanner(t),g.default.instance().setIndex(t);var a=g.default.instance().getIndex(t);console.log("showBannerByXY index  ",t,"site",a),this.hasBanner()&&this.bannerAd[a]&&(this.bannerAd[a].setDir(i.SDKDir.XY),this.bannerAd[a].setPosition(e,o),this.bannerAd[a].updateSize(),this.bannerAd[a].open(n))},e.prototype.preloadBannerByXY=function(t,e,o){this.destroyBanner(t),g.default.instance().setIndex(t);var n=g.default.instance().getIndex(t);console.log("preloadBannerByXY index  ",t,"site",n),this.bannerAd[n]&&(this.bannerAd[n].setDir(i.SDKDir.XY),this.bannerAd[n].setPosition(e,o),this.bannerAd[n].updateSize(),this.bannerAd[n].preload(i.SDKState.close))},e.prototype.openBanner=function(t){var e=g.default.instance().getIndex(t);console.log("openBanner index  ",t,"site",e),this.hasBanner()&&this.bannerAd[e]&&this.bannerAd[e].show()},e.prototype.hideBanner=function(t){void 0===t&&(t=0);var e=g.default.instance().getIndex(t);console.log("hideBanner index  ",t,"site",e),this.hasBanner()&&this.bannerAd[e]&&this.bannerAd[e].close()},e.prototype.loadBanner=function(t,e){void 0===t&&(t=0);var o=g.default.instance().getIndex(t);console.log("loadBanner index  ",t,"site",o),this.hasBanner()&&this.bannerAd[o]&&this.bannerAd[o].preload(e)},e.prototype.destroyBanner=function(t){var e=g.default.instance().getIndex(t);console.log("destroyBanner index  ",t,"site",e),this.hasBanner()&&this.bannerAd[e]&&this.bannerAd[e].destroy()},e}(n.default);o.default=m,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKHelper":"SDKHelper","../base/BaseChannel":"BaseChannel","../base/BaseSubPackage":"BaseSubPackage","../third/uma/UmaEvent":"UmaEvent","../tools/BannerIDMgr":"BannerIDMgr","./WXBannerAd":"WXBannerAd","./WXCustomAd":"WXCustomAd","./WXFileSystem":"WXFileSystem","./WXInsertAd":"WXInsertAd","./WXRewardAd":"WXRewardAd","./WXScreenshot":"WXScreenshot","./WXShare":"WXShare","./WXlogin":"WXlogin"}],WXCustomAd:[function(t,e,o){"use strict";cc._RF.push(e,"9bf65OllYtGboa1P0dN5uqT","WXCustomAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=t("../base/BaseCustomAd"),a=t("../SDKHelper"),r=t("../third/SDKEventID"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.isOk=function(){return!a.default.isNull(this.customAd)&&this.state!=n.SDKState.loading&&this.state!=n.SDKState.loadFail},e.prototype.open=function(){this.preload(n.SDKState.open),this.show()},e.prototype.load=function(){this.destroy(),this.create()},e.prototype.updateSize=function(){var t=this.sdk.getSystemInfoSync(),e=t.windowWidth*this.rx,o=t.windowHeight*this.ry;this.customAd.style.left=e,this.customAd.style.top=o},e.prototype.getStyle=function(){var t=this.sdk.getSystemInfoSync();return{left:t.windowWidth*this.rx,top:t.windowHeight*this.ry}},e.prototype.create=function(){this.customAd||(this.setState(n.SDKState.loading),this.customAd=this.sdk.createCustomAd({adUnitId:this.adUnitID,adIntervals:30,style:this.getStyle()}),this.customAd.onLoad(this.getFunc(n.FunctionType.onLoad)),this.customAd.onError(this.getFunc(n.FunctionType.onError)),this.customAd.onClose(this.getFunc(n.FunctionType.onClose)))},e.prototype.show=function(){this.customAd?this.customAd.show():(this.load(),this.show())},e.prototype.onClose=function(){},e.prototype.onError=function(t){this.setState(n.SDKState.loadFail),t&&t.errCode&&this.channel.trackEvent(r.default.custom_ad_error,{code:t.errCode})},e.prototype.onHide=function(){},e.prototype.onLoad=function(){this.setState(n.SDKState.loadSucess)},e.prototype.close=function(){this.hide()},e.prototype.hide=function(){this.customAd&&this.customAd.hide&&this.customAd.hide()},e.prototype.isShow=function(){return!!this.customAd&&this.customAd.isShow()},e.prototype.destroy=function(){this.customAd&&(this.customAd.offLoad(this.getFunc(n.FunctionType.onLoad)),this.customAd.offError(this.getFunc(n.FunctionType.onError)),this.customAd.offClose(this.getFunc(n.FunctionType.onClose)),this.customAd.destroy(),this.customAd=null)},e}(i.default);o.default=s,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKHelper":"SDKHelper","../base/BaseCustomAd":"BaseCustomAd","../third/SDKEventID":"SDKEventID"}],WXFileSystem:[function(t,e,o){"use strict";cc._RF.push(e,"3e36b4BwQdH6KCTunbcKalP","WXFileSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/SDKFileSystemManager"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){this.fs=this.sdk.getFileSystemManager(),this.sysPath=this.sdk.env.USER_DATA_PATH},e.prototype.writeFile=function(t,e,o,n){var a=this.sysPath+"/"+t;console.log("writeFile filePath ",a),this.fs.writeFile({filePath:a,data:e,encoding:o,success:function(){console.log(" writeFile ok"),n(i.ResultState.YES)},fail:function(t){console.log(" writeFile fail ",t),n(i.ResultState.NO)},complete:function(){console.log(" writeFile complete")}})},e.prototype.readFile=function(t,e,o){var n=this.sysPath+"/"+t;console.log("readFile filePath ",n),this.fs.readFile({filePath:n,encoding:e,success:function(t){if(console.log(" readFile ok"),e==i.FileEncoding.BINARY){var n=new Uint8Array(t.data);o(i.ResultState.YES,n)}else o(i.ResultState.YES,t.data)},fail:function(t){console.log(" readFile fail",t),o(i.ResultState.NO,null)},complete:function(){console.log(" writeFile complete")}})},e.prototype.writeFileSync=function(t,e,o){var n=this.sysPath+"/"+t;return this.fs.writeFileSync(n,e,o)},e.prototype.readFileSync=function(t,e){var o=this.sysPath+"/"+t;return this.fs.readFileSync(o,e)},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/SDKFileSystemManager":"SDKFileSystemManager"}],WXHelper:[function(t,e,o){"use strict";cc._RF.push(e,"f0f44sbiONM2JB8D8RkeXfM","WXHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ZSGameItemModel"),i=t("./BaseHelper"),a=t("./ChannelEvent"),r=t("./ChannelUtils"),s=t("../sdk/tools/SDKEvent"),c=t("../../cfw/event"),l=t("../sdk/SDKManager"),u=t("../../logic/sound/model/SoundMgr"),d=t("../moregame/MoreGameC"),p=t("../lib/lc_sdk"),h=function(t){function e(){var e=t.call(this)||this;return e.openID="",e.clickMap=new Map,e.zsConfig={zs_version:"1.0",zs_switch:0,zs_banner_city:0,zs_native_click_switch:1,zs_process_time:0,zs_game_star_jump_switch:0,zs_banner_game_time:30,zs_text_message:30,zs_banner_time:2,zs_click_award_prompt:0,zs_click_award_num:1,zs_begin_click_switch:0,zs_start_video_switch:0,zs_begin_click__since:3,zs_banner_vertical_enable:0,zs_banner_system:""},e.sdk=new p.default,s.default.instance().on(s.default.REWARD_AD_CLOSE,e.rewardClose,e),s.default.instance().on(s.default.REWARD_AD_OPEN,e.rewardOpen,e),l.default.getChannel().getSDK().onShow(function(){console.log("VivoChannel  onShow "),c.GEvent.instance().emit(c.GEvent.EVENT_SHOW)}),l.default.getChannel().getSDK().onHide(function(){console.log("VivoChannel  onHide "),c.GEvent.instance().emit(c.GEvent.EVENT_HIDE)}),e.sdk.initSdkByConf({channel:"wx",appId:"wx5c9a857b04bbd820",secret:"05a5facc4c566d5ac23ed9a7563646d2"}),e.login(),e.loadConfig(),e}return __extends(e,t),e.prototype.rewardOpen=function(){console.log("rewardOpen "),u.default.instance().rewardOpen()},e.prototype.rewardClose=function(){u.default.instance().rewardClose()},e.prototype.getProcessTime=function(){return this.zsConfig.zs_process_time},e.prototype.firstExport=function(){return this.isSwtichOpen()&&1==this.zsConfig.zs_game_star_jump_switch},e.prototype.getBannerRefreshTime=function(){return this.zsConfig.zs_banner_game_time},e.prototype.getFriendDuration=function(){return"string"==typeof this.zsConfig.zs_text_message?parseInt(this.zsConfig.zs_text_message):this.zsConfig.zs_text_message},e.prototype.hasFriend=function(){return!0},e.prototype.getBannerDelayTime=function(){return this.zsConfig.zs_banner_time},e.prototype.hasCrazyClick=function(){return!0},e.prototype.isShowAgain=function(){return 1==this.zsConfig.zs_click_award_prompt},e.prototype.login=function(t){var e=this;void 0===t&&(t=!0);var o=this.sdk;o.login(function(n){console.log(" msg ",n),e.openID=n,t&&o.init(e.openID)},function(o){console.log("login error ",o),setTimeout(function(){e.login(t)},3e3)})},e.prototype.getRewardNum=function(){return this.zsConfig.zs_click_award_num},e.prototype.loadConfig=function(){var t=this;this.sdk.loadCfg(function(e){t.zsConfig="string"==typeof e?JSON.parse(e):e,t.zsConfig.zs_click_award_num,a.default.instance().emit(a.default.LOAD_CONFIG),console.log("result type ",typeof e),console.log("loadConfig result === ",e)},function(e){console.log(" err === ",e),setTimeout(function(){t.loadConfig()},3e3)})},e.prototype.isVersion=function(){return 1==r.default.compareVersion(this.verson,this.zsConfig.zs_version)},e.prototype.isSwtichOpen=function(){return 1==this.zsConfig.zs_switch},e.prototype.isOpen=function(){return this.isVersion()&&this.isSwtichOpen()},e.prototype.isOpenNativeErrorClick=function(){return 1==r.default.compareVersion(this.verson,this.zsConfig.zs_version)&&1==this.zsConfig.zs_native_click_switch},e.prototype.isSystemOpen=function(){return""==this.zsConfig.zs_banner_system||this.getOS()!=this.zsConfig.zs_banner_system},e.prototype.isErrorClickOpen=function(){return this.isSwtichOpen()&&this.isSystemOpen()&&1==this.zsConfig.zs_banner_city},e.prototype.isStartErrorClick=function(){return this.isErrorClickOpen()&&1==this.zsConfig.zs_start_video_switch},e.prototype.isBannerErrorClick=function(){return this.isErrorClickOpen()&&1==this.zsConfig.zs_banner_vertical_enable},e.prototype.hasEgg=function(){return!1},e.prototype.hasAgreement=function(){return!1},e.prototype.loadAd=function(){var t=this;console.log(" loadAd start"),this.sdk.loadAd(function(e){if(e&&e.promotion){console.log(" res.promotion ",e.promotion),t.adData.length=0;for(var o=0;o<e.promotion.length;o++){var i=e.promotion[o],a=new n.default(i);t.adData.push(a)}for(o=0;o<t.adData.length;o++)a=t.adData[o],t.setAdClickParam(a);t.sortAdData()}else setTimeout(function(){t.loadAd()},3e3)})},e.prototype.hideCustomAd=function(t){l.default.getChannel().hideCustomAd(t)},e.prototype.setAdClickParam=function(t){if(t){var e=t.getGameName(),o=this.clickMap.get(e);if(null==o||o.length<=0){o=[],this.clickMap.set(e,o);for(var n=0;n<this.adData.length;n++){var i=this.adData[n];o.push(i)}}}},e.prototype.getAdData=function(){return this.adData},e.prototype.refresh=function(){},e.prototype.sortAdData=function(){a.default.instance().emit(a.default.LOAD_EXPORT_DATA)},e.prototype.changeData=function(t){if(t){var e=this.adData.indexOf(t);if(console.log(" oldIndex ",e),e>=0){var o=this.adData.splice(e,1),n=r.default.random(0,this.adData.length);if(e==n)for(var i=0;i<10&&e==(n=r.default.random(0,this.adData.length));i++);console.log(" newIndex ",n," this.adData.length ",this.adData.length),this.adData.splice(n,0,o[0]),a.default.instance().emit(a.default.LOAD_EXPORT_DATA)}}},e.prototype.toOtherGame=function(t,e,o,n){if(this.openID&&t){var i=this.sdk,a=t.getData();i.navigate2Mini(a,this.openID,e,o,n)}},e.prototype.navigate2Mini=function(t,e,o,n){if(this.openID&&t){var i=this.sdk,a=t.getGameName(),s=this.clickMap.get(a);if(s&&s.length>0){var c=s.indexOf(t);if(c>=0){var l=t.getData();i.navigate2Mini(l,this.openID,e,o,n),s.splice(c,1)}else{var u=r.default.random(0,s.length);l=s[u].getData(),i.navigate2Mini(l,this.openID,e,o,n),s.splice(u,1)}s.length<=0&&this.setAdClickParam(t)}else this.setAdClickParam(t);this.changeData(t)}},e.prototype.isOpenStartEgg=function(){return this.isErrorClickOpen()&&1==this.zsConfig.zs_begin_click_switch&&3>=this.zsConfig.zs_begin_click__since},e.prototype.hasBigExport=function(){return!0},e.prototype.hasDiamonView=function(){return!0},e.prototype.hasMoreGame=function(){return!0},e.prototype.openMoreGameView=function(){d.default.instance().intoLayer()},e.prototype.hasNormalShare=function(){return!0},e}(i.default);o.default=h,cc._RF.pop()},{"../../cfw/event":"event","../../logic/sound/model/SoundMgr":"SoundMgr","../lib/lc_sdk":"lc_sdk","../moregame/MoreGameC":"MoreGameC","../sdk/SDKManager":"SDKManager","../sdk/tools/SDKEvent":"SDKEvent","./BaseHelper":"BaseHelper","./ChannelEvent":"ChannelEvent","./ChannelUtils":"ChannelUtils","./ZSGameItemModel":"ZSGameItemModel"}],WXInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"0e088HFr+xDGbOi1FQOkS5S","WXInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseInsertAd"),i=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(t){this.callback=t,this.state=i.SDKState.loading,this.destroy(),this.create(),this.show()},e.prototype.onClose=function(){},e.prototype.create=function(){this.insertAd||(this.insertAd=this.sdk.createInterstitialAd({adUnitId:this.adUnitID}),this.insertAd.onLoad(this.onLoad.bind(this)),this.insertAd.onError(this.onError.bind(this)),this.insertAd.onClose(this.onClose.bind(this)))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseInsertAd":"BaseInsertAd"}],WXRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"cb694533p1AhKeMyvry8WzV","WXRewardAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseRewardAd"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.reload(i.SDKState.close),n}return __extends(e,t),e.prototype.reload=function(t){this.logicState=t,this.setState(i.SDKState.loading),this.create()},e.prototype.create=function(){this.sdk.getSystemInfoSync().SDKVersion,this.rewardAd?this.rewardAd.load():(this.rewardAd=this.sdk.createRewardedVideoAd({adUnitId:this.adUnitID}),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)))},e}(n.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRewardAd":"BaseRewardAd"}],WXScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"1dd7creMghCA7QMIiU5YUu8","WXScreenshot"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas();return{x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,fileType:"png",quality:1}},e.prototype.getCanvas=function(){return this.sdk.createCanvas()},e.prototype.saveFile=function(t,e,o){var n=this;console.log(" saveFile data ",t,e);var i=this.getCanvas();if(console.log("saveFile canvas ",i),i.toTempFilePathSync){var a=i.toTempFilePathSync(t);console.log(" _tempFilePath ",a),this.sdk.saveImageToPhotosAlbum({filePath:a,success:function(t){console.log("Capture file success!"+a,t),o&&o(a),e&&n.showImage(a)}})}},e}(t("../base/BaseScreenshot").default);o.default=n,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],WXShare:[function(t,e,o){"use strict";cc._RF.push(e,"62eb9WlibpP0JTsLYKagai6","WXShare"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../base/BaseShare"),i=t("../SDKConfig"),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.time=0,n.sdk.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),n.sdk.updateShareMenu({withShareTicket:!0}),n.sdk.onShareAppMessage(function(){return n.getData(0)}),n.sdk.onShow(function(){n.backGame()}),n}return __extends(e,t),e.prototype.share=function(t,e){this.callback=e;var o=this.getData(t);this.sdk.shareAppMessage(o),this.state=i.SDKState.open,this.time=Date.now()},e.prototype.shareWithUrl=function(t,e,o){this.callback=o;var n=this.getData(t);n[i.ADName.imageUrl]=e,this.sdk.shareAppMessage(n),this.state=i.SDKState.open,this.time=Date.now()},e.prototype.getData=function(t){return this.data[t]},e.prototype.backGame=function(){this.state==i.SDKState.open&&(this.state=i.SDKState.close,this.callback&&(Date.now()-this.time>=3e3?this.callback(i.ResultState.YES):this.callback(i.ResultState.NO),this.callback=null))},e}(n.BaseShare);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseShare":"BaseShare"}],WXlogin:[function(t,e,o){"use strict";cc._RF.push(e,"a7e69ZhX01FIrM1zkN5kpIg","WXlogin"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t("../base/BaseLogin").default);o.default=n,cc._RF.pop()},{"../base/BaseLogin":"BaseLogin"}],WeeklyC:[function(t,e,o){"use strict";cc._RF.push(e,"6bfa3i5xclAHLqzhSlrF4tN","WeeklyC"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../cfw/mvc"),i=t("../../cfw/tools/ViewManager"),a=t("../../config/ModuleConfig"),r=t("../../config/UIConfig"),s=t("./view/WeeklyRewardView"),c=t("./model/WeeklyMgr"),l=t("../public/bag/BagManager"),u=t("../../cfw/ui"),d=t("../../cfw/model"),p=t("../../engine/EngineHelper"),h=t("../../sdk/channel-ts/CMgr"),f=t("../../config/UmengEventID"),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.intoLayer=function(){var t=c.default.instance();t.hasReward()&&i.default.pushUIView({path:"prefabs/WeeklyRewardView",moduleID:a.ModuleID.PUBLIC,uiIndex:r.UIIndex.QUEUE,className:s.default,controller:this,model:t,func:function(){}})},e.prototype.getReward=function(t){var e=c.default.instance().getCurDay();if(e){var o=e.getItem(),n=t*o.getNum(!1);if(t>1)h.default.helper.showRewardAd(0,function(t){if(1==t){var i=p.default.getMidPos();l.default.instance().updateItemNum(o.getID(),n,i),e.setState(d.ItemState.GOT),u.default.instance().popView(),h.default.helper.trackEvent(f.default.weekly_reward)}});else{var i=p.default.getMidPos();l.default.instance().updateItemNum(o.getID(),n,i),e.setState(d.ItemState.GOT),u.default.instance().popView()}}},e}(n.BaseController);o.default=g,cc._RF.pop()},{"../../cfw/model":"model","../../cfw/mvc":"mvc","../../cfw/tools/ViewManager":"ViewManager","../../cfw/ui":"ui","../../config/ModuleConfig":"ModuleConfig","../../config/UIConfig":"UIConfig","../../config/UmengEventID":"UmengEventID","../../engine/EngineHelper":"EngineHelper","../../sdk/channel-ts/CMgr":"CMgr","../public/bag/BagManager":"BagManager","./model/WeeklyMgr":"WeeklyMgr","./view/WeeklyRewardView":"WeeklyRewardView"}],WeeklyItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"c37a7rkYjlFapVqbqjbycyV","WeeklyItemModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.WeeklyItemModelEnum=void 0;var n,i=t("../../../cfw/cfw"),a=t("../../public/bag/BagManager"),r=t("../../../config/Config"),s=t("./WeeklyMgr");(function(t){t[t.reward=0]="reward",t[t.num=1]="num",t[t.state=2]="state"})(n=o.WeeklyItemModelEnum||(o.WeeklyItemModelEnum={}));var c=function(t){function e(){return t.call(this,e.CLASS_NAME)||this}return __extends(e,t),e.prototype.getNum=function(){return this.getValue(n.num)},e.prototype.getReward=function(){return this.getValue(n.reward)},e.prototype.getState=function(){return this.getValue(n.state)},e.prototype.setState=function(t){this.setValue(n.state,t),this.emit(r.EventName.UPDATE_WEEKLY_STATE)},e.prototype.getItem=function(){return this.item||(this.item=a.default.instance().getNewItemModel(this.getReward(),this.getNum())),this.item},e.prototype.isCurDay=function(){return this.getID()==s.default.instance().getLoginDayNum()},e.prototype.isPast=function(){return this.getID()<s.default.instance().getLoginDayNum()},e.CLASS_NAME="WeeklyItemModel",e}(i.DataModel);o.default=c,cc._RF.pop()},{"../../../cfw/cfw":"cfw","../../../config/Config":"Config","../../public/bag/BagManager":"BagManager","./WeeklyMgr":"WeeklyMgr"}],WeeklyItemView:[function(t,e,o){"use strict";cc._RF.push(e,"17ab6q8iAZCQ7pU1d/DOXa2","WeeklyItemView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("../../../cfw/model"),a=t("../../../config/Config"),r=t("../../../cocos/lang/UIText"),s=t("../../../cfw/tools/Debug"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=t.call(this)||this;return e.$Vtitle=null,e.$Vicon=null,e.$Vnum=null,e.$Vmask=null,e.$Vright=null,e.bg=[],e}return __extends(e,t),e.prototype.onEnter=function(){this.content(),this.eventProxy.on(a.EventName.UPDATE_WEEKLY_STATE,this.content,this)},e.prototype.content=function(){this.$Vtitle.string=r.default.instance().getText(32,{num:this.model.getID()});var t=this.model.getItem();t&&(this.setSpriteAtlas(this.$Vicon,t.getModuleID(),t.getIcon(),t.getSpriteFrame()),s.default.log("item.getNum(false) ",t.getNum(!1)),this.$Vnum.string="+"+t.getNum(!1),this.$Vicon.node.scale=t.getScale()),this.model.getState()==i.ItemState.GOT?(this.$Vright.node.active=!0,this.$Vmask.node.active=!1):(this.$Vright.node.active=!1,this.model.isCurDay()?(this.$Vmask.node.active=!1,this.bg[0].active=!0,this.bg[1].active=!1):(this.model.isPast()?this.$Vmask.node.active=!0:this.$Vmask.node.active=!1,this.bg[0].active=!1,this.bg[1].active=!0))},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},__decorate([u(cc.Label)],e.prototype,"$Vtitle",void 0),__decorate([u(cc.Sprite)],e.prototype,"$Vicon",void 0),__decorate([u(cc.Label)],e.prototype,"$Vnum",void 0),__decorate([u(cc.Sprite)],e.prototype,"$Vmask",void 0),__decorate([u(cc.Sprite)],e.prototype,"$Vright",void 0),__decorate([u([cc.Node])],e.prototype,"bg",void 0),__decorate([l],e)}(n.BaseView);o.default=d,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/tools/Debug":"Debug","../../../cfw/view":"view","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config"}],WeeklyMgr:[function(t,e,o){"use strict";cc._RF.push(e,"21944qlCX1FtYC6Zig+9b7l","WeeklyMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/model"),i=t("../../../cfw/module"),a=t("./WeeklyItemModel"),r=t("../../user/User"),s=t("../../../config/TestConfig"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weeklyItemModelMgr=new n.ModelManager,e}return __extends(e,t),e.prototype.initData=function(){this.weeklyItemModelMgr.initWithData(i.ModuleManager.dataManager.get(a.default.CLASS_NAME),a.default)},e.prototype.getWeeklyItemModel=function(t){return this.weeklyItemModelMgr.getByID(t)},e.prototype.getWeeklyItemModelList=function(){return this.weeklyItemModelMgr.getList()},e.prototype.getLoginDayNum=function(){return s.default.WEEKLY?8:r.default.instance().getLoginDayNum()},e.prototype.hasReward=function(){if(this.getLoginDayNum()>this.weeklyItemModelMgr.size())return!1;var t=this.getCurDay();return!!t&&t.getState()!=n.ItemState.GOT},e.prototype.getCurDay=function(){var t=this.getLoginDayNum()-1,e=this.getWeeklyItemModelList();return t>=0&&t<e.length?e[t]:null},e}(n.BaseModel);o.default=c,cc._RF.pop()},{"../../../cfw/model":"model","../../../cfw/module":"module","../../../config/TestConfig":"TestConfig","../../user/User":"User","./WeeklyItemModel":"WeeklyItemModel"}],WeeklyRewardView:[function(t,e,o){"use strict";cc._RF.push(e,"83891nrxcNA06z3sIZi8Cd3","WeeklyRewardView"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../cfw/view"),i=t("./WeeklyItemView"),a=t("../../../config/Config"),r=t("../../../cocos/lang/UIText"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=t.call(this)||this;return e.normalBtn=null,e.tenBtn=null,e.itemPrefab=null,e.box=[],e.dayNum=null,e.tenBtnText=null,e}return __extends(e,t),e.prototype.onEnter=function(){this.content()},e.prototype.content=function(){for(var t=this.model.getWeeklyItemModelList(),e=0;e<t.length;e++){var o=t[e],n=Math.floor(e/3),s=cc.instantiate(this.itemPrefab),c=s.getComponent(i.default);c&&(c.setModel(o),c.setController(this.controller)),this.box[n].node.addChild(s)}var l=this.model.getCurDay();this.dayNum.string=r.default.instance().getText(32,{num:l.getID()}),this.tenBtnText.string=r.default.instance().getText(35,{num:a.WEEKLY_RATIO})},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onnormalBtnClick=function(){this.controller.getReward(1)},e.prototype.ontenBtnClick=function(){this.controller.getReward(a.WEEKLY_RATIO)},__decorate([l(cc.Button)],e.prototype,"normalBtn",void 0),__decorate([l(cc.Button)],e.prototype,"tenBtn",void 0),__decorate([l(cc.Prefab)],e.prototype,"itemPrefab",void 0),__decorate([l([cc.Layout])],e.prototype,"box",void 0),__decorate([l(cc.Label)],e.prototype,"dayNum",void 0),__decorate([l(cc.Label)],e.prototype,"tenBtnText",void 0),__decorate([c],e)}(n.BaseView);o.default=u,cc._RF.pop()},{"../../../cfw/view":"view","../../../cocos/lang/UIText":"UIText","../../../config/Config":"Config","./WeeklyItemView":"WeeklyItemView"}],ZSGameItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"7a1adxDy3FMAZJse48N6DWq","ZSGameItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(e){var o=t.call(this)||this;return o.data=e,o}return __extends(e,t),e.prototype.getGameName=function(){return this.data.app_title},e.prototype.getGameIcon=function(){return this.data.app_icon},e.prototype.getData=function(){return this.data},e}(t("./GameItemModel").default);o.default=n,cc._RF.pop()},{"./GameItemModel":"GameItemModel"}],ai:[function(t,e,o){"use strict";cc._RF.push(e,"d1a88o4eB1H3ZY6F5fjWpCr","ai"),Object.defineProperty(o,"__esModule",{value:!0}),o.DecisionTree=o.Perception=o.AIManager=o.Ai_dataEnum=o.ThinkType=void 0;var n,i,a=t("./tools/Utils"),r=t("../engine/Component3D");(function(t){t[t.CONTINUE=0]="CONTINUE",t[t.ACTION=1]="ACTION"})(n=o.ThinkType||(o.ThinkType={})),function(t){t[t.condition=0]="condition",t[t.cParam=1]="cParam",t[t.conditionYes=2]="conditionYes",t[t.parm1=3]="parm1",t[t.conditionNo=4]="conditionNo",t[t.parm2=5]="parm2"}(i=o.Ai_dataEnum||(o.Ai_dataEnum={}));var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setTarget=function(t){this.target=t},e.prototype.setPerception=function(t){this.perception=t},e.prototype.checkPerception=function(t,e){return this.perception.action(this.target,t,e)},e.prototype.getPerception=function(){return this.perception},e.prototype.think=function(){},e}(r.default);o.AIManager=s;var c=function(){function t(){this.step={}}return t.prototype.action=function(){return!0},t}();o.Perception=c;var l=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t){this.decisionData=t},e.prototype.action=function(t,e){var o=this.decisionData.getRowData(e),n=!1;if(o){var a=o[i.condition],r=0,s=null;(n=this.perception.action(t,a,o[i.cParam]))?(r=o[i.conditionYes],s=o[i.parm1]):(r=o[i.conditionNo],s=o[i.parm2]),this.judge(r,s)}else console.error(" DecisionTree action  data is null decisionID ",e);return n},e.prototype.judge=function(t,e){if(t==n.ACTION)this.doLogic(e);else for(var o=0;o<e.length;o++){var i=e[o];if(this.action(this.target,i))break}},e.prototype.doLogic=function(t){if(t.length>0)for(var e=a.default.random(0,100),o=t.length/2,n=0;n<o;n++){var i=t[2*n];if(e<=t[2*n+1])return void this.target.changeAction(i)}},e.prototype.think=function(t){this.action(this.target,t)},e}(s);o.DecisionTree=l,cc._RF.pop()},{"../engine/Component3D":"Component3D","./tools/Utils":"Utils"}],animation:[function(t,e,o){"use strict";cc._RF.push(e,"e37ecaWlv1JL4ddZrEJKPPh","animation"),Object.defineProperty(o,"__esModule",{value:!0}),o.BaseAnimation=void 0;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=-1,e.actionName="",e.autoPlay=!0,e.initFlag=!1,e}return __extends(e,t),e.prototype.setCount=function(t){this.count=t},e.prototype.isPlaying=function(){return!1},e.prototype.getActionName=function(){return this.actionName},e.prototype.setActionName=function(t){this.actionName=t},e.prototype.setAutoPlay=function(t){this.autoPlay=t},e.prototype.setEventCallback=function(t){this.eventCallback=t},e.prototype.setFinishCallback=function(t){this.finishCallback=t},e.prototype.onActionFinished=function(){this.finishCallback&&this.finishCallback(this.actionName)},e.prototype.onEventFinish=function(){this.eventCallback&&this.eventCallback(this.actionName)},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.stop=function(){},e}(t("../engine/Component3D").default);o.BaseAnimation=n,cc._RF.pop()},{"../engine/Component3D":"Component3D"}],astar:[function(t,e,o){"use strict";cc._RF.push(e,"7bb8505Y+pD8ZznvXxXAcfv","astar"),Object.defineProperty(o,"__esModule",{value:!0}),o.MapNode=o.PathHelper=void 0;var n=t("./struct"),i=function(){function t(){this._dirNum=8}return t.prototype.init=function(t,e){void 0===e&&(e=4),this.delegator=t,this._dirNum=e,this.map=this.delegator.getMap()},t.prototype.has=function(t,e){for(var o=0;o<e.length;o++)if(e[o].mapID==t)return o;return-1},t.prototype.getCost=function(t,e){var o=this.map.getStickIndex(t),n=this.map.getStickIndex(e);return Math.abs(o.x-n.x)+Math.abs(o.y-n.y)},t.prototype.updateF=function(t,e,o){void 0===o&&(o=null),o&&(t.g=o.g+this.getCost(t.mapID,o.mapID)),t.h=this.getCost(t.mapID,e)},t.prototype.findPath=function(t,e,o){var i=new n.MapList,r=new n.MapList,s=new a(t);this.updateF(s,e,null),i.insert(s.mapID,s,function(t,e){return t.F>e.F});for(var c=null;;){if(0==i.length)return;if(i.has(e)){(h=new a(e)).parent=c,r.push(e,h);for(var l=h.parent;l;)o.splice(0,0,l.mapID),l=l.parent;return void o.push(e)}c=i.getByIndex(0),i.remove(c.mapID,c),r.push(c.mapID,c);for(var u=this.map.getStickIndex(c.mapID),d=0;d<this._dirNum;d++)if(this.delegator.canMove(d,u)){var p=this.delegator.getDirID(d,u);if(p==e){for((h=new a(p)).parent=c,r.push(p,h),l=h.parent;l;)o.splice(0,0,l.mapID),l=l.parent;return void o.push(e)}if(!r.has(p))if(i.has(p))h=i.getByKey(p),this.updateF(h,e,c),h.F>c.F?this.updateF(h,e,h.parent):h.parent=c;else{var h;(h=new a(p)).parent=c,this.updateF(h,e,c),i.insert(h.mapID,h,function(t,e){return t.F>e.F})}}}},t}();o.PathHelper=i;var a=function(){function t(t){this._parent=null,this._mapID=0,this._g=0,this._h=0,this._mapID=t}return Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this._h},set:function(t){this._h=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){this._parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapID",{get:function(){return this._mapID},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this._g+this._h},enumerable:!1,configurable:!0}),t}();o.MapNode=a,cc._RF.pop()},{"./struct":"struct"}],attribute:[function(t,e,o){"use strict";cc._RF.push(e,"3ca09Fwpy5BF7VJt9/xLGWU","attribute"),Object.defineProperty(o,"__esModule",{value:!0}),o.AttrManager=o.AttrInfo=o.PropertyAddedValue=o.AttrType=o.ValueType=o.PropertyAddType=void 0;var n=function(){function t(){}return t.ADDTYPE_VALUE=0,t.ADDTYPE_RATE=1,t.ADDTYPE_MULTIPLY=2,t}();o.PropertyAddType=n;var i,a=function(){function t(){}return t.MIN=0,t.MAX=1,t}();o.ValueType=a,function(t){t[t.HP=0]="HP",t[t.POWER=1]="POWER",t[t.HEAL_POINT=2]="HEAL_POINT",t[t.ATK_CD=3]="ATK_CD",t[t.JUMP_POWER=4]="JUMP_POWER",t[t.SKILL=5]="SKILL",t[t.MOVE_SPEED=6]="MOVE_SPEED",t[t.RUN_SPEED=7]="RUN_SPEED",t[t.EXTRA=8]="EXTRA",t[t.MAX=9]="MAX"}(i=o.AttrType||(o.AttrType={}));var r=[a.MAX,a.MIN,a.MIN,a.MIN,a.MIN,a.MIN,a.MIN,a.MIN,a.MIN],s=function(){function t(t){this.finalValue=0,this.addType=t,this.addType==n.ADDTYPE_MULTIPLY?this.finalValue=1:this.finalValue=0}return t.prototype.AddType=function(){return this.addType},t.prototype.add=function(t){this.addType==n.ADDTYPE_MULTIPLY?this.finalValue*=t:this.finalValue+=t},t.prototype.remove=function(t){this.addType==n.ADDTYPE_MULTIPLY?this.finalValue/=t:this.finalValue-=t},t.prototype.getValue=function(){return this.finalValue},t}();o.PropertyAddedValue=s;var c=function(){function t(t){this.level=0,this.propFinalValue=0,this.propBaseValue=0,this.maxValue=0,this.addedValue=new s(n.ADDTYPE_VALUE),this.addedRate=new s(n.ADDTYPE_RATE),this.addedMultiply=new s(n.ADDTYPE_MULTIPLY),this.type=t}return t.prototype.setLevel=function(t){this.level=t},t.prototype.getLevel=function(){return this.level},t.prototype.getPropValue=function(){return this.propFinalValue},t.prototype.setBasePropValue=function(t){this.propBaseValue=t,this.maxValue=t,this.propFinalValue=this.propBaseValue},t.prototype.getMaxValue=function(){return this.maxValue},t.prototype.getRatioValue=function(){var t=this.propFinalValue,e=this.maxValue,o=1;return e>0&&(o=t/e),100*o},t.prototype.changePropValue=function(t,e){t==n.ADDTYPE_VALUE?this.propBaseValue+=e:t==n.ADDTYPE_RATE?this.propBaseValue+=Math.ceil(this.maxValue*e):this.propBaseValue*=this.maxValue*e,this.type==a.MAX?this.propBaseValue>this.maxValue&&(this.propBaseValue=this.maxValue):this.propBaseValue>this.maxValue&&(this.maxValue=this.propBaseValue),this.updateFinalValue()},t.prototype.updateFinalValue=function(){this.propFinalValue=this.propBaseValue,this.propFinalValue+=this.addedValue.getValue();var t=this.propFinalValue*this.addedRate.getValue();this.propFinalValue+=t,this.propFinalValue*=this.addedMultiply.getValue(),this.propFinalValue<0&&(this.propFinalValue=0)},t.prototype.getPropertyAddedValue=function(t){return t==n.ADDTYPE_VALUE?this.addedValue:t==n.ADDTYPE_RATE?this.addedRate:this.addedMultiply},t.prototype.addValue=function(t,e){this.getPropertyAddedValue(t).add(e),this.updateFinalValue()},t.prototype.removeValue=function(t,e){this.getPropertyAddedValue(t).remove(e),this.updateFinalValue()},t}();o.AttrInfo=c;var l=function(){function t(){this.attrMap=[],this.initialize()}return t.prototype.getAttribute=function(t){return this.attrMap[t]},t.prototype.setLevel=function(t,e){this.attrMap[t]&&this.attrMap[t].setLevel(e)},t.prototype.getLevel=function(t){return this.attrMap[t].getLevel()},t.prototype.getMaxValue=function(t){return this.attrMap[t].getMaxValue()},t.prototype.getRatioValue=function(t){return this.attrMap[t]?this.attrMap[t].getRatioValue():0},t.prototype.changePropValue=function(t,e,o){this.attrMap[t]&&this.attrMap[t].changePropValue(e,o)},t.prototype.setBasePropValue=function(t,e){this.attrMap[t]&&this.attrMap[t].setBasePropValue(e)},t.prototype.initialize=function(){for(var t=0;t<i.MAX;t++)this.attrMap[t]=new c(r[t])},t.prototype.getPropValue=function(t){return this.attrMap[t]?this.attrMap[t].getPropValue():0},t.prototype.addValue=function(t,e,o){this.attrMap[t]&&this.attrMap[t].addValue(e,o)},t.prototype.removeValue=function(t,e,o){this.attrMap[t]&&this.attrMap[t].removeValue(e,o)},t}();o.AttrManager=l,cc._RF.pop()},{}],audio:[function(t,e,o){"use strict";cc._RF.push(e,"f204dxtTq5GPYqKTBh9qtre","audio"),Object.defineProperty(o,"__esModule",{value:!0}),o.SoundType=void 0;var n=t("./local"),i=t("./event"),a=t("./module"),r=t("./res"),s=t("../engine/MusicManager"),c=t("../engine/SoundManager");(function(t){t[t.NO_LIMIT=0]="NO_LIMIT",t[t.HAS_OTHER=1]="HAS_OTHER",t[t.CLOSE_OTHER=2]="CLOSE_OTHER"})(o.SoundType||(o.SoundType={}));var l=function(){function t(){this.musicMgr=new s.default,this.soundMgr=new c.SoundManager,this.gEventProxy=new i.GEventProxy,this.soundVolume=new n.LocalValue("soundVolume",1),this.musicFlag=new n.LocalValue("musicFlag",1),this.musicVolume=new n.LocalValue("musicVolume",1),this.soundFlag=new n.LocalValue("soundFlag",1)}return t.instance=function(){return this.ins||(this.ins=new this),this.ins},t.prototype.stopSound=function(t){this.soundMgr.stop(t)},t.prototype.stopAllSound=function(){this.soundMgr.stopAll()},t.prototype.getSoundVolume=function(){return this.soundVolume?this.soundVolume.getValue():1},t.prototype.pause=function(){this.getMusicFlag()&&this.musicMgr.pause()},t.prototype.resume=function(){this.getMusicFlag()&&this.musicMgr.resume()},t.prototype.setSoundFlag=function(t){var e=t?1:0;this.soundFlag.setValue(e)},t.prototype.setSoundVolume=function(t){this.soundVolume&&(this.soundVolume.setValue(t),this.soundMgr.setVolume(t))},t.prototype.getMusicVolume=function(){return this.musicVolume?this.musicVolume.getValue():1},t.prototype.getMusicFlag=function(){return!!this.musicFlag&&1==this.musicFlag.getValue()},t.prototype.setMusicVolume=function(t){this.musicVolume&&(this.musicVolume.setValue(t),this.musicMgr.setVolume(t))},t.prototype.getSoundFlag=function(){return 1==this.soundFlag.getValue()},t.prototype.setMusicFlag=function(t){if(this.musicFlag){var e=t?1:0;this.musicFlag.setValue(e)}},t.prototype.stopMusic=function(){this.musicMgr.isPlaying()&&this.musicMgr.stop()},t.prototype.playMusic=function(t,e,o){var n=this;void 0===o&&(o=!0),a.ModuleManager.loadRes(t,e,r.ResType.AudioClip,function(t,i){t||n.musicMgr.play(e,i.getRes(),o)})},t.prototype.playSound=function(t,e,o,n){var i=this;void 0===o&&(o=1),this.getSoundFlag()&&a.ModuleManager.loadRes(t,e,r.ResType.AudioClip,function(t,a){t||i.soundMgr.play(e,a.getRes(),o,n)})},t}();o.default=l,cc._RF.pop()},{"../engine/MusicManager":"MusicManager","../engine/SoundManager":"SoundManager","./event":"event","./local":"local","./module":"module","./res":"res"}],ccpool:[function(t,e,o){"use strict";cc._RF.push(e,"b195diboKdF5bbgGjKoTXbs","ccpool"),Object.defineProperty(o,"__esModule",{value:!0}),o.CCPoolManager=o.SelfPool=o.CCNodePool=void 0;var n=function(){function t(){this.name="",this.pool=new cc.NodePool}return t.prototype.init=function(t,e,o){this.name=t;for(var n=0;n<o;n++){var i=e();this.put(i)}},t.prototype.getName=function(){return this.name},t.prototype.get=function(t){return this.pool.size()>0?this.pool.get():t()},t.prototype.size=function(){return this.pool.size()},t.prototype.put=function(t){this.pool.put(t)},t.prototype.clear=function(){this.pool.clear()},t}();o.CCNodePool=n;var i=function(){function t(t){this.list=[],this.pool=t}return t.prototype.init=function(t,e,o){for(var n=0;n<o;n++)this.put(this.get(e))},t.prototype.get=function(t){var e=this.list.length>0?this.list.shift():this.pool.get(t);return e.opacity=255,e},t.prototype.getPool=function(){return this.pool},t.prototype.size=function(){return this.pool.size()+this.list.length},t.prototype.put=function(t,e){void 0===e&&(e=!1),e?this.pool.put(t):(this.list.push(t),t.stopAllActions(),t.opacity=0)},t.prototype.clear=function(){this.pool.clear(),this.list.length=0},t}();o.SelfPool=i;var a=function(){function t(){this.pools={},this.nameMap={}}return t.instance=function(){return this.ins||(this.ins=new this),this.ins},t.prototype.init=function(t,e,o,n){void 0===n&&(n=!1),this.create(t,n),this.pools[t].init(t,e,o)},t.prototype.create=function(t,e){void 0===e&&(e=!1),this.pools[t]||(this.pools[t]=e?new i(new n):new n)},t.prototype.size=function(t){var e=this.pools[t];return e?e.size():0},t.prototype.getPool=function(t){return this.pools[t].getPool()},t.prototype.get=function(t,e){if(this.create(t),this.pools[t]){var o=this.pools[t].get(e);return this.nameMap[o.name]||o.name==t||(this.nameMap[o.name]=t),o}return null},t.prototype.put=function(t,e){void 0===e&&(e=!1);var o=this.nameMap[t.name];o||(o=t.name),this.pools[o]?this.pools[o].put(t,e):cc.warn(" not have  name ",o," ,go.name ",t.name)},t.prototype.clear=function(t){this.pools[t]&&(this.pools[t].clear(),this.pools[t]=null)},t.prototype.clealAll=function(){for(var t in this.pools)this.clear(t);this.pools={}},t}();o.CCPoolManager=a,cc._RF.pop()},{}],cfw:[function(t,e,o){"use strict";cc._RF.push(e,"e2d67f7jk9JCpCjrzijKs8U","cfw"),Object.defineProperty(o,"__esModule",{value:!0}),o.DataModel=void 0;var n=t("./event"),i=t("./xlsx"),a=t("./local"),r=function(t){function e(e){var o=t.call(this)||this;return o.fileName="",o.fileName=e,o}return __extends(e,t),e.prototype.setFileName=function(t){this.fileName=t},e.prototype.getFileName=function(){return this.fileName},e.prototype.setValue=function(t,e,o){void 0===o&&(o=!0),s.instance().setValue(this.fileName,this.ID,t,e,o),this.emit(this.getEventKey(t),e)},e.prototype.getCfgValue=function(t){return s.instance().getCfgValue(this.fileName,this.ID,t)},e.prototype.getValue=function(t,e){return s.instance().getValue(this.fileName,this.ID,t,e)},e.prototype.saveValue=function(t){s.instance().saveDBValue(this.fileName,this.ID,t)},e.prototype.getEventKey=function(t){return this.fileName+this.ID+t},e.getNewModel=function(t,e){var o=new e;return o.init(t),o},e.getNewModelByKey=function(t,e){var o=this.getNewModel(t,e);return o.setKey(Date.now()+t),o},e}(t("./model").DataItemModel);o.DataModel=r;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this,this.ins.initData()),this.ins},e.prototype.initData=function(){this.config=i.XlsxDataManager.instance(),this.db=a.LocalManager.instance()},e.prototype.getRowData=function(t,e){var o=this.config.get(t);return o?o.getRowData(e):this.db.getRowData(t,e)},e.prototype.getList=function(t){var e=this.config.get(t);return e?e.getData():this.db.getData(t)},e.prototype.getCfgValue=function(t,e,o){var n=this.config.get(t);return n?n.getValue(e,o):null},e.prototype.getValue=function(t,e,o,n){var i=this.config.get(t);if(i){var a=i.getDBName(o),r=i.getValue(e,o);if(a){var s=i.getName(o);return this.getDBValue(a,e,s,r)}return r}return this.getDBValue(t,e,o,n)},e.prototype.setValue=function(t,e,o,n,i){void 0===i&&(i=!0);var a=this.config.get(t);if(a){var r=a.getDBName(o);if(r){var s=a.getName(o);this.setDBValue(r,e,s,n,i)}}else this.setDBValue(t,e,o,n,i);this.emit(this.getEventKey(t,e,o),n)},e.prototype.saveDBValue=function(t){this.db.saveData(t)},e.prototype.setDBValue=function(t,e,o,n,i){void 0===i&&(i=!0),this.db.setValue(t,e,o,n,i),this.emit(t+e+o,n)},e.prototype.getDBValue=function(t,e,o,n){return this.db.getValue(t,e,o,n)},e.prototype.getEventKey=function(t,e,o){return t+e+o},e}(n.EventDispatcher);o.default=s,cc._RF.pop()},{"./event":"event","./local":"local","./model":"model","./xlsx":"xlsx"}],collide:[function(t,e,o){"use strict";cc._RF.push(e,"6a4d6Q7RNdA8bL7DuDpWT+P","collide"),Object.defineProperty(o,"__esModule",{value:!0}),o.QuadTree=o.Bound=o.isRectInRect=o.isRectCollideRect=void 0;var n=t("../engine/unity");function i(t,e){return!(e.x+e.width<t.x||e.y>t.y+t.height||e.x>t.x+t.width||e.y+e.height<t.y)}function a(t,e){return t.x>=e.x&&t.x+t.width<=e.x+e.width&&t.y>=e.y&&t.y+t.height<=e.y+e.height}o.isRectCollideRect=i,o.isRectInRect=a;var r=function(t){function e(e,o,i,a){var r=t.call(this,e,o,i,a)||this;r.cx=0,r.cy=0,r.quadrantList=[],r.cx=r.x+r.width/2,r.cy=r.y+r.height/2;var s=r.width/2,c=r.height/2;return r.quadrantList[0]=new n.IRect(r.cx,r.cy,s,c),r.quadrantList[1]=new n.IRect(r.x,r.cy,s,c),r.quadrantList[2]=new n.IRect(r.x,r.y,s,c),r.quadrantList[3]=new n.IRect(r.cx,r.y,s,c),r}return __extends(e,t),e.prototype.getQuadrantList=function(){return this.quadrantList},e.prototype.isCollide=function(t,e){return i(t,this.quadrantList[e])?e:-1},e.prototype.isInBound=function(t){return a(t,this)},e.prototype.getIndex=function(t){for(var e=0;e<this.quadrantList.length;e++)if(a(t,this.quadrantList[e]))return e;return-1},e}(n.IRect);o.Bound=r;var s=function(){function t(t,e){void 0===e&&(e=0),this.objects=null,this.nodes=null,this.level=0,this.MAX_OBJECTS=0,this.MAX_LEVELS=0,this.objects=[],this.level=e,this.bounds=t,this.MAX_OBJECTS=10,this.MAX_LEVELS=5,this.nodes=[]}return t.prototype.clear=function(){for(var t=this.objects,e=t.length-1;e>=0;e--)t[e].canKill()&&t.splice(e,1)[0].kill();var o=this.nodes.length;for(e=0;e<o;e++)this.nodes[e].clear()},t.prototype.insert=function(t){var e=t.getRect(),o=this.objects,n=-1;if(this.nodes.length>0&&-1!==(n=this.bounds.getIndex(e)))return t.setQuadIndex(n),void this.nodes[n].insert(t);if(t.setQuadIndex(n),o.push(t),!this.nodes.length&&this.objects.length>this.MAX_OBJECTS&&this.level<this.MAX_LEVELS){this.split();for(var i=o.length-1;i>=0;i--)t=o[i],-1!==(n=this.bounds.getIndex(t.getRect()))&&(t.setQuadIndex(n),this.nodes[n].insert(o.splice(i,1)[0]))}},t.prototype.split=function(){for(var e=this.level,o=this.bounds.getQuadrantList(),n=0;n<o.length;n++){var i=o[n];this.nodes.push(new t(new r(i.x,i.y,i.width,i.height),e+1))}},t.prototype.retrieve=function(t,e,o){if(!(++e>10)){if(this.nodes.length){var n=t.getRect();if(-1!==(s=this.bounds.getIndex(n)))this.nodes[s].retrieve(t,e,o);else for(var i=0;i<4;i++){var a=this.bounds.isCollide(n,i);-1!=a&&this.nodes[a].retrieve(t,e,o)}}for(var r=this.objects.length,s=0;s<r;s++){var c=this.objects[s];c.isAlive()&&o.push(c)}}},t.prototype.updateState=function(t){for(var e=0;e<this.objects.length;e++)this.objects[e]?this.objects[e].updateObj(t):console.warn(" QuadTree Error  updateObj obj is null ",e,this.objects.length);var o=this.nodes.length;for(e=0;e<o;e++)this.nodes[e].updateState(t)},t.prototype.checkVisible=function(t){t=t||this;for(var e=this.objects.length-1;e>=0;e--)if(this.objects[e])if(this.objects[e].isVisible()){var o=this.objects[e].getRect();if(this.bounds.isInBound(o)){var n=this.bounds.getIndex(o);this.objects[e].getQuadIndex()!=n&&(-1===n?this!==t?t.insert(this.objects.splice(e,1)[0]):this.objects[e].setQuadIndex(n):this.nodes.length>0?this.nodes[n].insert(this.objects.splice(e,1)[0]):this.objects[e].setQuadIndex(n))}else this!==t?t.insert(this.objects.splice(e,1)[0]):this.objects[e].isVisible()||this.objects.splice(e,1)[0].kill()}else this.objects.splice(e,1)[0].kill();else console.log(" objs[i] is null  index is  ",e," count "+this.objects.length);var i=this.nodes.length;for(e=0;e<i;e++)this.nodes[e].checkVisible(t)},t}();o.QuadTree=s,cc._RF.pop()},{"../engine/unity":"unity"}],config:[function(t,e){"use strict";cc._RF.push(e,"8ebddmjsU9KBqN0doYo5Nik","config"),window.lc_sdk=window.lc_sdk||{},(window.lc_sdk=window.lc_sdk||{}).data={zs_version:"1.0",zs_switch:1},cc._RF.pop()},{}],core:[function(t,e,o){"use strict";cc._RF.push(e,"2d8fa210bpFS7wBZG777sXd","core"),Object.defineProperty(o,"__esModule",{value:!0}),o.TSRef=o.TSObject=void 0;var n=function(){function t(){}return t.instance=function(){return this.ins||(this.ins=new this,this.ins.initData()),this.ins},t.prototype.initData=function(){},t}();o.TSObject=n;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=0,e}return __extends(e,t),e.prototype.getCount=function(){return this.count},e.prototype.sub=function(){this.count--},e.prototype.add=function(){this.count++},e}(n);o.TSRef=i,cc._RF.pop()},{}],engine:[function(t,e,o){"use strict";cc._RF.push(e,"aedefSP0qBLEbFTIfmsRtvx","engine"),Object.defineProperty(o,"__esModule",{value:!0}),o.engine=void 0;var n=function(){function t(){}return t.prototype.getItem=function(t){return cc.sys.localStorage.getItem(t)},t.prototype.getLength=function(){return cc.sys.localStorage.length},t.prototype.setItem=function(t,e){cc.sys.localStorage.setItem(t,e)},t.prototype.clear=function(){cc.sys.localStorage.clear()},t.prototype.removeItem=function(t){cc.sys.localStorage.removeItem(t)},t}(),i=function(){function t(){}return t.prototype.getMaxAudioInstance=function(){return cc.audioEngine.getMaxAudioInstance()},t.prototype.playMusic=function(t,e){return cc.audioEngine.playMusic(t,e)},t.prototype.setFinishCallback=function(t,e){cc.audioEngine.setFinishCallback(t,e)},t.prototype.pauseMusic=function(){cc.audioEngine.pauseMusic()},t.prototype.resumeMusic=function(){cc.audioEngine.resumeMusic()},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.setMusicVolume=function(t){cc.audioEngine.setMusicVolume(t)},t.prototype.isMusicPlaying=function(){return cc.audioEngine.isMusicPlaying()},t.prototype.playEffect=function(t,e,o){var n=0==e,i=cc.audioEngine.playEffect(t,n);return o&&this.setFinishCallback(i,o),i},t.prototype.pauseEffect=function(t){cc.audioEngine.pauseEffect(t)},t.prototype.resumeEffect=function(t){cc.audioEngine.resumeEffect(t)},t.prototype.setEffectsVolume=function(t){cc.audioEngine.setEffectsVolume(t)},t.prototype.stopEffect=function(t){cc.audioEngine.stopEffect(t)},t.prototype.uncacheAll=function(){cc.audioEngine.uncacheAll()},t}(),a=function(){function t(){}return t.getWritablePath=function(){return jsb.fileUtils.getWritablePath()},t.writeStringToFile=function(t,e){jsb.fileUtils.writeStringToFile(t,e)},t.isFileExist=function(t){return jsb.fileUtils.isFileExist(t)},t.getStringFromFile=function(t){return jsb.fileUtils.getStringFromFile(t)},t.addChild=function(t,e){e.addChild(t)},t.callStaticMethod=function(t,e,o,n){if(void 0===n&&(n="(Ljava/lang/String;)V"),console.log(" JsNativeBridge callStaticMethod ",cc.sys.isNative),!cc.sys.isNative)return-1;if(console.log(" JsNativeBridge callStaticMethod ",e,o),cc.sys.os==cc.sys.OS_IOS)(i=jsb.reflection.callStaticMethod(t,e,o))&&console.log("callStaticMethod ios  ",i);else{console.log(" JsNativeBridge callStaticMethod adroid ");var i=jsb.reflection.callStaticMethod(t,e,n,o);if(console.log("callStaticMethod result  ",i),i)return i}},t.createCanvas=function(){var t=document.createElement("canvas");return console.log(" canvas ",t),t},t.find=function(t,e){return cc.find(t,e)},t.getChildByIndex=function(t,e){return t.children[e]},t.findChild=function(t,e){var o=cc.find(t,e);if(o)return o;for(var n=e.children.length,i=0;i<n;i++){var a=e.children[i];if(o=this.findChild(t,a))return o}return null},t.isValid=function(t){return cc.isValid(t)},t.getDefaultBundle=function(){return cc.resources},t.loadRemote=function(t,e){cc.assetManager.loadRemote(t,e)},t.loadBundle=function(t,e){cc.assetManager.loadBundle(t,e)},t.getBundle=function(t){return cc.assetManager.getBundle(t)},t.loadScene=function(t,e){cc.director.loadScene(t,function(t,o){e(t,o)})},t.runScene=function(t){cc.director.runScene(t)},t.instantiate=function(t){return cc.instantiate(t)},t.getComponent=function(t,e){return t.getComponent(e)},t.getChildByName=function(t,e){return t.getChildByName(e)},t.getFrameSize=function(){return cc.view.getFrameSize()},t.getVisibleSize=function(){return cc.view.getVisibleSize()},t.getDesignSize=function(){return cc.Canvas.instance.designResolution},t.getDesignResolutionSize=function(){return cc.view.getDesignResolutionSize()},t.frameAspectRatio=function(){var t=this.getFrameSize();return t.width/t.height},t.designAspectRatio=function(){var t=this.getDesignSize();return t.width/t.height},t.setNodeWH=function(t){var e=this.getWH(),o=e.width,n=e.height;t.width=o,t.height=n},t.getWH=function(){var t=this.getDesignSize(),e=this.getFrameSize(),o=e.width,n=e.height,i=o,a=n;return this.frameAspectRatio()>this.designAspectRatio()?i=(a=t.height)*o/n:a=n/o*(i=t.width),cc.size(i,a)},t.resizeUI=function(){var t=this.getWH(),e=t.width,o=t.height;cc.view.setDesignResolutionSize(e,o,cc.ResolutionPolicy.UNKNOWN);var n=cc.Canvas.instance;n.node.width=e,n.node.height=o},Object.defineProperty(t,"clientScaleX",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"clientScaleY",{get:function(){return 1},enumerable:!1,configurable:!0}),t.audioEngine=new i,t.localStorage=new n,t}();o.engine=a,cc._RF.pop()},{}],event:[function(t,e,o){"use strict";cc._RF.push(e,"ea744N4dD5HVolI8PnXkCmC","event"),Object.defineProperty(o,"__esModule",{value:!0}),o.GEventProxy=o.GEvent=o.EventProxy=o.EventDispatcher=void 0;var n=function(){},i=function(){function t(){this.eventHash={}}return t.prototype.offAll=function(){this.eventHash={}},t.prototype.offByName=function(t){this.eventHash[t]=[]},t.prototype.clearByTarget=function(t,e){var o=this.eventHash[t];if(o&&o.length>0)for(var n=0;n<o.length;n++)if(o[n].ower===e){o.splice(n,1);break}},t.prototype.on=function(t,e,o){if(!(this.has(t,e,o)>=0)){this.eventHash[t]||(this.eventHash[t]=[]);var i=new n;i.ower=o,i.type=t,i.cb=e,this.eventHash[t].push(i)}},t.prototype.has=function(t,e,o){var n=this.eventHash[t];if(n&&n.length>0)for(var i=0;i<n.length;i++){var a=n[i];if(a.ower===o&&a.cb===e)return i}return-1},t.prototype.off=function(t,e,o){var n=this.eventHash[t];if(n&&n.length>0)for(var i=0;i<n.length;i++){var a=n[i];if(a.ower===o&&a.cb===e){n.splice(i,1);break}}},t.prototype.emit=function(t){for(var e,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var i=this.eventHash[t];if(i&&i.length>0)for(var a=0;a<i.length;a++){var r=i[a];(e=r.cb).call.apply(e,__spreadArrays([r.ower],o))}},t}();o.EventDispatcher=i;var a=function(){function t(){this.eventMap={},this.count=0}return t.prototype.setDispatcher=function(t){this.dispatcher=t,this.count=0},t.prototype.on=function(t,e,o){this.count++,this.eventMap[t]||(this.dispatcher.on(t,e,o),this.eventMap[t]={eventName:t,target:o,func:e})},t.prototype.has=function(t){return null!=this.eventMap[t]},t.prototype.offAll=function(){if(this.dispatcher){for(var t in this.eventMap){var e=this.eventMap[t];this.count--,this.dispatcher.off(e.eventName,e.func,e.target)}this.eventMap={}}},t}();o.EventProxy=a;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this),this.ins},e.prototype.pause=function(){this.emit(e.EVENT_HIDE)},e.prototype.resume=function(){this.emit(e.EVENT_SHOW)},e.EVENT_HIDE="EVENT_HIDE",e.EVENT_SHOW="EVENT_SHOW",e.CHANGE_AD_STATE="EVENT_CHANGE_AD_STATE",e.POP_VIEW="POP_VIEW",e.CHANGE_LANG="CHANGE_LANG",e}(i);o.GEvent=r;var s=function(t){function e(){var e=t.call(this)||this;return e.setDispatcher(r.instance()),e}return __extends(e,t),e}(a);o.GEventProxy=s,cc._RF.pop()},{}],lc_sdk:[function(t,e,o){"use strict";cc._RF.push(e,"c25b1wDl/JGVbMsYcoc74R2","lc_sdk"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../sdk/SDKManager"),i=function(){function t(){this.cfg=null,this.appId="",this.secret=""}return t.prototype.initSdkByConf=function(t){this.cfg=t,this.appId=t.appId,this.secret=t.secret},t.prototype.init=function(){},t.prototype.login=function(t){t("")},t.prototype.loadAd=function(t){t({})},t.prototype.loadCfg=function(t,e){this.cfg||e("not initSdkByConf ");var o="http://saree.io/configs/lovehouse/"+this.cfg.channel+".json";n.default.getChannel().request(o,function(o,n){console.log("err ",o,n),o?e(" data is null "):t(n)})},t.prototype.navigate2Mini=function(){},t}();o.default=i,cc._RF.pop()},{"../sdk/SDKManager":"SDKManager"}],local:[function(t,e,o){"use strict";cc._RF.push(e,"7396c3syztLJb4YeBJLBeIk","local"),Object.defineProperty(o,"__esModule",{value:!0}),o.LocalManager=o.LocalMap=o.LocalList=o.LocalValue=o.LocalRW=void 0;var n=t("./storage"),i=t("./tools/StorageHelper"),a=t("./event"),r=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.remove=function(t){i.default.remove(t)},e.prototype.getLength=function(){return i.default.getLength()},e.prototype.read=function(t){try{var e=i.default.getJsonBase64(t);this.emit(t,e)}catch(o){this.emit(t,null)}},e.prototype.write=function(t,e){i.default.setJsonBase64(t,e)},e.prototype.removeSelf=function(t){i.default.remove(t)},e}(n.StorageRW);o.LocalRW=r;var s=function(t){function e(e,o){var n=t.call(this,e,o,r.instance())||this;return n.getStorage(),n}return __extends(e,t),e}(n.StorageValue);o.LocalValue=s;var c=function(t){function e(e,o){var n=t.call(this,e,o,r.instance())||this;return n.getStorage(),n}return __extends(e,t),e}(n.StorageList);o.LocalList=c;var l=function(t){function e(e,o){var n=t.call(this,e,o,r.instance())||this;return n.getStorage(),n}return __extends(e,t),e}(n.StorageMap);o.LocalMap=l;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.storage={},e}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this),this.ins},e.prototype.remove=function(t){this.storage[t]&&(this.storage[t]=null)},e.prototype.getData=function(t){var e=this.storage[t];return e||(e=new l(t,null),this.storage[t]=e),e},e.prototype.getRowData=function(t,e){var o=this.storage[t];if(!o)return null;var n=o.get(e);return n?n[e]:null},e.prototype.saveData=function(t){this.getData(t).saveValue()},e.prototype.getValue=function(t,e,o,n){void 0===n&&(n=0);var i=this.getData(t).get(e);return null==i&&(i={}),null!=i[o]&&null!=i[o]||(i[o]=n),i[o]},e.prototype.setValue=function(t,e,o,n,i){var a=this.getData(t);if(a){var r=a.get(e);null==r&&(r={}),r[o]=n,a.set(e,r,i)}},e}(a.EventDispatcher);o.LocalManager=u,cc._RF.pop()},{"./event":"event","./storage":"storage","./tools/StorageHelper":"StorageHelper"}],model:[function(t,e,o){"use strict";cc._RF.push(e,"8431cGldJNJGL/uHNqLLbLi","model"),Object.defineProperty(o,"__esModule",{value:!0}),o.ModelManager=o.DataItemModel=o.BaseItemModel=o.SingleModel=o.BaseModel=o.ItemState=o.getItemType=o.TYPE_LEN=void 0;var n,i=t("./event"),a=t("./struct");function r(t){return Math.floor(t/o.TYPE_LEN)}o.TYPE_LEN=1e3,o.getItemType=r,function(t){t[t.NOT_GET=0]="NOT_GET",t[t.GOT=1]="GOT",t[t.CAN_GET=2]="CAN_GET",t[t.ON_GOING=3]="ON_GOING"}(n=o.ItemState||(o.ItemState={}));var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this,this.ins.initData()),this.ins},e.prototype.initData=function(){},e}(i.EventDispatcher);o.BaseModel=s;var c=function(t){function e(){var e=t.call(this)||this;return e.ins||(e.ins=e),e.ins}return __extends(e,t),e}(s);o.SingleModel=c;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.num=0,e.preNum=0,e}return __extends(e,t),e.prototype.getKey=function(){return this.key},e.prototype.setKey=function(t){this.key=t},e.prototype.setState=function(t){this.state=t,this.emit(e.UPDATE_STATE)},e.prototype.isOpen=function(){return this.getState()==n.GOT},e.prototype.getState=function(){return this.state},e.prototype.getName=function(){return this._name},e.prototype.setName=function(t){this._name=t},e.prototype.getIcon=function(){return""},e.prototype.getDesc=function(){return""},e.prototype.getTipDesc=function(){return this.getName()},e.prototype.setNum=function(t,e){var o;return void 0===e&&(e=!0),this.preNum=this.num,o=t!=this.preNum,this.num=t,o},e.prototype.getPreNum=function(){return this.preNum},e.prototype.getNum=function(t){return void 0===t&&(t=!0),this.num},e.prototype.getDeltaNum=function(){return this.num-this.preNum},e.prototype.getType=function(){return this.type},e.prototype.setType=function(t){this.type=t},e.prototype.setID=function(t){this.ID=t,t>o.TYPE_LEN&&this.setType(r(t))},e.prototype.getID=function(){return this.ID},e.prototype.getTime=function(){return-1},e.prototype.getScale=function(){return 1},e.prototype.getModuleID=function(){return""},e.prototype.getSpriteFrame=function(){return""},e.UPDATE_STATE="update_item_state",e}(s);o.BaseItemModel=l;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fileName="",e.data=null,e}return __extends(e,t),e.prototype.init=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];this.setID(t),this.data=e},e.prototype.getIndex=function(){return this.ID-1},e.prototype.getData=function(){return this.data},e}(l);o.DataItemModel=u;var d=function(){function t(){this.itemMap=new a.TSMap,this.itemList=[],this.indexData=new a.TSMap}return t.prototype.getData=function(){return this.data},t.prototype.getNewModel=function(t,e,o){var n=new e(o),i=this.data.getRowData(t);return n.init(t,i),n},t.prototype.getNewModelByKey=function(t,e,o){var n=this.getNewModel(t,e);return n.setKey(o),n},t.prototype.initWithData=function(t,e,o){var n=this;this.data=t,this.data?(t.forEach(function(t,i){var a=new e(o);a.init(t,i),n.itemMap.set(t,a),n.itemList.push(a)}),console.log(e,t.getData().length)):console.warn(" initVithData is null ")},t.prototype.getIndex=function(t){return this.data.getIndex(t)},t.prototype.getByIndex=function(t){if(t>=0&&t<=this.itemList.length-1)return this.itemList[t]},t.prototype.getByID=function(t){return this.itemMap.get(t)},t.prototype.size=function(){return this.itemMap.size()},t.prototype.getList=function(){return this.itemList},t.prototype.getMap=function(){return this.itemMap},t.prototype.clear=function(){this.data=null,this.itemMap.clear(),this.itemList.length=0},t.prototype.getIndexData=function(t,e){if(!this.data)return console.warn(" getIndexData error ",t,e),[];var o=t+e;if(!this.indexData.has(o)){for(var n=[],i=this.data.getIndexByID(t,e),a=0;a<i.length;a++){var r=i[a];n.push(this.getByID(r))}this.indexData.set(o,n)}return this.indexData.get(o)},t.prototype.sortitemList=function(t){this.itemList.sort(t)},t.prototype.copy=function(){for(var t=[],e=0;e<this.itemList.length;e++){var o=this.itemList[e];t.push(o)}return t},t}();o.ModelManager=d,cc._RF.pop()},{"./event":"event","./struct":"struct"}],module:[function(t,e,o){"use strict";cc._RF.push(e,"6db4eYiZS5DF5zLkRbG2Hwd","module"),Object.defineProperty(o,"__esModule",{value:!0}),o.BundleManager=o.ModuleManager=o.Module=void 0;var n=t("./xlsx"),i=t("./res"),a=t("./tools/Define"),r=t("../engine/ResHelper"),s=function(){function t(t,e){this.projectName="",this.projectName=t,this.config=e,e.isBundle||this.setLoaderByBundle(null),this.dataManager=new n.XlsxDataManager}return t.prototype.hasLoader=function(){return!a.isNull(this.loader)},t.prototype.setLoader=function(t){this.loader=t},t.prototype.setLoaderByBundle=function(t){if(!this.hasLoader()){var e=this.config.bundleName;l.instance().getBundle(e)||l.instance().addBundle(e,new r.default(t,e)),this.setLoader(new i.ResLoader(l.instance().getBundle(e)))}},t.prototype.getDataManager=function(){return this.dataManager},t.prototype.isBundle=function(){return this.config.isBundle},t.prototype.getName=function(){return this.config.bundleName},t.prototype.getLoader=function(){return this.loader},t.prototype.release=function(){this.loader?this.loader.release():console.warn("release loader is null name ",this.getName())},t.prototype.loadRes=function(t,e,o,n){this.loader?this.loader.loadRes(t,e,o,n):console.warn("loadRes loader is null name ",this.getName())},t.prototype.getRes=function(t,e){return this.loader?this.loader.getRes(t,e):(console.warn("getres loader is null"),null)},t}();o.Module=s;var c=function(){function t(){}return t.setDefaultID=function(t){this.defaultID=t},t.getModuleList=function(){return this.moduleList},t.init=function(t,e){for(var o=0;o<e.length;o++){var n=e[o],i=new s(t,n);n.isBundle&&this.moduleList.push(n.name),this.moduleMap[n.name]=i}},t.getRes=function(t,e,o){var n=this.getModule(t);return n?n.getRes(e,o):(console.warn("getres loader is null"),null)},t.loadRes=function(t,e,o,n,i){var a=this.getModule(t);a?a.loadRes(e,o,n,i):n("loader is null name "+this.name,null)},t.getName=function(t){return this.getModule(t).getName()},t.loadBundle=function(t,e){var o=this;this.getModule(this.defaultID).loadRes(t,i.ResType.AssetBundle,function(n,i){n?e&&e(0):(o.setLoaderByBundle(t,i.getRes()),e&&e(1))})},t.setLoaderByBundle=function(t,e){void 0===t&&(t=this.moduleID),this.moduleMap[t]?this.moduleMap[t].setLoaderByBundle(e):console.warn("moduleMap is null  ",t)},t.getModule=function(t){return this.moduleMap[t]},t.setModuleID=function(t){this.moduleID=t},t.release=function(t){void 0===t&&(t=this.moduleID),this.getModule(t).release()},t.hasLoader=function(t){return void 0===t&&(t=this.moduleID),this.getModule(t).hasLoader()},Object.defineProperty(t,"dataManager",{get:function(){return n.XlsxDataManager.instance()},enumerable:!1,configurable:!0}),t.addFile=function(t,e){this.dataManager.addFile(t,e)},t.getData=function(t){return this.dataManager.get(t)},t.moduleID="res",t.moduleList=[],t.moduleMap={},t.defaultID="res",t}();o.ModuleManager=c;var l=function(){function t(){this.bundles={}}return t.instance=function(){return this.ins||(this.ins=new t),this.ins},t.prototype.addBundle=function(t,e){this.bundles[t]=e},t.prototype.hasBundle=function(t){return null!=this.bundles[t]&&null!=this.bundles[t]},t.prototype.getBundle=function(t){var e=this.bundles[t];return e&&e.add(),e},t.prototype.removeBundle=function(t){var e=this.bundles[t];e&&(e.sub(),e.getCount()<=0&&(this.bundles[t]=null))},t}();o.BundleManager=l,cc._RF.pop()},{"../engine/ResHelper":"ResHelper","./res":"res","./tools/Define":"Define","./xlsx":"xlsx"}],mvc:[function(t,e,o){"use strict";cc._RF.push(e,"67c5djP3ANCUrZNnOV1VQwS","mvc"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameMediator=o.SingleController=o.BaseController=void 0;var n=t("./event"),i=t("./tools/ViewManager"),a=t("./struct"),r=t("./tools/Singleton"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this,this.ins.initData()),this.ins},e.prototype.initData=function(){},e.prototype.pushToast=function(t,e,o,n,a,r){var s=this;i.default.pushToast(t,o,n,function(t){t&&(t.setController(s),e&&t.setModel(e),r&&r(t),t.show())},a)},e.prototype.pushView=function(t,e,o,n,a,r){var s=this;i.default.pushView(t,o,n,function(o){o?(o.setController(s),e&&o.setModel(e),r&&r(o),o.show()):console.warn(" component is null prefab ",t)},a)},e.prototype.initView=function(t,e){return t.setController(this),e&&t.setModel(e),t},e}(n.EventDispatcher);o.BaseController=s;var c=function(t){function e(){var e=t.call(this)||this;return e.ins||(e.ins=e),e.ins}return __extends(e,t),e}(s);o.SingleController=c;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.controllers=new a.TSMap,e}return __extends(e,t),e.prototype.register=function(t,e){this.controllers.set(t,e)},e.prototype.remove=function(t){this.controllers.remove(t)},e.prototype.get=function(t){var e=this.controllers.get(t);return e||console.error(" funcID is null ",t),e},e.prototype.intoLayer=function(t,e){var o=this.get(t);o?o.intoLayer(e):console.log("c is null ")},e}(r.default);o.GameMediator=l,cc._RF.pop()},{"./event":"event","./struct":"struct","./tools/Singleton":"Singleton","./tools/ViewManager":"ViewManager"}],native:[function(t,e,o){"use strict";cc._RF.push(e,"d787336nwdCirHTAn4xW5x+","native"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../tools/SDKEvent"),i=t("./ads/NativeSelftRenderAd"),a=t("./ads/NativeNativeAd"),r=t("./ads/NativeBannerAd"),s=t("./ads/NativeRewardedVideoAd"),c=t("./ads/NativeTemplateAd"),l=t("./ads/NativeInterstitialAd"),u=t("./NativeName"),d=t("./NativeSystem"),p=t("./NativeAgreement"),h="$$",f=function(){function t(){}return t.createSelfRenderAd=function(t){var e=new i.default;return e.data=t,e.create(t),e},t.createNativeAd=function(t){var e=new a.default;return e.data=t,e.create(t),e},t.createBannerAd=function(t){var e=new r.default;return e.data=t,e.create(t),e},t.createRewardedVideoAd=function(t){console.log("NativeTest createRewardedVideoAd data ",t);var e=new s.default;return e.data=t,e.create(t),e},t.createInterstitialAd=function(t){var e=new l.default;return e.data=t,e.create(t),e},t.createTemplateAd=function(t){var e=new c.default;return e.data=t,e.create(t),e},t.getSystemInfoSync=function(){return{width:300,height:200}},t.bannerAdCallback=function(t){console.log("NativeTest bannerAdCallback param",t);var e=t.split(h),o=e[0],i=parseInt(e[1]);n.default.instance().emit(u.default.bannerAdCallback,o,i)},t.bannerResize=function(t){console.log("NativeTest bannerResize param",t);var e=t.split(h),o=e[0],i=e[1];n.default.instance().emit(u.default.bannerResize,o,i)},t.insertAdCallback=function(t){var e=t.split(h),o=e[0],i=parseInt(e[1]);n.default.instance().emit(u.default.insertAdCallback,o,i)},t.rewardAdCallback=function(t){console.log("NativeTest rewardAdCallback param",t);var e=t.split(h),o=e[0],i=parseInt(e[1]);console.log("NativeTest rewardAdCallback result ",o,i),n.default.instance().emit(u.default.rewardAdCallback,o,i)},t.rewardAdClose=function(t){console.log("NativeTest rewardAdClose param",t);var e=t.split(h),o=e[0],i=parseInt(e[1]);console.log("NativeTest rewardAdClose result ",o,i),n.default.instance().emit(u.default.rewardAdClose,o,i)},t.templateAdCallback=function(t){console.log("NativeTest templateAdCallback param",t);var e=t.split(h),o=e[0],i=parseInt(e[1]);console.log("NativeTest templateAdCallback result ",o,i),n.default.instance().emit(u.default.templateAdCallback,o,i)},t.selfRenderAdCallback=function(t){console.log("NativeTest selfRenderAdCallback param",t);var e=t.split(h),o=e[0],i=parseInt(e[1]);console.log("NativeTest selfRenderAdCallback result ",o,i),n.default.instance().emit(u.default.selfRenderAdCallback,o,i)},t.login=function(t){d.default.login(t)},t.loginCallback=function(t){d.default.loginCallback(t)},t.showUserAgreement=function(t){p.default.showUserAgreement(t)},t.userAgreementCallback=function(t){p.default.userAgreementCallback(t)},t.exitApplication=function(t){d.default.exitApp(t)},t.exitMiniProgram=function(t){d.default.exitApp(t)},t.initAd=function(){d.default.initAd()},t}();o.default=f,window.native=f,cc._RF.pop()},{"../tools/SDKEvent":"SDKEvent","./NativeAgreement":"NativeAgreement","./NativeName":"NativeName","./NativeSystem":"NativeSystem","./ads/NativeBannerAd":"NativeBannerAd","./ads/NativeInterstitialAd":"NativeInterstitialAd","./ads/NativeNativeAd":"NativeNativeAd","./ads/NativeRewardedVideoAd":"NativeRewardedVideoAd","./ads/NativeSelftRenderAd":"NativeSelftRenderAd","./ads/NativeTemplateAd":"NativeTemplateAd"}],pool:[function(t,e,o){"use strict";cc._RF.push(e,"84996NrfthEsqzdGOy+b013","pool"),Object.defineProperty(o,"__esModule",{value:!0}),o.TSPoolManager=o.PoolManager=o.ObjectPool=void 0;var n=t("./struct"),i=function(){function t(){this.buffList=[]}return t.prototype.init=function(t,e,o){this.key=t;for(var n=0;n<o;n++){var i=e();this.put(i)}},t.prototype.get=function(t){return this.buffList.length>0?this.buffList.shift():t()},t.prototype.put=function(t){this.buffList.push(t)},t.prototype.size=function(){return this.buffList.length},t.prototype.destroy=function(){this.buffList.length=0},t.prototype.clear=function(){this.buffList.length=0},t}();o.ObjectPool=i;var a=function(){function t(){this.map=new n.TSMap}return t.instance=function(){return this.ins||(this.ins=new this),this.ins},t.prototype.init=function(t,e,o){this.map.has(t)||this.map.set(t,new i),this.map.get(t).init(t,e,o)},t.prototype.get=function(t,e){return this.map.has(t)||this.map.set(t,new i),this.map.get(t).get(e)},t.prototype.put=function(t,e){this.map.has(t)||this.map.set(t,new i),this.map.get(t).put(e)},t.prototype.size=function(t){return this.map.has(t)?this.map.get(t).size():0},t.prototype.destroy=function(){this.map.forEach(function(t,e){e.destroy()}),this.map.clear()},t}();o.PoolManager=a;var r=function(){function t(){}return t.instance=function(){return this.ins||(this.ins=new this),this.ins},t.prototype.init=function(t,e,o){void 0===o&&(o=1),a.instance().init(t,function(){return new e},o)},t.prototype.get=function(t,e){return a.instance().get(t,function(){return new e})},t.prototype.put=function(t){a.instance().put(t.getKey(),t)},t}();o.TSPoolManager=r,cc._RF.pop()},{"./struct":"struct"}],res:[function(t,e,o){"use strict";cc._RF.push(e,"533e2bifYhFb54WkM4/TD9L","res"),Object.defineProperty(o,"__esModule",{value:!0}),o.ResLoader=o.ResItem=o.LoadResItem=o.LoadingItem=o.ResType=void 0,function(t){t[t.Texture2D=0]="Texture2D",t[t.SpriteFrame=1]="SpriteFrame",t[t.SpriteAtlas=2]="SpriteAtlas",t[t.Prefab=3]="Prefab",t[t.Json=4]="Json",t[t.Scene=5]="Scene",t[t.Material=6]="Material",t[t.AnimationClip=7]="AnimationClip",t[t.Mesh=8]="Mesh",t[t.Particle2D=9]="Particle2D",t[t.AudioClip=10]="AudioClip",t[t.AssetBundle=11]="AssetBundle",t[t.Remote=12]="Remote",t[t.Scene3D=13]="Scene3D",t[t.Sprite3D=14]="Sprite3D"}(o.ResType||(o.ResType={}));var n=function(){function t(t,e){this.url=t,this.type=e}return t.prototype.getUrl=function(){return this.url},t.prototype.getType=function(){return this.type},t}();o.LoadingItem=n;var i=function(t){function e(e,o,n,i){var a=t.call(this,e,o)||this;return a.tip="",a.moduleID=n,a.tip=i,a}return __extends(e,t),e.prototype.getTip=function(){return this.tip},e.prototype.getModuleID=function(){return this.moduleID},e}(n);o.LoadResItem=i;var a=function(t){function e(e,o,n){var i=t.call(this,o,n)||this;return i.loadCount=0,i.useCount=0,i.loadFinish=!1,i.callbackList=[],i.resHelper=e,i}return __extends(e,t),e.prototype.addCallback=function(t){this.callbackList.push(t)},e.prototype.clearCallback=function(){this.callbackList.length=0},e.prototype.isDone=function(){return this.loadFinish},e.prototype.getRes=function(){return this.addCount(),this.res||(this.res=this.resHelper.getRes(this.url,this.type)),this.res},e.prototype.setLoadingFlag=function(t){for(this.loadFinish=t;this.callbackList.length>0;)this.callbackList.shift()(!t,this)},e.prototype.cacheRes=function(t){this.res=t,this.addCount()},e.prototype.getLoadCount=function(){return this.loadCount},e.prototype.updateLoadCount=function(){this.loadCount++},e.prototype.getUseCount=function(){return this.useCount},e.prototype.releaseAll=function(){for(;this.useCount>0;)this.release()},e.prototype.release=function(){return!(this.useCount>0)||(this.subCount(),0==this.useCount)},e.prototype.subCount=function(){this.useCount--;var t=this.url+this.type;e.resCountMap[t]>0&&(e.resCountMap[t]--,0==e.resCountMap[t]&&(this.resHelper.release(this.url,this.type),delete e.resCountMap[t]))},e.prototype.addCount=function(){this.useCount++;var t=this.url+this.type;e.resCountMap[t]||(e.resCountMap[t]=0),e.resCountMap[t]++},e.resCountMap={},e}(n);o.ResItem=a;var r=function(){function t(t){this.helper=null,this.resCache={},this.helper=t}return t.prototype.releaseRes=function(t,e){var o=this.getKey(t,e),n=this.resCache[o];n?(n.releaseAll(),this.resCache[o]=null):console.warn("releaseRes item is null  ts  ",o)},t.prototype.release=function(){console.log(" ResLoader release ================== ");for(var t=Object.keys(this.resCache),e=0;e<t.length;e++){var o=t[e],n=this.resCache[o];n&&(n.releaseAll(),this.resCache[o]=null)}this.helper.clear()},t.prototype.getKey=function(t,e){return t+e},t.prototype.loadArray=function(t,e,o){for(var n=0,i=0;i<t.length;i++){var a=t[i];this.loadRes(a,e,function(e){if(e)return console.log(e),void o(e,n/t.length);o(e,++n/t.length)})}},t.prototype.getItem=function(t,e){var o=this.getKey(t,e);if(this.resCache[o])return this.resCache[o];var n=new a(this.helper,t,e);this.resCache[o]=n},t.prototype.cacheRes=function(t,e,o){var n=this.getKey(t,e),i=this.resCache[n];i||((i=new a(this.helper,t,e)).cacheRes(o),this.resCache[n]=i)},t.prototype.loadResByPromise=function(t,e){var o=this;return new Promise(function(n,i){var r=o.getKey(t,e),s=o.resCache[r];if(s&&s.isDone())n(s);else{s||(s=new a(o.helper,t,e),o.resCache[r]=s);var c=function(a,l){s.updateLoadCount(),a?s.getLoadCount()<=3?(console.warn(" item.getLoadCount()  =========== ",s.getLoadCount()),o.helper.loadRes(t,e,c)):(console.warn(" res load fail url is "+t),o.resCache[r]=null,s.setLoadingFlag(!1),i(s)):(s.cacheRes(l),o.resCache[r]?n(s):s.subCount())};o.helper.loadRes(t,e,c)}})},t.prototype.loadRes=function(t,e,o,n){var i=this,r=this.getKey(t,e),s=this.resCache[r];if(s&&s.isDone())o(null,s);else if(s)s.addCallback(o);else{s=new a(this.helper,t,e),this.resCache[r]=s,s.addCallback(o);var c=function(o,a){s.updateLoadCount(),o?s.getLoadCount()<=3?(console.warn(" item.getLoadCount()  =========== ",s.getLoadCount()),i.helper.loadRes(t,e,c,n)):(console.warn(" res load fail url is "+t),i.resCache[r]=null,s.setLoadingFlag(!1)):(s.cacheRes(a),i.resCache[r]?s.setLoadingFlag(!0):s.subCount())};this.helper.loadRes(t,e,c,n)}},t.prototype.getRes=function(t,e){var o=this.getKey(t,e),n=this.resCache[o];if(n)return n.getRes();var i=this.helper.getRes(t,e);if(i){console.log(" \u5176\u4ed6\u52a0\u8f7d\u5668\u5df2\u7ecf\u52a0\u8f7d\u4e86\u6b21\u8d44\u6e90 ",t);var r=new a(this.helper,t,e);return r.cacheRes(i),this.resCache[o]=r,r.getRes()}return console.warn("getRes url ",t," ts ",o),null},t}();o.ResLoader=r,cc._RF.pop()},{}],state:[function(t,e,o){"use strict";cc._RF.push(e,"775e0tvJlFMQrMYfROCr2ex","state"),Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleActionManager=o.NPCManager=o.GameState=void 0;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=0,e.preState=-1,e.data=[],e}return __extends(e,t),e.prototype.changeState=function(t,e){this.endState(e),this.preState=this.state,this.setState(t),this.beginState(e)},e.prototype.getPreState=function(){return this.preState},e.prototype.beginState=function(){},e.prototype.endState=function(){},e.prototype.setState=function(t){this.state=t},e.prototype.getState=function(){return this.state},e.prototype.updateState=function(){},e}(t("../engine/Component3D").default);o.GameState=n;var i=function(){function t(){this.npcList=[],this.removeList=[],this.buffer=[]}return t.prototype.push=function(t){this.npcList.push(t)},t.prototype.remove=function(t){this.removeList.push(t)},t.prototype.recover=function(){for(;this.removeList.length>0;){var t=this.removeList.shift();this.delete(t)}},t.prototype.recoverAll=function(){for(var t=0;t<this.npcList.length;t++){var e=this.npcList[t];this.buffer.push(e)}this.npcList.length=0},t.prototype.delete=function(t){var e=this.npcList.indexOf(t);e>=0&&(this.buffer.push(t),this.npcList.splice(e,1))},t.prototype.getByIndex=function(t){return this.npcList[t]},t.prototype.get=function(t){return this.buffer.length>0?this.buffer.shift():t()},t.prototype.getList=function(){return this.npcList},t.prototype.size=function(){return this.npcList.length},Object.defineProperty(t.prototype,"length",{get:function(){return this.size()},enumerable:!1,configurable:!0}),t.prototype.clear=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t].destroy();this.buffer.length=0},t}();o.NPCManager=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setTarget=function(t){this.target=t},e.prototype.init=function(){},e.prototype.getAction=function(){return this.getState()},e.prototype.onActionFinish=function(){},e.prototype.isActionFinish=function(){return!1},e.prototype.complete=function(){},e}(n);o.SimpleActionManager=a,cc._RF.pop()},{"../engine/Component3D":"Component3D"}],storage:[function(t,e,o){"use strict";cc._RF.push(e,"a5efdUcFLJOSZeVHlP4HLqC","storage"),Object.defineProperty(o,"__esModule",{value:!0}),o.StorageMap=o.StorageList=o.StorageValue=o.BaseStorage=o.StorageRW=void 0;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this),this.ins},e.prototype.getLength=function(){return-1},e.prototype.remove=function(){},e}(t("./event").EventDispatcher);o.StorageRW=n;var i=function(){function t(e,o,n){this.dataFlag=!0,this.key=t.LOCAL_NAME+e,this.initValue=o,this._rw=n,this._rw.on(this.key,this.loadValue,this)}return t.prototype.setInitValue=function(t){this.initValue=t},t.prototype.isHaveData=function(){return this.dataFlag},t.prototype.getLength=function(){return this._rw.getLength()},t.prototype.saveValue=function(){this._rw.write(this.key,this.value)},t.prototype.getStorage=function(){this._rw.read(this.key,this._param)},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t,e){void 0===e&&(e=!0),this.value!=t&&(this.value=t,e&&this.saveValue())},t.prototype.remove=function(){this._rw.remove(this.key)},t.prototype.delete=function(){},t.prototype.removeSelf=function(){this._rw.remove(this.key)},t.LOCAL_NAME="",t}();o.BaseStorage=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.loadValue=function(t){null!=t&&null!=t?(this.value=t,this.dataFlag=!0):(this.value=this.initValue,this.dataFlag=!1)},e.prototype.getFloat=function(){return parseFloat(this.value)},e.prototype.getInt=function(){return parseInt(this.value)},e.prototype.updateValue=function(t){var e=this.getInt()+parseInt(t);e<0&&(e=0),this.setValue(e)},e}(i);o.StorageValue=a;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.get=function(t){var e=this.value[t];return null!=e&&null!=e||(e=this.initValue,this.value[t]=e),e},e.prototype.getInt=function(t){var e=this.get(t);return parseInt(e)},e.prototype.getFloat=function(t){var e=this.get(t);return parseFloat(e)},e.prototype.updateValue=function(t,e){var o=this.getInt(t)+parseInt(e);o<=0&&(o=0),this.set(t,o)},e.prototype.loadValue=function(t){null!=t&&null!=t?(this.value=t,this.dataFlag=!0):(this.value=[],this.dataFlag=!1)},e.prototype.size=function(){return this.value.length},e.prototype.push=function(t,e){void 0===e&&(e=!0),this.value.push(t),e&&this.saveValue()},e.prototype.set=function(t,e,o){void 0===o&&(o=!0),this.value[t]!=e&&(this.value[t]=e,o&&this.saveValue())},e.prototype.remove=function(t){null!=this.value[t]&&(this.value.splice(t,1),this.saveValue())},e.prototype.delete=function(t){for(var e=0;e<this.value.length;e++)if(this.value[e]==t){this.remove(e);break}},e.prototype.has=function(t){return this.value.indexOf(t)>=0},e}(i);o.StorageList=r;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=0,e}return __extends(e,t),e.prototype.loadValue=function(t){if(null!=t&&null!=t){for(var e in this.value=t,t)t.hasOwnProperty(e)&&this.count++;this.dataFlag=!0}else this.value={},this.dataFlag=!1},e.prototype.size=function(){return this.count},e.prototype.get=function(t){var e=this.value[t];return null!=e&&null!=e||(e=this.initValue,this.value[t]=this.initValue),e},e.prototype.getInt=function(t){var e=this.get(t);return parseInt(e)},e.prototype.getFloat=function(t){var e=this.get(t);return parseFloat(e)},e.prototype.has=function(t){return null!=this.value[t]&&null!=this.value[t]},e.prototype.updateValue=function(t,e){var o=this.getInt(t)+parseInt(e);o<=0&&(o=0),this.set(t,o)},e.prototype.set=function(t,e,o){void 0===o&&(o=!0),null==this.value[t]&&this.count++,this.value[t]!=e&&(this.value[t]=e),o&&this.saveValue()},e.prototype.remove=function(t){this.value[t]&&(this.count--,this.value[t]=null,delete this.value[t],this.saveValue())},e}(i);o.StorageMap=s,cc._RF.pop()},{"./event":"event"}],struct:[function(t,e,o){"use strict";cc._RF.push(e,"f033bG4ykBCgqTMAHqlUeTf","struct"),Object.defineProperty(o,"__esModule",{value:!0}),o.TSTree=o.TSMap=o.MapList=o.LinkNode=o.LinkList=void 0;var n=function(){function t(){this.count=0}return t.prototype.push=function(t){var e=new i;this.count++,e.setObj(t),e.setPre(this.end),this.first||(this.first=e),this.end&&this.end.setNext(e),this.end=e},t.prototype.size=function(){return this.count},t.prototype.getFirt=function(){return this.first},t.prototype.getEnd=function(){return this.end},t}();o.LinkList=n;var i=function(){function t(){}return t.prototype.setPre=function(t){this.pre=t},t.prototype.getPre=function(){return this.pre},t.prototype.setNext=function(t){this.next=t},t.prototype.getNext=function(){return this.next},t.prototype.setObj=function(t){this.obj=t},t.prototype.getObj=function(){return this.obj},t}();o.LinkNode=i;var a=function(){function t(){this.list=[],this.map=new r}return t.prototype.push=function(t,e){this.has(t)||(this.list.push(e),this.map.set(t,e))},t.prototype.insert=function(t,e,o){if(0==this.list.length)this.list.push(e),this.map.set(t,e);else if(!this.has(t))if(o(e,this.list[this.length-1]))this.list.push(e),this.map.set(t,e);else for(var n=0;n<this.list.length;n++)if(!o(e,this.list[n])){this.list.splice(n,0,e),this.map.set(t,e);break}},t.prototype.getByIndex=function(t){return this.list[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.list.length},enumerable:!1,configurable:!0}),t.prototype.sort=function(t){return this.list.sort(t)},t.prototype.getList=function(){return this.list},t.prototype.getMap=function(){return this.map},t.prototype.has=function(t){return this.map.has(t)},t.prototype.getByKey=function(t){return this.map.get(t)},t.prototype.remove=function(t,e){var o=this.list.indexOf(e);o>=0&&(this.list.splice(o,1),this.map.delete(t))},t}();o.MapList=a;var r=function(){function t(){this.value={},this.init()}return t.prototype.init=function(){this.value={},this.count=0},Object.defineProperty(t.prototype,"values",{get:function(){return this.value},enumerable:!1,configurable:!0}),t.prototype.getArray=function(){var t=[];for(var e in this.value)if(this.value.hasOwnProperty(e)){var o=this.value[e];t.push(o)}return t},t.prototype.forEach=function(t){for(var e in this.value)this.value.hasOwnProperty(e)&&t(e,this.value[e])},t.prototype.keySet=function(){var t=[];for(var e in this.value)t.push(e);return t},t.prototype.set=function(t,e){t=""+t,this.has(t)||this.count++,this.value[t]=e},t.prototype.put=function(t,e){t=""+t,this.set(t,e)},t.prototype.has=function(t){return t=""+t,null!=this.value[t]&&null!=this.value[t]},t.prototype.get=function(t){return t=""+t,this.value[t]},t.prototype.remove=function(t){return t=""+t,this.delete(t)},t.prototype.delete=function(t){t=""+t;var e=this.value[t];return this.value[t]=null,delete this.value[t],this.count--,e},t.prototype.release=function(){for(var t in this.value)this.value[t].release()},t.prototype.size=function(){return this.count},t.prototype.clear=function(){for(var t in this.value)this.delete(t)},t.prototype.add=function(t){var e=this;t.forEach(function(t,o){e.set(o,t)})},t}();o.TSMap=r;var s=function(){function t(){this.children=[]}return t.prototype.setData=function(t){this.data=t},t.prototype.getData=function(){return this.data},t.prototype.putChild=function(t,e){this.children[t]=e},t.prototype.addChild=function(t){this.children.push(t)},t.prototype.getChildren=function(){return this.children},t}();o.TSTree=s,cc._RF.pop()},{}],time:[function(t,e,o){"use strict";var n;cc._RF.push(e,"d7533okKuNLvovoE1Ts8lbz","time"),Object.defineProperty(o,"__esModule",{value:!0}),o.JSTimer=o.TimeType=o.TimeManager=o.SplitFrameLoader=o.FrameTimer=o.SheduleTimer=o.IncrementalTimer=o.CountDownTimer=o.TimeObserver=o.TimeHelper=o.TimeDisplay=void 0,function(t){t[t.FONT=0]="FONT",t[t.POINT=1]="POINT"}(n||(n={}));var i=function(){function t(){}return t.getFontString=function(t){return t=Math.floor(t),this.getTimeString(t,n.FONT)},t.getPointString=function(t){return t=Math.floor(t),this.getTimeString(t,n.POINT)},t.getTimeString=function(t,e){if(void 0===e&&(e=n.FONT),!t||0===t)return"00:00:00";var o=t,i=o%60,a=Math.floor(o/60%60),r=Math.floor(o/3600%24),s=Math.floor(o/3600/24),c=""+i;i<10&&(c="0"+c);var l=""+a;a<10&&(l="0"+l);var u=""+r;return r<10&&(u="0"+u),s>0?s+"d"+u+"h"+l+"m":e==n.FONT?0!=r?u+"h"+l+"m"+c+"s":0!=a?l+"m"+c+"s":c+"s":0!=r?u+":"+l+":"+c:0!=a?l+":"+c:c},t}();o.TimeDisplay=i;var a=function(){function t(){}return t.sync=function(t,e){this.s_DeltaTime=t-this.localNow(),e&&(this.s_ServerTimeZone=e/3600),this.s_CurTimeZone=0-(new Date).getTimezoneOffset()/60},t.now=function(){return this.localNow()+this.s_DeltaTime},t.leftTime=function(t){return 0==t?0:t-this.now()},t.startTime=function(t){return this.now()-t},t.localNow=function(){return Date.now()},t.isSameDay=function(t,e){var o,n=this.timestamp2DateObj(t);return e||(e=Date.now()),o=this.timestamp2DateObj(e),n.getDate()==o.getDate()},t.getPastTimestamp=function(t){return this.now()-t},t.getTime=function(t){return 864e5*t},t.getPastDayNum=function(t){var e=this.now()-t;return Math.floor(e/1e3/3600/24)},t.getDayTime=function(t,e,o,n){void 0===o&&(o=0),void 0===n&&(n=0);var i=new Date(t);return new Date(i.getFullYear(),i.getMonth(),i.getDate(),e,o,n).getTime()},t.getPastMinutesNum=function(t){return Math.floor(this.getPastSecondNum(t)/60)},t.getPastSecondNum=function(t){var e=this.now()-t;return Math.floor(e/1e3)},t.getLocalDateByTime=function(t){return this.Timestamp2Date(t,this.s_ServerTimeZone,this.s_CurTimeZone)},t.getDateString=function(t){return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},t.getLocalDateByString=function(t){var e=this.timestamp2DateObj(t);return this.Timestamp2Date(e.getTime(),this.s_ServerTimeZone,this.s_CurTimeZone)},t.timestamp2DateObj=function(t){return new Date(t)},t.Timestamp2Date=function(t,e,o){return o||(o=e),new Date(t-36e5*(e-o))},t.NowDate=function(t){return this.Timestamp2Date(this.now(),this.s_CurTimeZone,t)},t.lessThenTime=function(t,e,o,n){if(void 0===o&&(o=0),void 0===n&&(n=0),0==t)return!0;var i=new Date(t),a=new Date(this.now()),r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),e,o,n);return i.getTime()<r.getTime()},t.moreThenTime=function(t,e,o,n){if(void 0===o&&(o=0),void 0===n&&(n=0),0==t)return!0;var i=new Date(t),a=new Date(this.now()),r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),e,o,n);return i.getTime()>r.getTime()},t.isBetween=function(t,e,o){if(0==t)return!1;var n=new Date(t),i=new Date(this.now()),a=new Date(i.getFullYear(),i.getMonth(),i.getDate(),e,0,0),r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),o,0,0);return n.getTime()<=r.getTime()&&n.getTime()>=a.getTime()},t.getLoginDayNum=function(t,e){var o=this.getDayTime(t,e);console.log(" to ",o);var n=this.getDayTime(this.now(),e);return console.log(" t ",n),Math.ceil((n-o+1)/864e5)},t.s_DeltaTime=0,t.s_CurTimeZone=0,t.s_ServerTimeZone=8,t}();o.TimeHelper=a;var r=function(){function t(t,e){void 0===e&&(e=1),this.time=0,this.autoDelete=!1,this.duration=1,this.isPause=!1,this.func=t,this.time=0,this.duration=e}return t.prototype.setTime=function(t){this.time=t},t.prototype.setDuration=function(t){this.duration=t},t.prototype.getDuration=function(){return this.duration},t.prototype.setAutoDelete=function(t){this.autoDelete=t},t.prototype.isAutoDelete=function(){return this.autoDelete},t.prototype.getTime=function(){return this.time},t.prototype.update=function(t){return!this.isPause&&this.check(t)},t.prototype.pause=function(){this.isPause=!0},t.prototype.resume=function(){this.isPause=!1},t.prototype.start=function(){h.instance().add(this)},t.prototype.stop=function(){h.instance().remove(this)},t.prototype.clear=function(){},t}();o.TimeObserver=r;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.temp=0,e.totalTime=0,e}return __extends(e,t),e.prototype.setTime=function(t,e){void 0===e&&(e=!0),this.time=e?Math.floor(a.leftTime(t)/1e3):t,this.totalTime=this.time,this.time<0&&(this.time=0)},e.prototype.getPercent=function(){return 0==this.totalTime?0:(this.totalTime-this.time)/this.totalTime},e.prototype.check=function(t){return!(this.time>0&&(this.temp+=t,this.temp>=this.duration&&(this.temp-=this.duration,this.time-=this.duration,this.time<0&&(this.time=0),this.func&&this.func(this.time)),1))},e}(r);o.CountDownTimer=s;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.temp=0,e}return __extends(e,t),e.prototype.setTime=function(t){this.time=Math.floor(a.startTime(t)/1e3)},e.prototype.check=function(t){return this.temp+=t,this.temp>=this.duration&&(this.temp-=this.duration,this.time+=this.duration,this.func&&this.func(this.time)),!1},e}(r);o.IncrementalTimer=c;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.temp=0,e}return __extends(e,t),e.prototype.check=function(t){return this.temp+=t,this.temp>=this.duration&&(this.temp-=this.duration,this.func&&this.func(this.duration),!0)},e}(r);o.SheduleTimer=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.check=function(t){return this.func(t),!1},e}(r);o.FrameTimer=u;var d=function(t){function e(e,o,n){void 0===n&&(n=1);var i=t.call(this,e,o)||this;return i.index=0,i.temp=0,i.count=0,i.count=n,i}return __extends(e,t),e.prototype.clear=function(){this.index=0,this.temp=0},e.prototype.check=function(t){if(this.temp+=t,this.temp>=this.duration&&(this.temp-=this.duration,this.func))for(var e=0;e<this.count;e++)this.func(this.index++);return!1},e}(r);o.SplitFrameLoader=d;var p,h=function(){function t(){this.totalTime=0,this.observerList=[],this.removes=[],this.running=!0}return t.instance=function(){return this.ins||(this.ins=new this),this.ins},t.prototype.pause=function(){this.running=!1},t.prototype.resume=function(){this.running=!0},t.prototype.reset=function(){this.totalTime=0},t.prototype.add=function(t){this.has(t)>=0||this.observerList.push(t)},t.prototype.has=function(t){return this.observerList.indexOf(t)},t.prototype.remove=function(t){var e=this.has(t);e>=0&&this.observerList.splice(e,1)},t.prototype.getTotalTime=function(){return this.totalTime},t.prototype.update=function(t){if(this.running){this.totalTime+=t;for(var e=0;e<this.observerList.length;e++){var o=this.observerList[e];o.update(t)&&o.isAutoDelete()&&this.removes.push(o)}for(;this.removes.length>0;)this.remove(this.removes.shift())}},t}();o.TimeManager=h,function(t){t[t.INTERVAL=0]="INTERVAL",t[t.TIMEOUT=1]="TIMEOUT"}(p=o.TimeType||(o.TimeType={}));var f=function(){function t(t,e,o){this._id=0,this._type=0,this._duration=0,this._call=null,this._call=t,this._type=o,this._duration=e}return t.prototype.start=function(){switch(this.clear(),this._type){case p.INTERVAL:this._id=setInterval(this.update.bind(this),this._duration);break;case p.TIMEOUT:this._id=setTimeout(this.update.bind(this),this._duration)}},t.prototype.update=function(){this._call()},t.prototype.getID=function(){return this._id},t.prototype.getType=function(){return this._type},t.prototype.clear=function(){switch(this._type){case p.INTERVAL:clearInterval(this._id);break;case p.TIMEOUT:clearTimeout(this._id)}},t}();o.JSTimer=f,cc._RF.pop()},{}],ui:[function(t,e,o){"use strict";cc._RF.push(e,"83ffd70VPtJJq4D4m7o8Ifp","ui"),Object.defineProperty(o,"__esModule",{value:!0}),o.SceneManager=o.UIType=o.UIEvent=void 0;var n,i=t("../engine/engine"),a=t("./event"),r=function(){function t(){}return t.POP_VIEW="UI_POP_VIEW",t}();o.UIEvent=r,function(t){t[t.SINGLE=0]="SINGLE",t[t.STACK=1]="STACK",t[t.QUEUE=2]="QUEUE"}(n=o.UIType||(o.UIType={}));var s=function(){function t(t,e,o){void 0===e&&(e=1),void 0===o&&(o=!0),this.uiType=n.SINGLE,this.popFlag=!1,this.zOrder=1,this.list=[],this.uiType=t,this.zOrder=e,this.popFlag=o}return t.prototype.init=function(t){this.root=t},t.prototype.setZOrder=function(t){this.zOrder=t},t.prototype.getZOrder=function(){return this.zOrder},t.prototype.canPop=function(){return this.popFlag},t.prototype.isValid=function(){return i.engine.isValid(this.root)},t.prototype.count=function(){return this.list.length},t.prototype.setVisible=function(t){for(var e=0;e<this.list.length;e++)this.list[e].setVisible(t)},t.prototype.has=function(t){for(var e=0;e<this.list.length;e++)if(t===this.list[e])return!0;return!1},t.prototype.hasView=function(t){for(var e=0;e<this.list.length;e++){var o=this.list[e];if(o&&t==o.getName())return!0}return!1},t.prototype.hasViewByPath=function(t){for(var e=0;e<this.list.length;e++){var o=this.list[e];if(o&&t==o.getPath())return!0}return!1},t.prototype.remove=function(t){for(var e=0;e<this.list.length;e++){var o=this.list[e];if(t==o.getName()){this.list.splice(e,1),o.exit();break}}},t.prototype.pushView=function(t){switch(this.uiType){case n.STACK:this.list.push(t),this.show(t);break;case n.QUEUE:this.list.push(t),1==this.list.length&&this.show(t);break;case n.SINGLE:this.popView(null),this.list.push(t),this.show(t)}},t.prototype.popView=function(t){switch(this.uiType){case n.STACK:return t?this.removeView(t):this.list.length>0&&(this.list.pop().exit(),!0);case n.QUEUE:if(t){console.log("this.list.length 222 ",this.list.length);var e=this.removeView(t);return this.list.length>0&&this.show(this.list[0]),e}return console.log("this.list.length 111 ",this.list.length),this.list.length>0&&(this.list.shift().exit(),this.list.length>0&&this.show(this.list[0]),!0);case n.SINGLE:return this.list.length>0&&(this.list.shift().exit(),!0)}},t.prototype.show=function(t){t.setOrder(this.zOrder),this.root.addChild(t.getNode())},t.prototype.removeView=function(t){var e=this.list.indexOf(t);return e>=0&&(this.list.splice(e,1),t.exit(),!0)},t.prototype.addView=function(t){this.list.push(t)},t.prototype.clear=function(){for(var t=0;t<this.list.length;t++)this.list[t].exit();this.list.length=0},t}(),c=function(t){function e(){var e=t.call(this)||this;return e.managers=[],e.managers=[],e}return __extends(e,t),e.instance=function(){return this.ins||(this.ins=new this),this.ins},e.prototype.getRoot=function(){return this.root},e.prototype.setVisible=function(t,e){this.managers[t].setVisible(e)},e.prototype.init=function(t,e){this.managers=[],this.root=t;for(var o=0;o<e.length;o++){var n=e[o],i=new s(n.uiType,n.zIndex,n.canPop);this.setManager(o,i)}},e.prototype.setManager=function(t,e){this.managers[t]=e,this.managers[t].init(this.root)},e.prototype.removeView=function(t,e){var o=this.managers[e];o&&o.remove(t)},e.prototype.clear=function(){for(var t=this.managers.length-1;t>=0;t--)this.managers[t].clear()},e.prototype.popAll=function(){for(var t=this.managers.length-1;t>=1;t--)this.managers[t].clear()},e.prototype.addView=function(t,e){if(t){var o=this.managers[e];if(!o)return void console.log(" manager is null ",t);o.isValid()&&o.addView(t)}},e.prototype.pushView=function(t){if(t){var e=t.getUIIndex(),o=this.managers[e];if(!o)return void console.log(" manager is null ",t);o.isValid()&&(o.pushView(t),this.getOpenUICount())}},e.prototype.hasView=function(t,e){var o=this.managers[e];return!!o&&o.hasView(t)},e.prototype.hasViewByPath=function(t,e){var o=this.managers[e];return!!o&&o.hasViewByPath(t)},e.prototype.popView=function(t){if(t){var e=t.getUIIndex(),o=this.managers[e];o&&o.popView(t)}else for(e=this.managers.length-1;e>=0;e--){var n=this.managers[e];if(n.canPop()&&n.count()>0&&n.popView(null))break}this.emit(r.POP_VIEW,this.getOpenUICount())},e.prototype.getOpenUICount=function(){for(var t=0,e=this.managers.length-1;e>=0;e--){var o=this.managers[e];o.canPop()&&(t+=o.count())}return t},e}(a.EventDispatcher);o.default=c;var l=function(){function t(){this.isLoading=!1,this.sceneName="",this.managers=[]}return t.instance=function(){return this.ins||(this.ins=new this),this.ins},t.prototype.init=function(t,e,o){void 0===o&&(o=0),this.managers[o]||(this.managers[o]=new c,this.managers[o].init(t,e))},t.prototype.pushView=function(t,e){t&&this.managers[e]&&this.managers[e].pushView(t)},t.prototype.hasView=function(t,e,o){t&&this.managers[o]&&this.managers[o].hasView(t,e)},t.prototype.popView=function(t,e){void 0===e&&(e=0),this.managers[e]&&this.managers[e].popView(t)},t.prototype.clear=function(t){void 0===t&&(t=0),this.managers[t]&&this.managers[t].clear()},t.prototype.getSceneName=function(){return this.sceneName},t.prototype.runScene=function(t,e,o){void 0===o&&(o=0);var n=t.scene,a=i.engine.getChildByName(n,"Canvas");a&&this.init(a,e,o),i.engine.runScene(n)},t.prototype.loadScene=function(t,e,o,n){var a=this;void 0===n&&(n=0),this.isLoading||(this.isLoading=!0,i.engine.loadScene(t,function(i,r){if(a.isLoading=!1,i)console.log("enterScene  error  ",i);else{var s=r.getChildByName("Canvas");s?(a.init(s,o,n),e(null,s)):e("UIManager enterScene error component is null "+t)}}))},t}();o.SceneManager=l,cc._RF.pop()},{"../engine/engine":"engine","./event":"event"}],unity:[function(t,e,o){"use strict";cc._RF.push(e,"a3926KtOO9JPL6X4rPfwi5n","unity"),Object.defineProperty(o,"__esModule",{value:!0}),o.Vector3=o.Vector2=o.ISize=o.IRect=void 0;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(cc.Rect);o.IRect=n;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(cc.Size);o.ISize=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(cc.Vec2);o.Vector2=a;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(cc.Vec3);o.Vector3=r,cc._RF.pop()},{}],view:[function(t,e,o){"use strict";cc._RF.push(e,"2966aO+rpNL1bNXwoEsDfgh","view"),Object.defineProperty(o,"__esModule",{value:!0}),o.BaseItemView=o.BaseView=void 0;var n=t("./event"),i=t("./ui"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=null,e.controller=null,e.eventProxy=new n.EventProxy,e.gEventProxy=new n.GEventProxy,e.uiState=0,e.path="",e}return __extends(e,t),e.prototype.setPath=function(t){this.path=t},e.prototype.getPath=function(){return this.path},e.prototype.setModel=function(t){this.model&&this.eventProxy.offAll(),this.model=t,this.model&&(this.eventProxy.setDispatcher(this.model),this.addListener())},e.prototype.getModel=function(){return this.model},e.prototype.setController=function(t){this.controller=t},e.prototype.getController=function(){return this.controller},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.eventProxy.offAll(),this.gEventProxy.offAll()},e.prototype.addListener=function(){},e.prototype.show=function(){i.default.instance().pushView(this)},e.prototype.hide=function(){i.default.instance().popView(this)},e.prototype.close=function(){i.default.instance().popView(this)},e.prototype.getID=function(){return this.model?this.model.getID():0},e}(t("../engine/EngineView").default);o.BaseView=a;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e}return __extends(e,t),e.prototype.setIndex=function(t){this.index=t},e.prototype.getIndex=function(){return this.index},e}(a);o.BaseItemView=r,cc._RF.pop()},{"../engine/EngineView":"EngineView","./event":"event","./ui":"ui"}],xlsx:[function(t,e,o){"use strict";cc._RF.push(e,"537f1T9vjpCT58f/whaEMhH","xlsx"),Object.defineProperty(o,"__esModule",{value:!0}),o.XlsxData=o.XlsxDataManager=o.XlsxType=void 0;var n,i=t("./tools/Base64zh");(function(t){t[t.DATA=0]="DATA",t[t.TEMPLATE=1]="TEMPLATE",t[t.LANG=2]="LANG"})(n=o.XlsxType||(o.XlsxType={}));var a=function(){function t(){this.dataMap={}}return t.instance=function(){return this.ins||(this.ins=new this),this.ins},t.prototype.addFile=function(t,e){if(t){var o=t.json?t.json:t;if((o=o.isEncode?this.decode(o.data):o.data).type==n.TEMPLATE){var i=o.data;for(var a in i)this.dataMap[a]=new r(i[a])}else if(e){if(a=e,e.indexOf("/")>=0){var s=e.split("/");a=s[s.length-1]}this.dataMap[a]=new r(o)}else console.error("\u4e0d\u662f\u5408\u6210\u8868\uff0cfileName \u4e0d\u80fd\u4e3a\u7a7a ")}},t.prototype.decode=function(t){var e=i.default.decode(t);return JSON.parse(e)},t.prototype.get=function(t){var e=t;return t.indexOf("/")>=0&&(e=t.match(/\/(\S*)\./)[1]),this.dataMap[e]||(console.error(" config error get fileName ",t,e),null)},t.prototype.getKey=function(t){if(!(t.indexOf("/")>=0))return t;t.split("/").length},t.prototype.clear=function(){this.dataMap={}},t}();o.XlsxDataManager=a;var r=function(){function t(t){this.data=null,this.keys=null,this.index=null,this.type=n.DATA,t&&this.initWithJson(t)}return t.prototype.initWithJson=function(t){this.data=t.data,this.type=t.type,this.nameList=t.nameList,this.typeList=t.typeList,this.dbList=t.dbList,this.type==n.DATA&&(this.keys=t.key,this.index=t.index)},t.prototype.getName=function(t){return this.nameList[t]},t.prototype.getType=function(t){return this.typeList[t]},t.prototype.getDBName=function(t){return this.dbList[t]},t.prototype.size=function(){return this.data.length},t.prototype.getData=function(){return this.data},t.prototype.getKeys=function(){return this.keys},t.prototype.forEach=function(t){for(var e in this.keys)if(this.keys.hasOwnProperty(e)){var o=this.keys[e];t(e,this.data[o])}},t.prototype.getRowData=function(t){t=""+t;var e=this.data[this.keys[t]];return null==e&&console.warn(" getRowData is null ",t),e},t.prototype.getValue=function(t,e){if(t=""+t,this.type==n.DATA&&null!=e){var o=this.keys[t];if(o>=0){var i=this.data[o];return i&&i.length>e?i[e]:null}return console.warn(" dIndex is wrong ",o," id is ",t," index ",e),null}return this.data[t]},t.prototype.copyValue=function(t,e){var o=[],n=this.getValue(t,e);if(n)for(var i=0;i<n.length;i++){var a=n[i];o.push(a)}return o},t.prototype.getIndex=function(t){var e=""+t;return this.index[e]},t.prototype.getIndexByID=function(t,e){var o=""+t;return this.index[o]&&this.index[o][e]?this.index[o][e]:[]},t.prototype.copyIndex=function(t,e){var o=[],n=this.getIndexByID(t,e);if(n)for(var i=0;i<n.length;i++){var a=n[i];o.push(a)}return o},t}();o.XlsxData=r,cc._RF.pop()},{"./tools/Base64zh":"Base64zh"}],zs_xm_sdk:[function(t,e,o){"use strict";cc._RF.push(e,"9efdbukwb1HxaKv3Pb2Aana","zs_xm_sdk"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./lc_sdk"),i=t("../sdk/SDKHelper"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.loadCfg=function(t,e){i.default.sendHttpRequest("https://pla18.com/api/list_config/index?apk_id="+this.appId,"",function(o,n){o?e(o):t(n)})},e}(n.default);o.default=a,cc._RF.pop()},{"../sdk/SDKHelper":"SDKHelper","./lc_sdk":"lc_sdk"}]},{},["Main","ai","animation","astar","attribute","audio","cfw","collide","core","event","NodeInterface","local","model","module","GameMap","GridMap","GroundManager","MoveCamera","MoveCollide","MoveConfig","MoveLayer","MoveMap","MoveObject","MoveSystem","PhysicalManager","mvc","pool","res","state","storage","struct","time","Base64","Base64zh","Debug","Define","HTTP","LangManager","LocalRW","Singleton","StorageHelper","Utils","ViewManager","ui","view","ButtonDuration","IRadioButton","RadioButtonMgr","xlsx","TweenMgr","AdaptBg","AdaptUI","ccpool","ButtonSoundComp","ChangeScale","MoveOut","MoveRight","Rotation360","ScaleComp","ScaleForever","SetFuncVisible","SingleScaleForever","UISoundComp","UILangComp","UIText","GridLayerListView","GridListView","LayerMgr","config","Config","GameText","ModuleConfig","TestConfig","UIConfig","UmengEventID","Component3D","EngineHelper","EngineView","MusicManager","ResHelper","SoundManager","engine","unity","CustomButton","DialogItemModel","DialogMgr","DialogItemView","DialogView","CloseGameTip","GameTipMgr","GameTipModel","GameTipView","EventCheckPoint","EventUIVisible","GameEventAdapter","GameEventConfig","EventCheckItemModel","EventDelegate","EventItemModel","EventManager","GeventMgr","OperateFactory","OperateObserver","GameEventView","DMaskNode","GuideEventLogic","GuideEventName","GuideID","GuideMgr","GuidePoint","GuideView","RedTipMgr","RedTipPoint","RedTipView","ItemCondition","NewBuildItem","NewSceneC","NewSceneView","ActivityC","ActivityItemModel","ActivityMgr","OfflineView","OnlineButton","OnlineLightEffect","OnlineView","BoxPopC","BoxPopItemModel","BoxpopMgr","BoxPopButton","BoxPopItemView","BoxPopView","BuyC","BuyItemModel","BuyMgr","BuyPerson","BuyBuildTipView","BuyFoodItemView","BuyItemView","BuyPropFoodItemView","BuyPropView","BuyTaskItemView","BuyView","AutoShowVideo","CrazyClickButton","CrazyClickC","CrazyClickView","DailyTaskC","DailyTaskItemModel","DailyTaskMgr","DailyTaskButton","DailyTaskItemView","DailyTaskView","GameC","FoodItemModel","FoodMgr","FoodRareItemModel","FoodTypeModel","GameManager","GridFoodItemModel","GridFoodMgr","GridItemModel","CardView","FoodInfoItemView","FoodInfoView","FoodItemView","GameBottomView","GameView","GridItemView","SelectFoodItemView","SelectFoodView","GiftBoxC","GiftBoxView","ItemC","BuyTokenModel","ItemMgr","ItemModel","BuyEnergyView","BuyTokenView","EnergyNumView","ItemFlyAnim","ItemView","MoneyView","LevelC","LevelItemModel","LevelMgr","LevelComp","LevelView","LobbyC","LobbyView","SceneVisible","LoginC","LoginView","LuckySpinC","LuckySpinItemModel","LuckyspinMgr","LuckySpinButton","LuckySpinView","MarketC","BaseMarketItemModel","MarketItemModel","MarketItemModel2","MarketMgr","MarketTypeModel","MarketFoodItemView","MarketItemView","MarketItemView0","MarketItemView1","MarketItemView2","MarketTypeView","MarketView","PersonItemModel","PersonMgr","PersonItemView","BagManager","LoadingC","LoadingView","FoodMediator","RandomItemModel","RandomMgr","RandomWeightModel","TipC","TipModel","ToastModel","TipView","ToastView","SceneC","BuildItemModel","SceneItemModel","SceneMgr","BuildItemView","BuildSelectView","BuildTagView","FingerManager","SceneView","SoundC","SoundItemModel","SoundMgr","SettingView","SpecialTaskC","SpecialTaskItemModel","SpecialtaskMgr","SpecialBuyView","SpecialTaskButton","SpecialTaskItemView","SpecialTaskView","CombatC","CombatView","StartC","StartView","SCC","SCView","StorageC","StorageItemModel","StorageMgr","StorageItemView","StorageLineItemView","StorageView","TaskC","TaskItemModel","TaskMgr","TaskBuildProgress","TaskPropItemView","TaskView","User","WeeklyC","WeeklyItemModel","WeeklyMgr","WeeklyItemView","WeeklyRewardView","MergeEngin","SDKData","PrivacyC","PrivacyMgr","Agreement","TestEmail","PrivacyButton","PrivacyItemView","PrivacyPopView","PrivacyView","BaseHelper","CMgr","ChannelEvent","ChannelUtils","DevHelper","F399Helper","GameItemModel","KSHelper","MiMoHelper","OppoHelper","QQHelper","TTHelper","VivoHelper","WXHelper","ZSGameItemModel","CanMultyAdView","F399","InsertAdMgr","MoreGameButton","ShowBannerAd","ShowBlockAd","ShowCustomAd","ShowInsertAd","ShowPauseInsertAd","TrackEvent","VersionLabel","InstallAppC","InstallAppView","lc_sdk","zs_xm_sdk","DelayShow","MoreGameC","MoreGameView","OVNativeAdC","OVNativeAdMgr","BannerComp","NativeAdItemView","NativeAdState","NativeAdView","NativeBannerAdView","NativeButtonJump","NativeButtonNext","NativeButtonX","NativeHideBanner","NativeSlideError","NormalShareC","RecorderC","RecorderComp","RecorderView","ShareComp","ShareController","G4399Channel","G4399RewardAd","G4399Share","SDKConfig","SDKHelper","SDKManager","BaseAd","BaseBannerAd","BaseBlockAd","BaseChannel","BaseCustomAd","BaseInsertAd","BaseLogin","BaseNativeAd","BaseNativeAdItemModel","BaseRecorder","BaseRewardAd","BaseSDK","BaseScreenshot","BaseShare","BaseSubPackage","SDKFileSystemManager","CocosBannerAd","CocosChannel","CocosFileSystem","CocosInsertAd","CocosRewardAd","CSJBannerAd","CSJChannel","CSJInsertAd","CSJRewardAd","DevChannel","GoogleBannerAd","GoogleChannel","GoogleInsertAd","GoogleRewardAd","KSChannel","KSInsertAd","KSRecorder","KSRewardAd","KSShare","KwaiChannel","KwaiRewardAd","MiMoBannerAd","MiMoChannel","MiMoCustomAd","MiMoInsertAd","MiMoLogin","MiMoNativeAd","MiMoRewardAd","MiMoSelfRenderAd","CocosJsNativeBridge","JsNativeBridge","LayaJsNativeBridge","NativeAgreement","NativeFileSystem","NativeName","NativeSystem","NativeAd","NativeBannerAd","NativeInterstitialAd","NativeNativeAd","NativeRewardedVideoAd","NativeSelftRenderAd","NativeTemplateAd","native","GamePortalAd","OppoBannerAd","OppoChannel","OppoFileSystem","OppoInsertAd","OppoNativeAd","OppoNativeAdItemModel","OppoRewardAd","OppoScreenshot","QQAppBoxAd","QQBannerAd","QQBlockAd","QQChannel","QQChannel2","QQInsertAd","QQRewardAd","QQScreenshot","QQShare","SwanBannerAd","SwanChannel","SwanRewardAd","SwanScreenshot","SDKEventID","UmaEvent","BannerIDMgr","BindFunction","SDKEvent","SDKEventDispatcher","SdkEventList","TTBannerAd","TTChannel","TTInsertAd","TTLogin","TTRecorder","TTRewardAd","TTScreenshot","TTShare","ViGooChannel","ViGooInsertAd","ViGooRewardAd","VIvoInsertAd","VivoBannerAd","VivoBoxBannerAd","VivoBoxPortalAd","VivoChannel","VivoCustomAd","VivoFileSystem","VivoNativeAd","VivoNativeAdItemModel","VivoRewardAd","VivoScreenshot","WXBannerAd","WXChannel","WXCustomAd","WXFileSystem","WXInsertAd","WXRewardAd","WXScreenshot","WXShare","WXlogin"]);